{"version":3,"sources":["App/Menu/Menu.module.scss","App/PitchLabel/PitchLabel.module.scss","App/ChordLabel/ChordLabel.module.scss","App/Display/Display.module.scss","App/TouchPad/TouchPad.module.scss","App/Display/canvas.js","util/math.js","util/music.js","util/findInterval.js","constants.js","App/Display/Display.js","App/Menu/Menu.js","App/PitchLabel/PitchLabel.js","App/ChordLabel/ChordLabel.js","App/TouchPad/TouchPad.js","App/ResizeListener/ResizeListener.js","App/FirstTouch/FirstTouch.js","util/findPitchSkipOptions.js","util/findPitchNames.js","util/shepardTone.js","util/transposeFrequency.js","util/findBaseFrequencies.js","util/findPitchSequence.js","util/sortPitchNames.js","App/App.js","util/findChordNames.js","reportWebVitals.js","index.js","App/App.module.scss"],"names":["module","exports","rotate","angle","x","y","ctx","func","cos","Math","sin","dx","dy","call","Canvas","element","document","createElement","width","offsetWidth","height","offsetHeight","devicePixelRatio","window","resize","isMounted","_element","parentNode","_width","_height","_devicePixelRatio","_imageDataHandler","_context","scale","arc","radius","startAngle","endAngle","PI","anticlockwise","beginPath","bezierCurveTo","clearRect","clip","closePath","drawImage","source","sx","sy","sWidth","sHeight","dWidth","dHeight","isCanvas","_drawImageDest","fill","fillRect","lineTo","moveTo","quadraticCurveTo","rect","stroke","resetTransform","restore","transform","save","setRotate","setTransform","xScale","xSkew","ySkew","yScale","setTranslate","translate","createImageData","imageDataOrWidth","this","getContext","str","fillStyle","globalCompositeOperation","num","globalAlpha","lineWidth","strokeStyle","points","lastPoint","nextPoint","path","Path2D","length","i","avgX","avgY","toRadianDirection","degrees","radians","toRadians","circ","offset","modulo","toDegreeDirection","toDegrees","MAX_FREQ","SEMITONES","A4","415","427","428","429","430","430.54","432","435","439","440","452","466","DEFAULT","fRoot","fComparison","fA","fB","cents","log2","abs","PITCH_NAMES","MODES","name","chords","OSCILLATOR_TYPES","flipRadiansVertically","atan2","Display","props","_rootNode","React","createRef","current","diameter","_root","_buffer","undefined","_drawSlices","prevProps","prevState","_connectPitches","className","classnames","styles","root","ref","activePitches","pitchSequence","mode","semitones","halfSlice","colors","findColors","color","isActive","indexOf","isInKey","fillSlice","baseFrequencies","pitchA","degreesA","frequencyA","j","pitchB","degreesB","frequencyB","colorA","colorB","connectPitches","Component","canvas","startRadians","endRadians","outerRadius","holeRadius","center","isCircle","r","g","b","buttonSlice","push","directionalColor","direction","colorSlice","cosR","cosG","cosB","round","radianA","radianB","pointA","pointB","interval","findInterval","xDiff","yDiff","diff","sqrt","pow","radiusA","radiusB","centerX","centerY","findIncrementLabel","increment","String","Menu","a4","setA4","eq","setEq","setMode","oscillator","setOscillator","pitchSkip","setPitchSkip","setSemitones","transposition","setTransposition","pitchSkipOptions","onOscillatorChange","value","target","onEQChange","index","values","property","title","label","input","type","checked","onChange","labelText","verticalRangeHolderHolder","map","verticalRangeHolder","verticalRange","min","max","step","bind","parseInt","modeObj","PitchLabel","pitchNamesSorted","transformOrigin","isSmall","button","small","style","ChordLabel","chordNamesSorted","TouchPad","callback","rootNode","useRef","anyTouch","evt","targetTouches","getBoundingClientRect","pitches","clientX","clientY","floor","onTouchMove","onTouchStart","onTouchEnd","onTouchCancel","PLACEHOLDER_WINDOW","addEventListener","innerHeight","innerWidth","removeEventListener","ResizeListener","children","win","useState","setInnerHeight","setInnerWidth","onResize","useEffect","propTypes","PropTypes","isRequired","object","FirstTouch","component","rest","hasCalledCallback","onClick","increments","findIncrementsOfSemitone","Array","keys","semitoneIndexes","semitoneIndex","frequencies","currentOscillators","audioCtx","gainNode","nameIndexFloat","nameIndex","prefix","remainder","slice","frequency","rootFrequency","transposeFrequency","sequence","pitchNames","pitchName","initializaAudio","close","AudioContext","webkitAudioContext","createGain","connect","destination","gain","findAudibleOctaves","toggleNote","note","isPlaying","oscillators","createOscillator","start","startNote","stop","stopNote","changeParams","urlParams","history","pushState","location","origin","pathname","queryString","stringify","arrayFormat","useHook","key","def","isEqual","hook","App","parse","search","parseNumbers","findPitchNames","setPitchNames","findPitchSkipOptions","setPitchSkipOptions","_ps","_eq","setRootFrequency","findBaseFrequencies","setBaseFrequencies","findPitchSequence","setPitchSequence","sortPitchNames","setPitchNamesSorted","setChordNamesSorted","chordNames","modeIndex","findChordNames","setActivePitches","isMenuOpen","setMenuOpen","onTouchCallback","contentHolder","smallest","wheelHolder","menuHolder","menuButton","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.24a56330.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Menu_root__3QA5H\",\"property\":\"Menu_property__qoOWz\",\"title\":\"Menu_title__tE_9H\",\"label\":\"Menu_label__3hKMT\",\"labelText\":\"Menu_labelText__2uoMn\",\"input\":\"Menu_input__17q9X\",\"verticalRangeHolderHolder\":\"Menu_verticalRangeHolderHolder__2cLy8\",\"verticalRangeHolder\":\"Menu_verticalRangeHolder__2TdXL\",\"verticalRange\":\"Menu_verticalRange__3aZoM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PitchLabel_root__3-xxj\",\"button\":\"PitchLabel_button__29U3k\",\"small\":\"PitchLabel_small__3x-Zk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ChordLabel_root__U_GCi\",\"button\":\"ChordLabel_button__3bTYZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Display_root__ig8ld\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TouchPad_root__22wzt\"};","// import ImageDataHandler from './image-data-handler';\n\nfunction rotate(angle, x, y, ctx, func) {\n  const cos = Math.cos(angle);\n  const sin = Math.sin(angle);\n  const dx = x - cos * x - sin * -y;\n  const dy = y - sin * x - cos * y;\n  func.call(ctx, cos, sin, -sin, cos, dx, dy);\n}\n\n/**\n* a helper for canvas manipulation, to store a reference to the element as well as it's context.\nalso adds some helpful method defaults. also has some drawing utilities.\n* @param {HTMLCanvasElement} [element = document.createElement('canvas')] - put HTMLCanvasElement if this is your\n* final render canvas\n* @param {Integer} [width = element.offsetWidth] - width of area\n* @param {Integer} [height = element.offsetHeight] - height of area\n* @param {Float} [devicePixelRatio = window.devicePixelRatio] - actual pixels to css pixel\n*/\nexport default class Canvas {\n  /* *******************\n  * initializing methods\n  *********************/\n\n  constructor(element = document.createElement('canvas'), width = element.offsetWidth, height = element.offsetHeight, devicePixelRatio = window.devicePixelRatio) { // eslint-disable-line max-len\n    this._element = element;\n    this._context = this._element.getContext('2d');\n    this.resize(width, height, devicePixelRatio);\n  }\n\n  /**\n    * sets width/height properties as well as scaling\n    * @param {Integer} [width = this.width] - width of area of canvas\n    * @param {Integer} [height = this.height] - height of area of canvas\n    * @param {Float} [devicePixelRatio = window.devicePixelRatio] - actual pixels to css pixel\n    * @returns {void}\n  */\n  // eslint-disable complexity\n  resize = (width, height, devicePixelRatio = window.devicePixelRatio) => {\n    // allow for case to call with no params when devicePixelRatio is changed\n    // allow for case to call with no params when dom element is resized\n    // otherwise width and height are defined\n    // this method will erase the canvas and reset any clipping, fillStyle, lineWidth, strokeStyle, etc...\n    if (!width || !height) {\n      const isMounted = !!this._element.parentNode;\n      width = isMounted ? this._element.offsetWidth : this._width;\n      height = isMounted ? this._element.offsetHeight : this._height;\n    }\n    this._devicePixelRatio = devicePixelRatio;\n    this._width = width;\n    this._height = height;\n    this._element.width = width * this._devicePixelRatio;\n    this._element.height = height * this._devicePixelRatio;\n    this._imageDataHandler = null;\n    this._context.scale(this._devicePixelRatio, this._devicePixelRatio);\n  }\n  // eslint-enable complexity\n\n  /* ******\n  * getters\n  ********/\n\n  /**\n    * get the instance's HTMLCanvasElement\n    * @readonly\n    * @type {HTMLCanvasElement}\n  */\n  get element() {\n    return this._element;\n  }\n\n  /**\n    * get the instance's height\n    * @readonly\n    * @type {Integer}\n  */\n  get height() {\n    return this._height;\n  }\n\n  /**\n    * get the instance's ImageDataHandler reflecting the current state\n    * @readonly\n    * @type {ImageDataHandler}\n  */\n  get imageDataHandler() {\n    if (!this._imageDataHandler) {\n      const width = this._width * this._devicePixelRatio;\n      const height = this._height * this._devicePixelRatio;\n      // this._imageDataHandler = new ImageDataHandler(this._context, 0, 0, width, height);\n    }\n    return this._imageDataHandler;\n  }\n\n  /**\n    * get the instance's width\n    * @readonly\n    * @type {Integer}\n  */\n  get width() {\n    return this._width;\n  }\n\n  /* ******\n  * setters\n  ********/\n\n  /**\n    * set the fill color of the context.\n    * @param {String} str - new value for fillStyle\n    * @type {String}\n  */\n  set fillStyle(str) {\n    this._context.fillStyle = str;\n  }\n\n  /**\n    * set the globalCompositeOperation of the context.\n    * @param {String} str - new value for globalCompositeOperation\n    * @type {String}\n  */\n  set globalCompositeOperation(str) {\n    this._context.globalCompositeOperation = str;\n  }\n\n  /**\n    * set the alpha the context.\n    * @param {Float} num - new value for globalAlpha\n    * @type {Float}\n  */\n  set globalAlpha(num) {\n    this._context.globalAlpha = num;\n  }\n\n  /**\n    * set the stroke width of the context.\n    * @param {Float} num - new value for lineWidth\n    * @type {Float}\n  */\n  set lineWidth(num) {\n    this._context.lineWidth = num;\n  }\n\n  /**\n    * sets the stroke color of the context.\n    * @param {String} str - new value for strokeStyle\n    * @type {String}\n  */\n  set strokeStyle(str) {\n    this._context.strokeStyle = str;\n  }\n\n  /* **************\n  * drawing methods\n  ****************/\n\n  /**\n    * draws an arc on the context\n    * @param {Float} x - center point's x position\n    * @param {Float} y - center point's y position\n    * @param {Float} radius - arc's radius\n    * @param {Float} [startAngle = 0] - angle to begin arc\n    * @param {Float} [endAngle = Math.PI * 2] - angle to end arc\n    * @param {Boolean} [anticlockwise = false] - draws anticlockwise if true\n    * @returns {void}\n  */\n  arc = (x, y, radius, startAngle = 0, endAngle = Math.PI * 2, anticlockwise = false) => {\n    this._context.arc(x, y, radius, startAngle, endAngle, anticlockwise);\n  }\n\n  /**\n    * begins a drawing path on the context\n    * @returns {void}\n  */\n  beginPath = () => {\n    this._context.beginPath();\n  }\n\n  /**\n    * draws an bezier curve on the context\n    * @returns {void}\n  */\n  bezierCurveTo = (...args) => {\n    this._context.bezierCurveTo(...args);\n  }\n\n  /**\n    * clears a rectangle on the context. also nulls the _imageDataHandler value if one exists.\n    * @param {Float} [x = 0] - rectangle's x position\n    * @param {Float} [y = 0] - rectangle's y position\n    * @param {Float} [width = this.width] - rectangle's width\n    * @param {Float} [height = this.height] - rectangle's height\n    * @returns {void}\n  */\n  clearRect = (x = 0, y = 0, width = this.width, height = this.height) => {\n    this._context.clearRect(x, y, width, height);\n    this._imageDataHandler = null;\n  }\n\n  /**\n    * creates a clipping path on the context for future drawing calls.\n    * @returns {void}\n  */\n  clip = (...args) => {\n    this._context.clip(...args);\n  }\n\n  /**\n    * closes a path on the context\n    * @returns {void}\n  */\n  closePath = () => {\n    this._context.closePath();\n  }\n\n  // eslint-disable valid-jsdoc\n  /**\n    * draws an Image or canvas element into the context. also nulls the _imageDataHandler value if one exists.\n    * method overloading to reflect CanvasRenderingContext2D.drawImage.\n    * @param {Canvas|Image|HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} source - where to take pixels from\n    * @param {Float} [dx = 0] - x coordinate of source's destination\n    * @param {Float} [dy = 0] - y coordinate of source's destination\n    * @param {Float} [dWidth = image.width] - width of destination\n    * @param {Float} [dHeight = image.height] - height of destination\n    * @returns {void}\n  */\n  /**\n    * draws an Image or canvas element into the context. also nulls the _imageDataHandler value if one exists.\n    * method overloading to reflect CanvasRenderingContext2D.drawImage.\n    * @param {Canvas|Image|HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} source - where to take pixels from\n    * @param {Float} sx - x coordinate of where to pull from source\n    * @param {Float} sy - y coordinate of where to pull from source\n    * @param {Float} sWidth - width of area to pull from source\n    * @param {Float} sHeight - height of area to pull from source\n    * @param {Float} dx - x coordinate of source's destination\n    * @param {Float} dy - y coordinate of source's destination\n    * @param {Float} dWidth - width of destination\n    * @param {Float} dHeight - height of destination\n    * @returns {void}\n  */\n  drawImage = (source, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight) => { // eslint-disable-line max-params\n    // sx, sy, sWidth, sHeight on images do not get scaled against devicePixelRatio\n    const hasSource = typeof dx === 'number';\n    const isCanvas = source instanceof Canvas;\n    if (hasSource) {\n      if (isCanvas) {\n        sx *= this._devicePixelRatio;\n        sy *= this._devicePixelRatio;\n        sWidth *= this._devicePixelRatio;\n        sHeight *= this._devicePixelRatio;\n        this._context.drawImage(source.element, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\n      } else {\n        this._context.drawImage(source, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\n      }\n    } else if (isCanvas) {\n      sWidth = sWidth || source.width;\n      sHeight = sHeight || source.height;\n      this._drawImageDest(source.element, sx, sy, sWidth, sHeight);\n    } else {\n      this._drawImageDest(source, sx, sy, sWidth, sHeight);\n    }\n    this._imageDataHandler = null;\n  }\n  // eslint-enable valid-jsdoc\n\n  _drawImageDest = (source, dx = 0, dy = 0, dWidth = source.width, dHeight = source.height) => {\n    this._context.drawImage(source, dx, dy, dWidth, dHeight);\n  }\n\n  /**\n    * fills a path on the context. also nulls the _imageDataHandler value if one exists.\n    * @returns {void}\n  */\n  fill = (...args) => {\n    this._context.fill(...args);\n    this._imageDataHandler = null;\n  }\n\n  /**\n    * draws a filled rectangle on the context. also nulls the _imageDataHandler value if one exists.\n    * @param {Float} [x = 0] - rectangle's x position\n    * @param {Float} [y = 0] - rectangle's y position\n    * @param {Float} [width = this.width] - rectangle's width\n    * @param {Float} [height = this.height] - rectangle's height\n    * @returns {void}\n  */\n  fillRect = (x = 0, y = 0, width = this.width, height = this.height) => {\n    this._context.fillRect(x, y, width, height);\n    this._imageDataHandler = null;\n  }\n\n  /**\n    * draws a line to a point on the context.\n    * @returns {void}\n  */\n  lineTo = (...args) => {\n    this._context.lineTo(...args);\n  }\n\n  /**\n    * moves to a point on the context.\n    * @returns {void}\n  */\n  moveTo = (...args) => {\n    this._context.moveTo(...args);\n  }\n\n  /**\n    * draws a quadratic curve to a point on the context.\n    * @returns {void}\n  */\n  quadraticCurveTo = (...args) => {\n    this._context.quadraticCurveTo(...args);\n  }\n\n  /**\n    * draws a rectangle on the context.\n    * @param {Float} [x = 0] - rectangle's x position\n    * @param {Float} [y = 0] - rectangle's y position\n    * @param {Float} [width = this.width] - rectangle's width\n    * @param {Float} [height = this.height] - rectangle's height\n    * @returns {void}\n  */\n  rect = (x = 0, y = 0, width = this.width, height = this.height) => {\n    this._context.rect(x, y, width, height);\n  }\n\n  // scale: no scale method! use resize instead!\n\n  /**\n    * strokes the context's current path.\n    * @returns {void}\n  */\n  stroke = (...args) => {\n    this._context.stroke(...args);\n    this._imageDataHandler = null;\n  }\n\n  /* *********************\n  * transformation methods\n  ***********************/\n\n  /**\n    * resets all transforms on the context to zero.\n    * @returns {void}\n  */\n  resetTransform = () => {\n    this._context.resetTransform();\n    // if canvas was scaled it would otherwise be undone\n    this._context.scale(this._devicePixelRatio, this._devicePixelRatio);\n  }\n\n  /**\n    * restores context to a saved state of popped off of a stack.\n    * @returns {void}\n  */\n  restore = () => {\n    this._context.restore();\n  }\n\n  /**\n    * cumulatively rotates the context around x/y coordinates.\n    * @param {Float} angle - amount to rotate\n    * @param {Float} [x = this.width / 2] - center x position\n    * @param {Float} [y = this.height / 2] - center y position\n    * @returns {void}\n  */\n  rotate = (angle, x = 0.5 * this.width, y = 0.5 * this.height) => {\n    if (!angle) {\n      return;\n    }\n    rotate(angle, x, y, this._context, this._context.transform);\n  }\n\n  /**\n    * pushes a saved state of the curent context onto a stack.\n    * @returns {void}\n  */\n  save = () => {\n    this._context.save();\n  }\n\n  /**\n    * resets the context's rotation to a new amount around x/y coordinates.\n    * @param {Float} angle - amount to rotate\n    * @param {Float} [x = this.width / 2] - center x position\n    * @param {Float} [y = this.height / 2] - center y position\n    * @returns {void}\n  */\n  setRotate = (angle, x = 0.5 * this.width, y = 0.5 * this.height) => {\n    rotate(angle, x, y, this._context, this.setTransform);\n  }\n\n  /**\n    * resets the context's transform to new values.\n    * @param {Float} xScale - horizontal scale\n    * @param {Float} xSkew - horizontal skew\n    * @param {Float} ySkew - verical skew\n    * @param {Float} yScale - vertical movement\n    * @param {Float} dx - horizontal movement\n    * @param {Float} dy - vertical movement\n    * @returns {void}\n  */\n  setTransform = (xScale, xSkew, ySkew, yScale, dx, dy) => {\n    xScale *= this._devicePixelRatio;\n    xSkew *= this._devicePixelRatio;\n    ySkew *= this._devicePixelRatio;\n    yScale *= this._devicePixelRatio;\n    dx *= this._devicePixelRatio;\n    dy *= this._devicePixelRatio;\n    this._context.setTransform(xScale, xSkew, ySkew, yScale, dx, dy);\n  }\n\n  /**\n    * sets the context's grid to coordinates.\n    * @param {Float} dx - horizontal movement\n    * @param {Float} dy - vertical movement\n    * @returns {void}\n  */\n  setTranslate = (dx, dy) => {\n    this.setTransform(1, 0, 0, 1, dx, dy);\n  }\n\n  /**\n    * cumulatively moves the context's grid by coordinates.\n    * @param {Float} dx - horizontal movement\n    * @param {Float} dy - vertical movement\n    * @returns {void}\n  */\n  translate = (dx, dy) => {\n    this._context.translate(dx, dy);\n  }\n\n  /* ***********\n  * misc methods\n  *************/\n\n  // eslint-disable valid-jsdoc\n  /**\n    * creates a blank ImageData based on provided width/height.\n    * method overloading to reflect CanvasRenderingContext2D.createImageData.\n    * @param {Number} width - a width amount\n    * @param {Number} height - a height amount\n    * @returns {void}\n  */\n  /**\n    * creates a blank ImageData based on a provided ImageData's dimensions.\n    * method overloading to reflect CanvasRenderingContext2D.createImageData.\n    * @param {ImageData} imageData - an existing ImageData instance\n    * @returns {void}\n  */\n  // eslint-enable valid-jsdoc\n  createImageData = (imageDataOrWidth, height) => {\n    return this._context.createImageData(imageDataOrWidth, height);\n  }\n\n  /* *************\n  * static methods\n  ***************/\n\n  /**\n    * returns Path2D of a path approximately through an array of points.\n    * @param {Array} points - array of points\n    * @param {Path2D} [path = new Path2D()] - Path2D instance to add instructions to\n    * @returns {void}\n  */\n  static quadraticThrough(points, path = new Path2D()) {\n    const { length } = points;\n    let lastPoint;\n    let nextPoint;\n    for (let i = 0; i < length - 1; i++) {\n      lastPoint = nextPoint || points[0];\n      nextPoint = points[i + 1];\n      if (i === 0) {\n        path.moveTo(lastPoint.x, lastPoint.y);\n      } else if (i < length - 2) {\n        const avgX = (lastPoint.x + nextPoint.x) / 2;\n        const avgY = (lastPoint.y + nextPoint.y) / 2;\n        path.quadraticCurveTo(lastPoint.x, lastPoint.y, avgX, avgY);\n      } else {\n        path.quadraticCurveTo(lastPoint.x, lastPoint.y, nextPoint.x, nextPoint.y);\n      }\n    }\n    return path;\n  }\n}\n","import {modulo} from '@danehansen/math';\n\nexport function toRadians(degrees) {\n  return degrees * Math.PI / 180;\n}\n\nexport function toDegrees(radians) {\n  return radians * 180 / Math.PI;\n}\n\nexport function toRadianDirection(degrees) {\n  const radians = toRadians(-degrees);\n  const circ = Math.PI * 2;\n  const offset = radians + Math.PI * 0.5;\n  return modulo(offset, circ);\n}\n\nexport function toDegreeDirection(radians) {\n  const degrees = toDegrees(-radians);\n  return modulo(degrees + 90, 360);\n}\n","export const MIN_FREQ = 20;\nexport const MAX_FREQ = 20000;\nexport const SEMITONES = 12;\n\nexport function findCents(fA, fB) {\n  return 1200 * Math.log2(fB / fA);\n}\n\nexport const A4 = {\n  415: 'baroque',\n  427: 'classical',\n  428: 'classical',\n  429: 'classical',\n  430: 'classical',\n  430.54: 'scientific',\n  432: '“frequency of the universe”',\n  435: 'diapson normal',\n  439: 'new philharmonic',\n  440: 'stuttgart',\n  452: 'old philharmonic',\n  466: 'chorton',\n  DEFAULT: 440,\n};\n","import {findCents, SEMITONES} from './music';\n\nfunction findDifference(a, b) {\n  return Math.abs(a - b);\n}\n\nexport default function(fRoot, fComparison) {\n  const tolerance = 1;\n  const cents = findCents(fRoot, fComparison) % (SEMITONES * 100);\n\n  if (Math.abs(cents - 100) < tolerance || Math.abs(cents + 1100) < tolerance) {\n    return [16, 15];\n  }\n  if (Math.abs(cents - 1100) < tolerance || Math.abs(cents + 100) < tolerance) {\n    return [15, 16];\n  }\n\n  if (Math.abs(cents - 200) < tolerance || Math.abs(cents + 1000) < tolerance) {\n    return [9, 8];\n  }\n  if (Math.abs(cents - 1000) < tolerance || Math.abs(cents + 200) < tolerance) {\n    return [8, 9];\n  }\n\n  if (Math.abs(cents - 300) < tolerance || Math.abs(cents + 900) < tolerance) {\n    return [5, 3];\n  }\n  if (Math.abs(cents - 900) < tolerance || Math.abs(cents + 300) < tolerance) {\n    return [3, 5];\n  }\n\n  if (Math.abs(cents - 400) < tolerance || Math.abs(cents + 800) < tolerance) {\n    return [5, 4];\n  }\n  if (Math.abs(cents - 800) < tolerance || Math.abs(cents + 400) < tolerance) {\n    return [4, 5];\n  }\n\n  if (Math.abs(cents - 500) < tolerance || Math.abs(cents + 700) < tolerance) {\n    return [3, 2];\n  }\n  if (Math.abs(cents - 700) < tolerance || Math.abs(cents + 500) < tolerance) {\n    return [2, 3];\n  }\n\n  if (Math.abs(cents - 600) < tolerance || Math.abs(cents + 600) < tolerance) {\n    return [13, 9];\n  }\n}\n","export const DEFAULT_TRANSPOSITION = 3;\nexport const PITCH_NAMES = ['A', 'A♯/B♭', 'B', 'C', 'C♯/D♭', 'D', 'D♯/E♭', 'E', 'F', 'F♯/G♭', 'G', 'G♯/A♭'];\nexport const MODES = [\n  {\n    name: 'I ionian (major)',\n    chords: ['I', null, 'ii', null, 'iii', 'IV', null, 'V', null, 'vi', null, 'viiº'],\n  },\n  {\n    name: 'II dorian',\n    chords: ['i', null, 'ii', 'III', null, 'IV', null, 'v', null, 'viº', 'VII', null],\n  },\n  {\n    name: 'III phrygian',\n    chords: ['i', 'II', null, 'III', null, 'iv', null, 'vº', 'VI', null, 'vii', null],\n  },\n  {\n    name: 'IV lydian',\n    chords: ['I', null, 'II', null, 'iii', null, 'ivº ', 'V', null, 'vi', null, 'vii'],\n  },\n  {\n    name: 'V mixolydian',\n    chords: ['I', null, 'ii', null, 'iiiº', 'IV', null, 'v', null, 'vi', 'VII', null],\n  },\n  {\n    name: 'VI aeolian (minor)',\n    chords: ['i', null, 'iiº', 'III', null, 'iv', null, 'v', 'VI', null, 'VII', null],\n  },\n  {\n    name: 'VII locrian',\n    chords: ['iº', 'II', null, 'iii', null, 'iv', 'V',  null, 'VI', null, 'vii', null],\n  },\n  {\n    name: 'major pentatonic',\n    chords: ['I', null, 'ii', null, 'iii', null, null, 'V', null, 'vi', null, null],\n  },\n  {\n    name: 'minor pentatonic',\n    chords: ['i', null, null, 'III', null, 'iv', null, 'v', null, null, 'VII', null],\n  },\n  {\n    name: 'blues major',\n    chords: ['I', null, 'ii', null, null, 'IV', null, 'v', null, 'vi', null, null],\n  },\n  {\n    name: 'blues minor',\n    chords: ['i', null, null, 'III', null, 'iv', null, null, 'VI', null, 'vii', null],\n  },\n  {\n    name: 'egyptian',\n    chords: ['i', null, 'ii', null, null, 'IV', null, 'v', null, null, 'VII', null],\n  },\n];\n\nexport const OSCILLATOR_TYPES = {\n  SINE: 'sine',\n  SQUARE: 'square',\n  SAWTOOTH: 'sawtooth',\n  TRIANGLE: 'triangle',\n};\n\nexport const TEMPERMENT_TYPES = {\n  EQUAL: 'equal',\n  JUST: 'just',\n  MEANTONE: 'meantone',\n  PYTHAGOREAN: 'pythagorean',\n};\n","import styles from './Display.module.scss';\nimport classnames from 'classnames';\nimport React from 'react';\nimport Canvas from './canvas';\nimport {toRadianDirection} from '../../util/math';\nimport {modulo} from '@danehansen/math';\nimport findInterval from '../../util/findInterval';\nimport PropTypes from 'prop-types';\nimport {MODES} from '../../constants';\n\nfunction flipRadiansVertically(radians) {\n  return Math.atan2(-Math.sin(radians), Math.cos(radians));\n}\n\nexport default class Display extends React.Component {\n  static propTypes = {\n    activePitches: PropTypes.arrayOf(PropTypes.number).isRequired,\n    baseFrequencies: PropTypes.arrayOf(PropTypes.number).isRequired,\n    diameter: PropTypes.number.isRequired,\n    mode: PropTypes.number.isRequired,\n    pitchSequence: PropTypes.arrayOf(PropTypes.number).isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this._rootNode = React.createRef();\n  }\n\n  componentDidMount() {\n    const {current} = this._rootNode;\n    const {diameter} = this.props;\n    this._root = new Canvas(current);\n    this._root.globalCompositeOperation = 'copy';\n    this._buffer = new Canvas(undefined, diameter, diameter);\n\n    this._drawSlices();\n    this._root.drawImage(this._buffer);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps !== this.props) {\n      this._root.clearRect();\n      this._buffer.clearRect();\n      this._drawSlices();\n      this._connectPitches();\n      this._root.drawImage(this._buffer);\n    }\n  }\n\n  render() {\n    const {className} = this.props;\n    return <canvas className={classnames(styles.root, className)} ref={this._rootNode} />;\n  }\n\n  _drawSlices() {\n    const {activePitches, diameter, pitchSequence, mode} = this.props;\n    const semitones = pitchSequence.length;\n    const halfSlice = Math.PI / semitones;\n    const colors = findColors(semitones);\n    const {chords} = MODES[mode];\n\n    for (let i = 0; i < semitones; i++) {\n      const pitch = pitchSequence[i];\n      const degrees = pitch / semitones * 360;\n      const color = colors[i];\n      const isActive = activePitches.indexOf(i) >= 0;\n      const radians = toRadianDirection(degrees);\n      const isInKey = !!chords[i];\n\n      fillSlice(this._buffer, color, diameter, radians - halfSlice, radians + halfSlice, isActive ? 1 : 0.95, isActive ? 0.12 : 0.1, isInKey);\n    }\n  }\n\n  _connectPitches() {\n    const {activePitches, baseFrequencies, diameter, pitchSequence} = this.props;\n    const colors = findColors(pitchSequence.length);\n    for (let i = 0; i < activePitches.length; i++) {\n      const pitchA = activePitches[i];\n      const degreesA = 360 / pitchSequence.length * pitchSequence.indexOf(pitchA);\n      const frequencyA = baseFrequencies[pitchSequence.indexOf(pitchA)];\n      for (let j = i + 1; j < activePitches.length; j++) {\n        const pitchB = activePitches[j];\n        const degreesB = 360 / pitchSequence.length * pitchSequence.indexOf(pitchB);\n        const frequencyB = baseFrequencies[pitchSequence.indexOf(pitchB)];\n        const colorA = colors[pitchSequence.indexOf(pitchA)];\n        const colorB = colors[pitchSequence.indexOf(pitchB)]\n        connectPitches(toRadianDirection(degreesA), toRadianDirection(degreesB), diameter, this._buffer, 0.4, frequencyA, frequencyB, colorA, colorB);\n      }\n    }\n  }\n}\n\nfunction fillSlice(canvas, color, diameter, startRadians, endRadians, outerRadius, holeRadius, isInKey) {\n  const center = diameter / 2;\n  const isCircle = modulo(startRadians, Math.PI * 2) === modulo(endRadians, Math.PI * 2);\n\n  canvas.beginPath();\n  canvas.fillStyle =`rgb(${color.r}, ${color.g}, ${color.b})`;\n\n  if (isCircle) {\n    canvas.arc(center, center, center * outerRadius, 0, 2 * Math.PI);\n  } else {\n    // clockwise straight edge\n    let cos = Math.cos(startRadians);\n    let sin = Math.sin(startRadians);\n    canvas.moveTo(center + cos * center * holeRadius, center + sin * -center * holeRadius);\n    canvas.lineTo(center + cos * center * outerRadius, center + sin * -center * outerRadius);\n\n    // outer arc\n    canvas.arc(center, center, center * outerRadius, flipRadiansVertically(startRadians), flipRadiansVertically(endRadians), true);\n\n    // anticlockwise straight edge\n    cos = Math.cos(endRadians);\n    sin = Math.sin(endRadians);\n    canvas.moveTo(center + cos * center * outerRadius, center + sin * -center * outerRadius);\n    canvas.lineTo(center + cos * center * holeRadius, center + sin * -center * holeRadius);\n\n    // inner arc\n    canvas.arc(center, center, center * holeRadius, flipRadiansVertically(endRadians), flipRadiansVertically(startRadians), false);\n  }\n\n  canvas.fill();\n\n  if (isCircle) {\n    canvas.beginPath();\n    canvas.globalCompositeOperation = 'destination-out';\n    canvas.arc(center, center, center * holeRadius, 0, 2 * Math.PI);\n    canvas.fill();\n    canvas.globalCompositeOperation = 'source-over';\n  }\n}\n\nfunction findColors(semitones) {\n  const colors = [];\n  const buttonSlice = 360 / semitones;\n  for(let i = 0; i < semitones; i++) {\n    colors.push(directionalColor(toRadianDirection(i * buttonSlice)));\n  }\n  return colors;\n}\n\nfunction directionalColor(direction) {\n  direction -= Math.PI * 0.5;\n  const colorSlice = Math.PI * 2 / 3;\n  const cosR = Math.cos(-direction);\n  const sinR = Math.sin(-direction);\n  const cosG = Math.cos(-direction - colorSlice);\n  const sinG = Math.sin(-direction - colorSlice);\n  const cosB = Math.cos(-direction + colorSlice);\n  const sinB = Math.sin(-direction + colorSlice);\n\n  const r = Math.round(cosR * 255 * 0.5 + 255 * 0.5);\n  const g = Math.round(cosG * 255 * 0.5 + 255 * 0.5);\n  const b = Math.round(cosB * 255 * 0.5 + 255 * 0.5);\n\n  return {r, g, b};\n}\n\nfunction connectPitches(radianA, radianB, diameter, canvas, radius, frequencyA, frequencyB, colorA, colorB) {\n  const center = diameter / 2;\n\n  const cosA = Math.cos(radianA);\n  const sinA = Math.sin(-radianA);\n\n  const cosB = Math.cos(radianB);\n  const sinB = Math.sin(-radianB);\n\n  const pointA = {\n    x: center + cosA * center * radius,\n    y: center + sinA * center * radius,\n  };\n\n  const pointB = {\n    x: center + cosB * center * radius,\n    y: center + sinB * center * radius,\n  };\n\n  const interval = findInterval(frequencyA, frequencyB);\n  if (interval) {\n    canvas.lineWidth = 1;\n    const xDiff = pointB.x - pointA.x;\n    const yDiff = pointB.y - pointA.y;\n    const diff = Math.sqrt(Math.pow(xDiff, 2) + Math.pow(yDiff, 2));\n    const radiusA = diff / interval[0] / 2;\n    const radiusB = diff / interval[1] / 2;\n\n    canvas.strokeStyle = `rgb(${colorA.r}, ${colorA.g}, ${colorA.b})`;\n    for (let i = 0; i < interval[0]; i++) {\n      canvas.beginPath();\n      const centerX = pointA.x + xDiff / interval[0] * (i + 0.5);\n      const centerY = pointA.y + yDiff / interval[0] * (i + 0.5);\n      canvas.arc(centerX, centerY, radiusA, 0, Math.PI * 2);\n      canvas.stroke();\n    }\n\n    canvas.strokeStyle = `rgb(${colorB.r}, ${colorB.g}, ${colorB.b})`;\n    for (let i = 0; i < interval[1]; i++) {\n      canvas.beginPath();\n      const centerX = pointA.x + xDiff / interval[1] * (i + 0.5);\n      const centerY = pointA.y + yDiff / interval[1] * (i + 0.5);\n      canvas.arc(centerX, centerY, radiusB, 0, Math.PI * 2);\n      canvas.stroke();\n    }\n  }\n\n  canvas.globalCompositeOperation = \"source-over\";\n  canvas.strokeStyle = \"white\";\n  canvas.lineWidth = 2;\n  canvas.beginPath();\n  canvas.moveTo(pointA.x, pointA.y);\n  canvas.lineTo(pointB.x, pointB.y);\n  canvas.stroke();\n}\n","import styles from './Menu.module.scss';\nimport {TEMPERMENT_TYPES, OSCILLATOR_TYPES, DEFAULT_SEMITONES, PITCH_NAMES, MODES} from '../../constants';\nimport {A4, MIN_FREQ, MAX_FREQ, SEMITONES} from '../../util/music';\nimport {useState, useEffect} from 'react';\n\nfunction findIncrementLabel(increment, semitones) {\n  let str = String(increment);\n  if (increment === 1) {\n    str += ` (chromatic)`;\n  } else if (increment === semitones - 1) {\n    str += ` (reverse chromatic)`;\n  } else if (semitones === SEMITONES && increment === 7) {\n    str += ` (circle of fifths)`;\n  }\n  return str;\n}\n\nexport default function Menu({\n    a4,\n    setA4,\n    eq,\n    setEq,\n    mode,\n    setMode,\n    oscillator,\n    setOscillator,\n    pitchSkip,\n    setPitchSkip,\n    semitones,\n    setSemitones,\n    transposition,\n    setTransposition,\n    pitchSkipOptions,\n  }) {\n\n  function onOscillatorChange({ target: { value }}) {\n    setOscillator(value);\n  }\n\n  function onEQChange(index, {target: {value}}) {\n    const values = [...eq]\n    values[index] = value;\n    setEq(values);\n  }\n\n  return (\n    <form className={styles.root}>\n      <div className={styles.property}>\n        <h2 className={styles.title}>Oscillator</h2>\n        <label className={styles.label}>\n          <input className={styles.input} type=\"radio\" checked={oscillator === OSCILLATOR_TYPES.SINE} value={OSCILLATOR_TYPES.SINE} onChange={onOscillatorChange} />\n          <div className={styles.labelText}>{OSCILLATOR_TYPES.SINE}</div>\n        </label>\n        <label className={styles.label}>\n          <input className={styles.input} type=\"radio\" checked={oscillator === OSCILLATOR_TYPES.SQUARE} value={OSCILLATOR_TYPES.SQUARE} onChange={onOscillatorChange} />\n          <div className={styles.labelText}>{OSCILLATOR_TYPES.SQUARE}</div>\n        </label>\n        <label className={styles.label}>\n          <input className={styles.input} type=\"radio\" checked={oscillator === OSCILLATOR_TYPES.SAWTOOTH} value={OSCILLATOR_TYPES.SAWTOOTH} onChange={onOscillatorChange} />\n          <div className={styles.labelText}>{OSCILLATOR_TYPES.SAWTOOTH}</div>\n        </label>\n        <label className={styles.label}>\n          <input className={styles.input} type=\"radio\" checked={oscillator === OSCILLATOR_TYPES.TRIANGLE} value={OSCILLATOR_TYPES.TRIANGLE} onChange={onOscillatorChange} />\n          <div className={styles.labelText}>{OSCILLATOR_TYPES.TRIANGLE}</div>\n        </label>\n      </div>\n\n      <div className={styles.property}>\n        <h2 className={styles.title}>EQ</h2>\n        <div className={styles.verticalRangeHolderHolder}>\n          {eq.map(function(value, i) {\n            return <div className={styles.verticalRangeHolder} key={i}>\n              <input className={styles.verticalRange} type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" value={value} onChange={onEQChange.bind(null, i)} />\n            </div>\n          })}\n        </div>\n      </div>\n\n      <div className={styles.property}>\n        <h2 className={styles.title}>Semitones</h2>\n        <label className={styles.label}>\n          <input className={styles.input} type=\"range\" min={1} max={120} value={semitones} step=\"1\" onChange={function({target: {value}}){setSemitones(parseInt(value))}} />\n          <div className={styles.labelText}>{semitones}</div>\n        </label>\n      </div>\n\n      <div className={styles.property}>\n        <h2 className={styles.title}>Transposition</h2>\n          {PITCH_NAMES.map(function(name, index) {\n            return <label className={styles.label} key={name}>\n              <input className={styles.input} type=\"radio\" value={index} name=\"transposition\" checked={transposition === index} onChange={function({target:{value}}){setTransposition(parseInt(value))}} />\n              <div className={styles.labelText}>{name}</div>\n            </label>\n          })}\n      </div>\n\n      <div className={styles.property}>\n        <h2 className={styles.title}>Mode</h2>\n          {MODES.map(function(modeObj, index) {\n            return <label className={styles.label} key={modeObj.name}>\n              <input className={styles.input} type=\"radio\" value={index} name=\"mode\" checked={mode === index} onChange={function({target:{value}}){setMode(parseInt(value))}} />\n              <div className={styles.labelText}>{modeObj.name}</div>\n            </label>\n          })}\n      </div>\n\n      <div className={styles.property}>\n        <h2 className={styles.title}>Pitch Skip</h2>\n        {pitchSkipOptions.map(function(num) {\n          return <label className={styles.label} key={num}>\n            <input className={styles.input} type=\"radio\" value={num} name=\"pitchSkip\" checked={pitchSkip === num} onChange={function({target:{value}}){setPitchSkip(parseInt(value))}} />\n            <div className={styles.labelText}>{findIncrementLabel(num, semitones)}</div>\n          </label>\n        })}\n      </div>\n\n      <div className={styles.property}>\n        <h2 className={styles.title}>A4</h2>\n        <label className={styles.label}>\n          <input\n            className={styles.input}\n            type=\"range\"\n            min={390}\n            max={490}\n            value={a4}\n            step=\"1\"\n            onChange={function({target:{value}}){setA4(parseInt(value))}}\n          />\n          <div className={styles.labelText}>{a4}{A4[a4] && ` (${A4[a4]})`}</div>\n        </label>\n      </div>\n    </form>\n  );\n}\n","import styles from './PitchLabel.module.scss';\nimport classnames from 'classnames';\nimport convertIndexToRadians from '../../util/convertIndexToRadians';\nimport {toRadianDirection} from '../../util/math';\nimport {MODES} from '../../constants';\n\nexport default function PitchLabel({pitchNamesSorted, diameter, mode}) {\n  const semitones = pitchNamesSorted.length;\n  const {chords} = MODES[mode];\n\n  return <div className={styles.root}>{pitchNamesSorted.map(function(name, index) {\n    if (!chords[index]) {\n      return null;\n    }\n    const degrees = 360 / semitones * index;\n    const isSmall = name.length > 1;\n    let transform;\n    let transformOrigin;\n    const radius = -0.475;\n\n    if (isSmall) {\n      transform = `translate(0%, -50%) rotate(${degrees}deg) translate(0%, 50%) translateY(${diameter * radius}px) rotate(${90}deg)`;\n      transformOrigin = `0 50%`;\n    } else {\n      transform = `translate(-50%, 0) rotate(${degrees}deg) translateY(${diameter * radius}px) `;\n      transformOrigin = `50% 0`;\n    }\n\n    return <div\n      className={classnames(styles.button, isSmall && styles.small)}\n      key={index}\n      style={{transform, transformOrigin}}\n    >{name}</div>\n  })}</div>\n}\n","import styles from './ChordLabel.module.scss';\nimport convertIndexToRadians from '../../util/convertIndexToRadians';\nimport {toRadianDirection} from '../../util/math';\n\nexport default function ChordLabel({chordNamesSorted, diameter}) {\n  const semitones = chordNamesSorted.length;\n\n  return <div className={styles.root}>{chordNamesSorted.map(function(name, index) {\n    if (!name) {\n      return null;\n    }\n    const degrees = 360 / semitones * index;\n\n    return <div\n      className={styles.button}\n      key={index}\n      style={{\n        transform: `translate(-50%, -50%) rotate(${degrees}deg) translateY(${diameter * -0.22}px)`,\n      }}\n    >{name}</div>\n  })}</div>\n}\n","import {useRef} from 'react';\nimport {modulo} from '@danehansen/math';\nimport {toDegreeDirection} from '../../util/math';\nimport styles from './TouchPad.module.scss';\n\nexport default function TouchPad({\n  pitchSequence,\n  callback,\n  diameter,\n}) {\n  const rootNode = useRef(null);\n\n  function onTouchMove(evt) {\n    anyTouch(evt);\n  }\n\n  function onTouchStart(evt) {\n    anyTouch(evt);\n  }\n\n  function onTouchEnd(evt) {\n    const {targetTouches} = evt;\n    anyTouch(evt);\n  }\n\n  function onTouchCancel(evt) {\n    anyTouch(evt);\n  }\n\n  function anyTouch(evt) {\n    const {targetTouches} = evt;\n\n    if (!targetTouches) {\n      callback([]);\n    }\n    const rect = rootNode.current.getBoundingClientRect();\n    const halfSlice = Math.PI / pitchSequence.length;\n    const pitches = []\n    for (let i = 0; i < targetTouches.length; i++) {\n      const {clientX, clientY} = targetTouches[i];\n      const x = clientX - rect.x - diameter * 0.5;\n      const y = -(clientY - rect.y - diameter * 0.5);\n      const length = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n\n      if (length <= diameter / 2) {\n        const rad = modulo(Math.atan2(y, x), Math.PI * 2);\n        const degrees = toDegreeDirection(rad - halfSlice);\n        const index = Math.floor(degrees / 360 * pitchSequence.length);\n        pitches.push(pitchSequence[index]);\n      }\n    }\n    callback(pitches);\n  }\n\n  return <div\n    ref={rootNode}\n    className={styles.root}\n    onTouchMove={onTouchMove}\n    onTouchStart={onTouchStart}\n    onTouchEnd={onTouchEnd}\n    onTouchCancel={onTouchCancel}\n  />;\n}\n","import PropTypes from 'prop-types';\nimport {useState, useEffect} from 'react';\n\nconst PLACEHOLDER_WINDOW = {\n  addEventListener() {},\n  innerHeight: 0,\n  innerWidth: 0,\n  removeEventListener() {},\n};\n\nexport default function ResizeListener({children, win = typeof window !== 'undefined' ? window : PLACEHOLDER_WINDOW}) {\n  const [innerHeight, setInnerHeight] = useState(win.innerHeight);\n  const [innerWidth, setInnerWidth] = useState(win.innerWidth);\n\n  useEffect(function() {\n    win.addEventListener('resize', onResize);\n    return function() {\n      win.removeEventListener('resize', onResize);\n    }\n  }, []);\n\n  function onResize() {\n    setInnerHeight(win.innerHeight);\n    setInnerWidth(win.innerWidth);\n  };\n\n  return children(innerWidth, innerHeight);\n}\n\nResizeListener.propTypes = {\n  children: PropTypes.func.isRequired,\n  win: PropTypes.object,\n};\n","import {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function FirstTouch({component: Component = 'div', callback, ...rest}) {\n  const [hasCalledCallback, setHasCalledCallback] = useState(false);\n\n  function onClick() {\n    callback();\n  }\n\n  return <Component onClick={hasCalledCallback ? null : onClick} {...rest}></Component>;\n}\n\nFirstTouch.propTypes = {\n  component: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  callback: PropTypes.func.isRequired,\n};\n","export default function(semitones) {\n  const increments = [1];\n  for(let i = 2; i < semitones; i++) {\n    if (findIncrementsOfSemitone(semitones, i)) {\n      increments.push(i);\n    }\n  }\n  return increments;\n}\n\nfunction findIncrementsOfSemitone(semitones, increment) {\n  const allSemitones = [...Array(semitones).keys()];\n  const semitoneIndexes = [];\n  for(let i = 0; i < semitones; i++) {\n    const semitoneIndex = (i * increment) % semitones;\n    if (semitoneIndexes[semitoneIndex] !== undefined) {\n      return false;\n    } else {\n      semitoneIndexes[semitoneIndex] = semitoneIndex;\n    }\n  }\n  return semitoneIndexes;\n}\n","import {round} from '@danehansen/math';\nimport {PITCH_NAMES} from '../constants';\nimport {SEMITONES} from './music';\n\nexport default function(semitones, transposition) {\n  return [...Array(semitones).keys()].map(function(i) {\n    const nameIndexFloat = (i / semitones * SEMITONES + transposition) % SEMITONES;\n    const nameIndex = Math.floor(nameIndexFloat);\n    const prefix = PITCH_NAMES[nameIndex];\n    const remainder = nameIndexFloat % 1;\n    if (!remainder) {\n      return prefix;\n    }\n    return `${prefix}${String(round(remainder, 0.001)).slice(1,5)}`;\n  })\n}\n","import {MAX_FREQ, MIN_FREQ} from './music';\n\nlet frequencies;\nlet currentOscillators;\nlet audioCtx;\nlet gainNode;\n\nexport function initializaAudio(baseFrequencies, eq) {\n  if (audioCtx) {\n    audioCtx.close();\n  }\n  audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n  gainNode = audioCtx.createGain();\n\n  gainNode.connect(audioCtx.destination);\n\n  // TODO: figure out this gain value\n  gainNode.gain.value = 0.1;\n\n  const freqencyStep = (MAX_FREQ - MIN_FREQ) / (eq.length - 1);\n\n  // const eqNodes = [];\n  // const eqParams = [];\n  // let headNode = audioCtx.destination;\n  // for(let i = 0; i < eq.length; i++) {\n  //   const eqNode = audioCtx.createBiquadFilter();\n  //   eqNode.frequency.value = freqencyStep * i + MIN_FREQ;\n  //   // eqNode.type = 'lowshelf'\n  //   // eqNode.type = 'highshelf'\n  //   // eqNode.type = 'peaking'\n  //   eqNode.type = 'notch'\n  //   eqNode.connect(headNode)\n  //   eqNodes.push(eqNode)\n  //   eqParams.push({\n  //     frequency: eqNode.frequency, //hz\n  //     Q: eqNode.Q,\n  //     gain: eqNode.gain, // dB\n  //   });\n  //   headNode = eqNode;\n  // }\n  // gainNode.connect(headNode);\n  //\n  // for (let i = 0; i < eq.length; i++) {\n  //   eqNodes[i].gain.value = eq[i];\n  // }\n\n  currentOscillators = [];\n  frequencies = [];\n  frequencies = baseFrequencies.map(function(frequency) {\n    return findAudibleOctaves(frequency);\n  })\n}\n\nfunction findAudibleOctaves(frequency) {\n  const frequencies = [];\n  while(frequency < MAX_FREQ) {\n    frequencies.push(frequency);\n    frequency *= 2;\n  }\n  return frequencies;\n}\n\nfunction startNote(index, type) {\n  const oscillators = [];\n  currentOscillators[index] = oscillators;\n  for(const frequency of frequencies[index]) {\n    const oscillator = audioCtx.createOscillator();\n    oscillator.frequency.value = frequency;\n    oscillator.type = type;\n    oscillator.connect(gainNode);\n    oscillator.start();\n    oscillators.push(oscillator);\n  }\n}\n\nfunction stopNote(index) {\n  for(const oscillator of currentOscillators[index]) {\n    oscillator.stop();\n  }\n  currentOscillators[index] = null;\n}\n\nexport function toggleNote(note, isPlaying, type) {\n  if (!currentOscillators) {\n    return;\n  }\n  if (isPlaying && !currentOscillators[note]) {\n    startNote(note, type);\n  } else if (!isPlaying && currentOscillators[note]) {\n    stopNote(note);\n  }\n}\n","import {SEMITONES} from '../util/music';\n\nexport default function(frequency, transposition, semitones = SEMITONES) {\n  return frequency * Math.pow(Math.pow(2, 1 / semitones), transposition);\n}\n","import transposeFrequency from './transposeFrequency';\nimport {MIN_FREQ} from './music';\n\nexport default function(semitones, rootFrequency) {\n  const frequencies = [];\n  for (let i = 0; i < semitones; i++) {\n    let frequency = transposeFrequency(rootFrequency, i, semitones);\n    while(frequency / 2 > MIN_FREQ) {\n      frequency /= 2;\n    }\n    frequencies.push(frequency);\n  }\n  return frequencies;\n}\n","export default function(semitones, pitchSkip) {\n  const sequence = []\n  for (let i = 0; i < semitones; i++) {\n    sequence.push((i * pitchSkip) % semitones);\n  }\n  return sequence;\n}\n","export default function(pitchNames, pitchSkip) {\n  const sorted = pitchNames.map(function(pitchName, index) {\n    return pitchNames[(index * pitchSkip) % pitchNames.length];\n  })\n  return sorted;\n}\n","import styles from './App.module.scss';\nimport Display from './Display/Display';\nimport Menu from './Menu/Menu';\nimport PitchLabel from './PitchLabel/PitchLabel';\nimport ChordLabel from './ChordLabel/ChordLabel';\nimport TouchPad from './TouchPad/TouchPad';\nimport ResizeListener from './ResizeListener/ResizeListener';\nimport FirstTouch from './FirstTouch/FirstTouch';\nimport {OSCILLATOR_TYPES, DEFAULT_TRANSPOSITION} from '../constants';\nimport {A4, SEMITONES} from '../util/music';\nimport {useState, useEffect} from 'react';\nimport findPitchSkipOptions from '../util/findPitchSkipOptions';\nimport findPitchNames from '../util/findPitchNames';\nimport transposeFrequency from '../util/transposeFrequency';\nimport findBaseFrequencies from '../util/findBaseFrequencies';\nimport findPitchSequence from '../util/findPitchSequence';\nimport findChordNames from '../util/findChordNames';\nimport sortPitchNames from '../util/sortPitchNames';\nimport {initializaAudio, toggleNote} from '../util/shepardTone';\nimport queryString from 'query-string';\nimport {isEqual} from 'lodash';\n\nfunction changeParams(urlParams) {\n  window.history.pushState(null, null, `${window.location.origin}${window.location.pathname}?${queryString.stringify(urlParams, {arrayFormat: 'comma'})}`);\n}\n\nfunction hook(urlParams, key, value, def) {\n  if (!isEqual(urlParams[key], value)) {\n    if (isEqual(def, value) && urlParams[key] !== undefined) {\n      delete urlParams[key];\n      changeParams(urlParams);\n    } else if (!isEqual(def, value)) {\n      urlParams[key] = value;\n      changeParams(urlParams);\n    }\n  }\n}\n\nfunction useHook(urlParams, key, value, def) {\n  useEffect(function() {\n    hook(urlParams, key, value, def);\n  }, [value]);\n}\n\nexport default function App() {\n  const urlParams = queryString.parse(window.location.search, {parseNumbers: true, arrayFormat: 'comma'});\n\n  const [a4, setA4] = useState(urlParams.a4 || A4.DEFAULT);\n  useHook(urlParams, 'a4', a4, A4.DEFAULT);\n\n  const [oscillator, setOscillator] = useState(urlParams.oscillator || OSCILLATOR_TYPES.SINE);\n  useHook(urlParams, 'oscillator', oscillator, OSCILLATOR_TYPES.SINE);\n\n  const [semitones, setSemitones] = useState(urlParams.semitones || SEMITONES);\n  useHook(urlParams, 'semitones', semitones, SEMITONES);\n\n  const [transposition, setTransposition] = useState(urlParams.transposition !== undefined ? urlParams.transposition : DEFAULT_TRANSPOSITION);\n  useHook(urlParams, 'transposition', transposition, DEFAULT_TRANSPOSITION);\n\n  const [pitchNames, setPitchNames] = useState(findPitchNames(semitones, transposition));\n  useEffect(function() {\n    setPitchNames(findPitchNames(semitones, transposition));\n  }, [semitones, transposition]);\n\n  const [pitchSkipOptions, setPitchSkipOptions] = useState(findPitchSkipOptions(semitones));\n  useEffect(function() {\n    setPitchSkipOptions(findPitchSkipOptions(semitones));\n  }, [semitones]);\n\n  const _ps = urlParams.pitchSkip ? urlParams.pitchSkip : pitchSkipOptions[0];\n  const [pitchSkip, setPitchSkip] = useState(_ps);\n  useEffect(function() {\n    if (pitchSkipOptions.indexOf(pitchSkip) < 0) {\n      setPitchSkip(pitchSkipOptions[0]);\n    }\n  }, [pitchSkipOptions]);\n  useHook(urlParams, 'pitchSkip', pitchSkip, _ps);\n\n  const _eq = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1];\n  const [eq, setEq] = useState(urlParams.eq || _eq);\n  useHook(urlParams, 'eq', eq, _eq);\n\n  const [rootFrequency, setRootFrequency] = useState(transposeFrequency(a4, transposition));\n  useEffect(function() {\n    setRootFrequency(transposeFrequency(a4, transposition));\n  }, [transposition, a4]);\n\n  const [baseFrequencies, setBaseFrequencies] = useState(findBaseFrequencies(semitones, rootFrequency));\n  useEffect(function() {\n    setBaseFrequencies(findBaseFrequencies(semitones, rootFrequency));\n  }, [semitones, rootFrequency]);\n\n  const [pitchSequence, setPitchSequence] = useState(findPitchSequence(semitones, pitchSkip));\n  useEffect(function() {\n    setPitchSequence(findPitchSequence(semitones, pitchSkip));\n  }, [semitones, pitchSkip]);\n\n  const [pitchNamesSorted, setPitchNamesSorted] = useState(sortPitchNames(pitchNames, transposition, pitchSkip));\n  useEffect(function() {\n    setPitchNamesSorted(sortPitchNames(pitchNames, pitchSkip));\n  }, [pitchNames, pitchSkip]);\n\n  const [mode, setMode] = useState(urlParams.mode || 0);\n  useHook(urlParams, 'mode', mode, 0);\n\n  const [chordNamesSorted, setChordNamesSorted] = useState([]);\n  useEffect(function(){\n    const chordNames = findChordNames(semitones, mode);\n    setChordNamesSorted(sortPitchNames(chordNames, pitchSkip));\n  }, [semitones, pitchSkip, mode]);\n\n  const [activePitches, setActivePitches] = useState([]);\n\n  const [isMenuOpen, setMenuOpen] = useState(false);\n  function onMenuButtonClick() {\n    if (isMenuOpen) {\n      initializaAudio(baseFrequencies, eq);\n    }\n    setMenuOpen(!isMenuOpen);\n  }\n\n  function onTouchCallback(pitches) {\n    for(let i = 0; i < semitones; i++) {\n      if (pitches.indexOf(i) >= 0) {\n        toggleNote(i, true, oscillator)\n      } else {\n        toggleNote(i, false, oscillator)\n      }\n    }\n    setActivePitches(pitches);\n  }\n\n  return (\n    <FirstTouch className={styles.root} callback={ initializaAudio.bind(null, baseFrequencies, eq)}>\n      <div className={styles.contentHolder}>\n      </div>\n      <ResizeListener>\n        {function(innerWidth, innerHeight) {\n          const smallest = Math.min(innerWidth, innerHeight);\n          return <div className={styles.wheelHolder} style={{width: `${smallest}px`, height: `${smallest}px`}}>\n            <Display\n              activePitches={activePitches}\n              baseFrequencies={baseFrequencies}\n              diameter={smallest}\n              pitchSequence={pitchSequence}\n              mode={mode}\n            />\n            <PitchLabel pitchNamesSorted={pitchNamesSorted} diameter={smallest} mode={mode} />\n            <ChordLabel chordNamesSorted={chordNamesSorted} diameter={smallest} />\n            <TouchPad\n              callback={onTouchCallback}\n              diameter={smallest}\n              pitchSequence={pitchSequence}\n            />\n          </div>\n        }}\n      </ResizeListener>\n\n      {isMenuOpen && <div className={styles.menuHolder}><Menu\n        a4={a4}\n        setA4={setA4}\n        eq={eq}\n        setEq={setEq}\n        mode={mode}\n        setMode={setMode}\n        oscillator={oscillator}\n        setOscillator={setOscillator}\n        pitchSkip={pitchSkip}\n        setPitchSkip={setPitchSkip}\n        semitones={semitones}\n        setSemitones={setSemitones}\n        transposition={transposition}\n        setTransposition={setTransposition}\n        pitchSkipOptions={pitchSkipOptions}\n      /></div>}\n\n      <button className={styles.menuButton} onClick={onMenuButtonClick}>{isMenuOpen ? 'x' : 'menu'}</button>\n    </FirstTouch>\n  );\n}\n","import {MODES} from '../constants';\n\nexport default function(semitones, modeIndex) {\n  const {chords} = MODES[modeIndex]\n  const {length} = chords;\n  return chords.map(function(name, index) {\n    const nameIndex = (index / semitones * length) % length;\n    if (!(nameIndex % 1)) {\n      return chords[nameIndex];\n    }\n    return null;\n  })\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/reset.module.scss';\nimport App from './App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__nWMuC\",\"menuHolder\":\"App_menuHolder__243kY\",\"menuButton\":\"App_menuButton__3IBp4\",\"contentHolder\":\"App_contentHolder__3Zpi7\",\"wheelHolder\":\"App_wheelHolder__1I76D\"};"],"sourceRoot":""}