(this["webpackJsonpshepard-wheel"]=this["webpackJsonpshepard-wheel"]||[]).push([[0],{14:function(e,t,n){e.exports={root:"PitchLabel_root__3-xxj",button:"PitchLabel_button__29U3k",hasAccidental:"PitchLabel_hasAccidental__xtPck",small:"PitchLabel_small__3x-Zk",deemphesized:"PitchLabel_deemphesized__Gd1GB"}},16:function(e,t,n){e.exports={root:"MatchingChords_root__56skG",chordHolder:"MatchingChords_chordHolder__QGRl6",fingersNeeded0:"MatchingChords_fingersNeeded0__2ftp0",chord:"MatchingChords_chord__25OHW",fingersNeeded1:"MatchingChords_fingersNeeded1__1c1IT",fingersNeeded2:"MatchingChords_fingersNeeded2__1dx63",fingersNeeded3:"MatchingChords_fingersNeeded3__2980F",fingersNeeded4:"MatchingChords_fingersNeeded4__1gmzO"}},19:function(e,t,n){e.exports={root:"ChordLabel_root__U_GCi",button:"ChordLabel_button__3bTYZ"}},2:function(e,t,n){e.exports={root:"Menu_root__3QA5H",property:"Menu_property__qoOWz",title:"Menu_title__tE_9H",reset:"Menu_reset__uN5da",columns:"Menu_columns__3o8dK",label:"Menu_label__3hKMT",wide:"Menu_wide__2sfIP",labelText:"Menu_labelText__2uoMn",valueText:"Menu_valueText__37XmB",verticalRangeHolder:"Menu_verticalRangeHolder__2TdXL",verticalRange:"Menu_verticalRange__3aZoM",issue:"Menu_issue__3HH04"}},24:function(e,t,n){e.exports={root:"Display_root__ig8ld"}},27:function(e,t,n){e.exports={root:"Input_root__2EB5Y"}},28:function(e,t,n){e.exports={root:"Button_root__1mUtC"}},29:function(e,t,n){e.exports={root:"TouchPad_root__22wzt"}},34:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),o=n(23),r=n.n(o),c=(n(34),n(6)),s=n(3),l=n(8),u=n.n(l),h=n(24),d=n.n(h),f=n(5),v=n.n(f),b=n(25),m=n(26);function j(e,t,n,a,i){var o=Math.cos(e),r=Math.sin(e),c=t-o*t-r*-n,s=n-r*t-o*n;i.call(a,o,r,-r,o,c,s)}var p,x=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("canvas"),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.offsetWidth,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.offsetHeight,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.devicePixelRatio;Object(b.a)(this,e),this.resize=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.devicePixelRatio;if(!e||!n){var i=!!t._element.parentNode;e=i?t._element.offsetWidth:t._width,n=i?t._element.offsetHeight:t._height}t._devicePixelRatio=a,t._width=e,t._height=n,t._element.width=e*t._devicePixelRatio,t._element.height=n*t._devicePixelRatio,t._imageDataHandler=null,t._context.scale(t._devicePixelRatio,t._devicePixelRatio)},this.arc=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t._context.arc(e,n,a,i,o,r)},this.beginPath=function(){t._context.beginPath()},this.bezierCurveTo=function(){var e;(e=t._context).bezierCurveTo.apply(e,arguments)},this.clearRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.clearRect(e,n,a,i),t._imageDataHandler=null},this.clip=function(){var e;(e=t._context).clip.apply(e,arguments)},this.closePath=function(){t._context.closePath()},this.drawImage=function(n,a,i,o,r,c,s,l,u){var h=n instanceof e;"number"===typeof c?h?(a*=t._devicePixelRatio,i*=t._devicePixelRatio,o*=t._devicePixelRatio,r*=t._devicePixelRatio,t._context.drawImage(n.element,a,i,o,r,c,s,l,u)):t._context.drawImage(n,a,i,o,r,c,s,l,u):h?(o=o||n.width,r=r||n.height,t._drawImageDest(n.element,a,i,o,r)):t._drawImageDest(n,a,i,o,r),t._imageDataHandler=null},this._drawImageDest=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.width,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.height;t._context.drawImage(e,n,a,i,o)},this.fill=function(){var e;(e=t._context).fill.apply(e,arguments),t._imageDataHandler=null},this.fillRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.fillRect(e,n,a,i),t._imageDataHandler=null},this.lineTo=function(){var e;(e=t._context).lineTo.apply(e,arguments)},this.moveTo=function(){var e;(e=t._context).moveTo.apply(e,arguments)},this.quadraticCurveTo=function(){var e;(e=t._context).quadraticCurveTo.apply(e,arguments)},this.rect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.rect(e,n,a,i)},this.stroke=function(){var e;(e=t._context).stroke.apply(e,arguments),t._imageDataHandler=null},this.resetTransform=function(){t._context.resetTransform(),t._context.scale(t._devicePixelRatio,t._devicePixelRatio)},this.restore=function(){t._context.restore()},this.rotate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5*t.width,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5*t.height;e&&j(e,n,a,t._context,t._context.transform)},this.save=function(){t._context.save()},this.setRotate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5*t.width,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5*t.height;j(e,n,a,t._context,t.setTransform)},this.setTransform=function(e,n,a,i,o,r){e*=t._devicePixelRatio,n*=t._devicePixelRatio,a*=t._devicePixelRatio,i*=t._devicePixelRatio,o*=t._devicePixelRatio,r*=t._devicePixelRatio,t._context.setTransform(e,n,a,i,o,r)},this.setTranslate=function(e,n){t.setTransform(1,0,0,1,e,n)},this.translate=function(e,n){t._context.translate(e,n)},this.createImageData=function(e,n){return t._context.createImageData(e,n)},this._element=n,this._context=this._element.getContext("2d"),this.resize(a,i,o)}return Object(m.a)(e,[{key:"element",get:function(){return this._element}},{key:"height",get:function(){return this._height}},{key:"imageDataHandler",get:function(){return this._imageDataHandler}},{key:"width",get:function(){return this._width}},{key:"fillStyle",set:function(e){this._context.fillStyle=e}},{key:"globalCompositeOperation",set:function(e){this._context.globalCompositeOperation=e}},{key:"globalAlpha",set:function(e){this._context.globalAlpha=e}},{key:"lineWidth",set:function(e){this._context.lineWidth=e}},{key:"strokeStyle",set:function(e){this._context.strokeStyle=e}}],[{key:"quadraticThrough",value:function(e){for(var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Path2D,i=e.length,o=0;o<i-1;o++)if(t=n||e[0],n=e[o+1],0===o)a.moveTo(t.x,t.y);else if(o<i-2){var r=(t.x+n.x)/2,c=(t.y+n.y)/2;a.quadraticCurveTo(t.x,t.y,r,c)}else a.quadraticCurveTo(t.x,t.y,n.x,n.y);return a}}]),e}(),O=n(4),g=n(12),_=2e4,M=12,N=440,y=100,w=1200,I=(p={415:"baroque",427:"classical",428:"classical",429:"classical",430:"classical",430.54:"scientific",432:"\u201cfrequency of the universe\u201d",435:"diapson normal",439:"new philharmonic"},Object(g.a)(p,N,"stuttgart"),Object(g.a)(p,452,"old philharmonic"),Object(g.a)(p,466,"chorton"),p);function T(e,t){return e*Math.pow(Math.pow(2,.08333333333333333),t/y)}for(var C=n(0),S=360,P=2*Math.PI,k=[],E=2;E<_;)(E*=2)>=20&&E<=_&&k.push(E);var A=[{name:"(none)",chords:[],useModeForNaming:1},{name:"I Ionian (Major)",chords:["I",null,"ii",null,"iii","IV",null,"V",null,"vi",null,"vii\xba"]},{name:"II Dorian",chords:["i",null,"ii","III",null,"IV",null,"v",null,"vi\xba","VII",null]},{name:"III Phrygian",chords:["i","II",null,"III",null,"iv",null,"v\xba","VI",null,"vii",null]},{name:"IV Lydian",chords:["I",null,"II",null,"iii",null,"iv\xba ","V",null,"vi",null,"vii"]},{name:"V Mixolydian",chords:["I",null,"ii",null,"iii\xba","IV",null,"v",null,"vi","VII",null]},{name:"VI Aeolian (Minor)",chords:["i",null,"ii\xba","III",null,"iv",null,"v","VI",null,"VII",null]},{name:"VII Locrian",chords:["i\xba","II",null,"iii",null,"iv","V",null,"VI",null,"vii",null]},{name:"Major Pentatonic",chords:["I",null,"ii",null,"iii",null,null,"V",null,"vi",null,null],useModeForNaming:1},{name:"Minor Pentatonic",chords:["i",null,null,"III",null,"iv",null,"v",null,null,"VII",null],useModeForNaming:6},{name:"Blues Major",chords:["I",null,"ii",null,null,"IV",null,"v",null,"vi",null,null],useModeForNaming:1},{name:"Blues Minor",chords:["i",null,null,"III",null,"iv",null,null,"VI",null,"vii",null],useModeForNaming:6}],D={SINE:"sine",SQUARE:"square",TRIANGLE:"triangle"},R=[{name:"major",suffix:"",textTransform:"toUpperCase",additionalPitches:[400,700]},{name:"minor",suffix:"",textTransform:"toLowerCase",additionalPitches:[300,700]},{name:"augmented",suffix:"+",textTransform:"toUpperCase",additionalPitches:[400,800]},{name:"diminished",suffix:"\xba",textTransform:"toLowerCase",additionalPitches:[300,600]},{name:"major sixth",suffix:Object(C.jsx)("sup",{children:"6"}),textTransform:"toUpperCase",additionalPitches:[400,700,900]},{name:"minor sixth",suffix:Object(C.jsx)("sup",{children:"6"}),textTransform:"toLowerCase",additionalPitches:[300,700,900]},{name:"dominant seventh",suffix:Object(C.jsx)("sup",{children:"7"}),textTransform:"toUpperCase",additionalPitches:[400,700,1e3]},{name:"major seventh",suffix:Object(C.jsx)("sup",{children:"\u22067"}),textTransform:"toUpperCase",additionalPitches:[400,700,1100]},{name:"minor seventh",suffix:Object(C.jsx)("sup",{children:"7"}),textTransform:"toLowerCase",additionalPitches:[300,700,1e3]},{name:"augmented seventh",suffix:Object(C.jsxs)(C.Fragment,{children:["+",Object(C.jsx)("sup",{children:"\u22067"})]}),textTransform:"toUpperCase",additionalPitches:[400,800,1e3]},{name:"minor-major seventh",suffix:Object(C.jsx)("sup",{children:"M7"}),textTransform:"toLowerCase",additionalPitches:[300,700,1100]},{name:"diminished seventh",suffix:Object(C.jsxs)(C.Fragment,{children:["\xba",Object(C.jsx)("sup",{children:"7"})]}),textTransform:"toLowerCase",additionalPitches:[300,600,900]},{name:"half-diminished seventh",suffix:Object(C.jsx)("sup",{children:"\xf87"}),textTransform:"toLowerCase",additionalPitches:[300,600,1e3]}];function H(e){e-=.25*P;var t=P/3,n=Math.cos(-e),a=Math.cos(-e-t),i=Math.cos(-e+t);return{r:Math.round(255*n*.5+127.5),g:Math.round(255*a*.5+127.5),b:Math.round(255*i*.5+127.5)}}function F(e){return Math.atan2(-Math.sin(e),Math.cos(e))}function q(e,t,n,a,i,o,r,c){var s=n/2,l=Object(O.modulo)(a,P)===Object(O.modulo)(i,P);if(e.beginPath(),e.fillStyle="object"===typeof t?"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"):t,l)e.arc(s,s,s*o,0,P);else{var u=Math.cos(a),h=Math.sin(a);e.moveTo(s+u*s*r,s+h*-s*r),e.lineTo(s+u*s*o,s+h*-s*o),e.arc(s,s,s*o,F(a),F(i),!0),u=Math.cos(i),h=Math.sin(i),e.moveTo(s+u*s*o,s+h*-s*o),e.lineTo(s+u*s*r,s+h*-s*r),e.arc(s,s,s*r,F(i),F(a),!1)}e.fill(),l&&(e.beginPath(),e.globalCompositeOperation="destination-out",e.arc(s,s,s*r,0,P),e.fill(),e.globalCompositeOperation="source-over")}function L(e,t){var n,a,i=(n=e,a=t,w*Math.log2(a/n)%w);return Math.abs(i-100)<2||Math.abs(i+1100)<2?[16,15]:Math.abs(i-1100)<2||Math.abs(i+100)<2?[15,16]:Math.abs(i-200)<2||Math.abs(i+1e3)<2?[9,8]:Math.abs(i-1e3)<2||Math.abs(i+200)<2?[8,9]:Math.abs(i-300)<2||Math.abs(i+900)<2?[5,3]:Math.abs(i-900)<2||Math.abs(i+300)<2?[3,5]:Math.abs(i-400)<2||Math.abs(i+800)<2?[5,4]:Math.abs(i-800)<2||Math.abs(i+400)<2?[4,5]:Math.abs(i-500)<2||Math.abs(i+700)<2?[3,2]:Math.abs(i-700)<2||Math.abs(i+500)<2?[2,3]:Math.abs(i-600)<2||Math.abs(i+600)<2?[13,9]:Math.abs(i-1200)<2||Math.abs(i+1200)<2||Math.abs(i)<2?[1,1]:void 0}function V(e,t,n,a,i,o,r,c,s){var l=n/2,u={x:l+Math.cos(e)*l*i,y:l+Math.sin(-e)*l*i},h={x:l+Math.cos(t)*l*i,y:l+Math.sin(-t)*l*i},d=L(o,r);if(d){a.lineWidth=1;var f=h.x-u.x,v=h.y-u.y,b=Math.sqrt(Math.pow(f,2)+Math.pow(v,2)),m=b/d[0]/2,j=b/d[1]/2;a.strokeStyle="object"===typeof c?"rgb(".concat(c.r,", ").concat(c.g,", ").concat(c.b,")"):s;for(var p=0;p<d[0];p++){a.beginPath();var x=u.x+f/d[0]*(p+.5),O=u.y+v/d[0]*(p+.5);a.arc(x,O,m,0,P),a.stroke()}a.strokeStyle="object"===typeof s?"rgb(".concat(s.r,", ").concat(s.g,", ").concat(s.b,")"):s;for(var g=0;g<d[1];g++){a.beginPath();var _=u.x+f/d[1]*(g+.5),M=u.y+v/d[1]*(g+.5);a.arc(_,M,j,0,P),a.stroke()}}a.globalCompositeOperation="source-over",a.strokeStyle="white",a.lineWidth=2,a.beginPath(),a.moveTo(u.x,u.y),a.lineTo(h.x,h.y),a.stroke()}function B(e){var t=e.className,n=e.activePitches,i=e.baseFrequencies,o=e.diameter,r=e.mode,c=e.pitchSequence,l=Object(a.useRef)(),u=Object(a.useState)(null),h=Object(s.a)(u,2),f=h[0],b=h[1],m=Object(a.useState)(null),j=Object(s.a)(m,2),p=j[0],g=j[1];return Object(a.useEffect)((function(){l.current&&(b(new x(l.current)),g(new x(void 0,o,o)))}),[l,o]),Object(a.useEffect)((function(){f&&(f.resize(o,o),p.resize(o,o))}),[f,p,o]),Object(a.useEffect)((function(){if(f){var e=c.length,t=function(e){for(var t=[],n=S/e,a=0;a<e;a++)t.push(H(Object(O.toRadianDirection)(a*n)));return t}(e);f.clearRect(),p.clearRect(),function(){for(var a=P/e/2,i=A[r].chords,s=0;s<e;s++){var l=c[s]/e*S,u=t[s],h=n.indexOf(s)>=0,d=Object(O.toRadianDirection)(l);i[s];q(p,u,o,d-a,d+a,h?1:.95,h?.12:.1)}}(),function(){for(var a=0;a<n.length;a++)for(var r=n[a],s=S/e*c.indexOf(r),l=i[c.indexOf(r)],u=a+1;u<n.length;u++){var h=n[u],d=S/e*c.indexOf(h),f=i[c.indexOf(h)],v=t[r],b=t[h];V(Object(O.toRadianDirection)(s),Object(O.toRadianDirection)(d),o,p,.4,l,f,v,b)}}(),f.drawImage(p)}}),[n,i,o,r,c,p,f]),Object(C.jsx)("canvas",{className:v()(d.a.root,t),ref:l})}var G=n(2),U=n.n(G),z=n(7),W=n(11),Y=n(27),X=n.n(Y);function Q(e){var t=e.className,n=Object(W.a)(e,["className"]);return Object(C.jsx)("input",Object(z.a)({className:v()(X.a.root,t)},n))}var Z=n(28),J=n.n(Z);function K(e){var t=e.className,n=e.href,a=e.component,i=void 0===a?n?"a":"button":a,o=e.target,r=void 0===o?n&&"_blank":o,c=Object(W.a)(e,["className","href","component","target"]);return Object(C.jsx)(i,Object(z.a)({className:v()(J.a.root,t),target:r,href:n},c))}function $(e,t){if(1===e)return"Clockwise";if(e===t-1)return"Anticlockwise";if(t%M===0){if(7===e)return"Circle of Fifths";if(e===t-7)return"Circle of Fourths"}return"skip ".concat(e-1)}function ee(e){var t=e.a4,n=e.setA4,a=e.allPitchNames,i=e.eq,o=e.setEq,r=e.mode,s=e.setMode,l=e.oscillator,u=e.setOscillator,h=e.pitchSkip,d=e.setPitchSkip,f=e.semitones,b=e.setSemitones,m=e.transposition,j=e.setTransposition,p=e.pitchSkipOptions;function x(e){var t=e.target.value;u(t)}function O(e,t){var n=t.target.value,a=Object(c.a)(i);a[e]=n,o(a)}return Object(C.jsxs)("form",{className:U.a.root,children:[Object(C.jsxs)("div",{className:U.a.property,children:[Object(C.jsx)("h2",{className:U.a.title,children:"Oscillator"}),Object.values(D).map((function(e){return Object(C.jsxs)("label",{className:U.a.label,children:[Object(C.jsx)(Q,{type:"radio",checked:l===e,value:e,onChange:x}),Object(C.jsx)("div",{className:U.a.labelText,children:e})]},e)}))]}),Object(C.jsxs)("div",{className:U.a.property,children:[Object(C.jsxs)("h2",{className:U.a.title,children:["EQ",Object(C.jsx)(K,{className:U.a.reset,onClick:function(e){e.preventDefault(),o(k.map((function(){return 0})))},children:"reset"})]}),Object(C.jsx)("div",{className:U.a.verticalRangeHolder,children:i.map((function(e,t){return Object(C.jsx)(Q,{className:U.a.verticalRange,type:"range",min:"-1",max:.27,step:"0.01",value:e,onChange:O.bind(null,t)},t)}))})]}),Object(C.jsxs)("div",{className:U.a.property,children:[Object(C.jsx)("h2",{className:U.a.title,children:"Transposition"}),Object(C.jsx)("div",{className:U.a.columns,children:a.map((function(e,t){return Object(C.jsxs)("label",{className:U.a.label,children:[Object(C.jsx)(Q,{type:"radio",value:t*y,name:"transposition",checked:m===t*y,onChange:function(e){var t=e.target.value;j(parseInt(t))}}),Object(C.jsx)("div",{className:U.a.labelText,children:e})]},e)}))})]}),Object(C.jsxs)("div",{className:U.a.property,children:[Object(C.jsx)("h2",{className:U.a.title,children:"Mode"}),Object(C.jsx)("div",{className:U.a.columns,children:A.map((function(e,t){return Object(C.jsxs)("label",{className:U.a.label,children:[Object(C.jsx)(Q,{type:"radio",value:t,name:"mode",checked:r===t,onChange:function(e){var t=e.target.value;s(parseInt(t))}}),Object(C.jsx)("div",{className:U.a.labelText,children:e.name})]},e.name)}))})]}),Object(C.jsxs)("div",{className:U.a.property,children:[Object(C.jsxs)("h2",{className:U.a.title,children:["Semitones",Object(C.jsx)(K,{className:U.a.reset,onClick:function(e){e.preventDefault(),b(M)},children:"reset"}),Object(C.jsx)("div",{className:U.a.valueText,children:f})]}),Object(C.jsx)("label",{className:v()(U.a.label,U.a.wide),children:Object(C.jsx)(Q,{type:"range",min:1,max:240,value:f,onChange:function(e){var t=e.target.value;b(parseInt(t))}})})]}),Object(C.jsxs)("div",{className:U.a.property,children:[Object(C.jsxs)("h2",{className:U.a.title,children:["A4",Object(C.jsx)(K,{className:U.a.reset,onClick:function(e){e.preventDefault(),n(N)},children:"reset"}),Object(C.jsxs)("div",{className:U.a.valueText,children:[t,I[t]&&" (".concat(I[t],")")]})]}),Object(C.jsx)("label",{className:v()(U.a.label,U.a.wide),children:Object(C.jsx)(Q,{type:"range",min:Math.min.apply(Math,Object(c.a)(Object.keys(I))),max:Math.max.apply(Math,Object(c.a)(Object.keys(I))),value:t,onChange:function(e){var t=e.target.value;n(parseInt(t))}})})]}),Object(C.jsxs)("div",{className:U.a.property,children:[Object(C.jsx)("h2",{className:U.a.title,children:"Organize"}),Object(C.jsx)("div",{className:U.a.columns,children:p.map((function(e){return Object(C.jsxs)("label",{className:U.a.label,children:[Object(C.jsx)(Q,{type:"radio",value:e,name:"pitchSkip",checked:h===e,onChange:function(e){var t=e.target.value;d(parseInt(t))}}),Object(C.jsx)("div",{className:U.a.labelText,children:$(e,f)})]},e)}))})]}),Object(C.jsx)(K,{className:U.a.issue,href:"https://github.com/danehansen/shepard-wheel/issues",children:"submit issue"})]})}var te=n(14),ne=n.n(te);function ae(e){var t=e.pitchNamesSorted,n=e.diameter,a=e.chordNamesSorted,i=t.length;return Object(C.jsx)("div",{className:ne.a.root,children:t.map((function(e,t){var o,r,c=S/i*t,s=2===(null===e||void 0===e?void 0:e.length)||3===(null===e||void 0===e?void 0:e.length),l=(null===e||void 0===e?void 0:e.length)>3,u=-.475;return l?(o="translate(0%, -50%) rotate(".concat(c,"deg) translate(0%, 50%) translateY(").concat(n*u,"px) rotate(",90,"deg)"),r="0 50%"):(r="50% 0",o=s?"translate(-50%, 0) rotate(".concat(c,"deg) translateY(").concat(-.45599999999999996*n,"px) "):"translate(-50%, 0) rotate(".concat(c,"deg) translateY(").concat(n*u,"px) ")),Object(C.jsx)("div",{className:v()(ne.a.button,l&&ne.a.small,s&&ne.a.hasAccidental,!a[t]&&ne.a.deemphesized),style:{transform:o,transformOrigin:r},children:e},t)}))})}var ie=n(19),oe=n.n(ie);function re(e){var t=e.chordNamesSorted,n=e.diameter,a=t.length;return Object(C.jsx)("div",{className:oe.a.root,children:t.map((function(e,t){if(!e)return null;var i=S/a*t;return Object(C.jsx)("div",{className:oe.a.button,style:{transform:"translate(-50%, -50%) rotate(".concat(i,"deg) translateY(").concat(-.22*n,"px)")},children:e},t)}))})}var ce=n(29),se=n.n(ce),le="ontouchstart"in window;function ue(e){var t,n=e.pitchSequence,i=e.callback,o=e.diameter,r=Object(a.useRef)(),c=Object(a.useState)(!1),l=Object(s.a)(c,2),u=l[0],h=l[1];function d(e){var t=[],a=e.type,c=/touch/.test(a),s=r.current.getBoundingClientRect(),l=P/n.length/2;function u(e,a){var i=e-s.x-.5*o,r=-(a-s.y-.5*o);if(Math.sqrt(Math.pow(i,2)+Math.pow(r,2))<=o/2){var c=Object(O.modulo)(Math.atan2(r,i),P),u=Object(O.toDegreeDirection)(c-l),d=Math.floor(u/S*n.length);"number"===typeof d&&t.push(n[d])}else h(!1)}switch(a){case"mousedown":h(!0);break;case"mouseup":h(!1)}if(c)for(var d=e.targetTouches||[],f=0;f<d.length;f++){var v=d[f];u(v.clientX,v.clientY)}else"mouseup"!==a&&u(e.clientX,e.clientY);i(t)}return t=le?{onTouchStart:d,onTouchEnd:d,onTouchCancel:d,onTouchMove:d}:{onMouseUp:d,onMouseDown:d,onMouseMove:u?d:null},Object(C.jsx)("div",Object(z.a)({ref:r,className:se.a.root},t))}function he(e){var t=e.component,n=void 0===t?"div":t,i=e.callback,o=Object(W.a)(e,["component","callback"]),r=Object(a.useState)(!1),c=Object(s.a)(r,2),l=c[0],u=c[1];function h(e){u(!0),i()}var d={};return l||(d={onClick:h,onMouseUp:h,onMouseDown:h,onMouseEnter:h,onMouseLeave:h,onMouseOver:h,onMouseOut:h,onMouseMove:h,onTouchStart:h,onTouchEnd:h,onTouchCancel:h,onTouchMove:h}),Object(C.jsx)(n,Object(z.a)(Object(z.a)({},d),o))}var de=n(16),fe=n.n(de);function ve(e){for(var t=e.chords,n=e.pitchNames,a=[],i=0;i<t.length;i++){var o=t[i],r=o.fingersNeeded,c=o.chordIndex,s=o.rootPitch,l=R[c];a[r]||(a[r]=[]),a[r].push(Object(C.jsxs)("span",{className:fe.a.chord,children:[n[s][l.textTransform](),l.suffix,Object(C.jsx)("sup",{})]},i))}return Object(C.jsx)("div",{className:fe.a.root,children:a.map((function(e,t){return Object(C.jsx)("div",{className:v()(fe.a.chordHolder,fe.a["fingersNeeded".concat(t)]),children:e},t)}))})}var be=n(9),me=n.n(be);function je(e){e.pitchNames;for(var t=e.callback,n=[],a=1;a<12;a++)n.push(Object(C.jsxs)(K,{className:me.a.button,onMouseDown:t.bind(null,100*a,!0),onMouseUp:t.bind(null,100*a,!1),onTouchStart:t.bind(null,100*a,!0),onTouchEnd:t.bind(null,100*a,!1),children:[Object(C.jsx)("span",{className:me.a.fraction,children:"+"}),Object(C.jsxs)("span",{className:me.a.fraction,children:[Object(C.jsx)("div",{className:me.a.numerator,children:a}),Object(C.jsx)("div",{className:me.a.denominator,children:"2"})]})]},a));return Object(C.jsx)("div",{className:me.a.root,children:Object(C.jsx)("div",{className:me.a.row,children:n})})}function pe(e){for(var t=[1],n=2;n<e;n++)xe(e,n)&&t.push(n);return t}function xe(e,t){for(var n=[],a=0;a<e;a++){var i=a*t%e;if(void 0!==n[i])return!1;n[i]=i}return n}var Oe=["A",["A\u266f","B\u266d"],"B","C",["C\u266f","D\u266d"],"D",["D\u266f","E\u266d"],"E","F",["F\u266f","G\u266d"],"G",["G\u266f","A\u266d"]];function ge(e){return Object(O.modulo)(e,M)}function _e(e,t){if(400===e&&1===t||100===e&&6===t)return["A","A\u266f","B","B\u266f","C\u266f","D","D\u266f","E","E\u266f","F\u266f","G","G\u266f"];if(600===e&&1===t||300===e&&6===t)return["A","B\u266d","B","C","D\u266d","D","E\u266d","E","F","G\u266d","G","A\u266d"];if(900===e&&1===t||600===e&&6===t)return["A","A\u266f","B","C","C\u266f","D","D\u266f","E","E\u266f","F\u266f","G","G\u266f"];if(1100===e&&1===t||800===e&&6===t)return["A","A\u266f","B","B\u266f","C\u266f","D","D\u266f","E","E\u266f","F\u266f\u266f","G","G\u266f"];var n=A[t].useModeForNaming;if("number"===typeof n)return _e(e,n);var a=[];return function(n){for(var a=["A","B","C","D","E","F","G"],i=A[t].chords,o=0,r=0;r<M;r++){i[ge(r-e/y)]&&(n[r]=a[o],o++)}}(a),function(e){for(var t=function(t){var n=Oe[t],a=Oe[ge(t-1)],i=Oe[ge(t+1)];if(e[t])if(Array.isArray(n)){var o=n.findIndex((function(n){return n.indexOf(e[t])>=0}));e[t]=n[o]}else a===e[t]?e[t]="".concat(e[t],"\u266f"):i===e[t]&&(e[t]="".concat(e[t],"\u266d"))},n=0;n<M;n++)t(n)}(a),function(e){for(var t=e.join("").indexOf("\u266d")>=0,n=e.join("").indexOf("\u266f")>=0,a=0;a<12;a++)if(!e[a]){var i=Oe[a];Array.isArray(i)?e[a]=t&&!n?i[1]:i[0]:e[a]=i}}(a),a}function Me(e,t){for(var n=Number.MAX_VALUE,a=[],i=e;i<1200+e;i+=100)for(var o=t;o<=7+t;o++){var r=_e(i%1200,o%7+1),c=Ne(i%1200,o%7+1,r);c<n?(n=c,a=[r]):c===n&&a.push(r)}return a[0]}function Ne(e,t,n){for(var a=A[t].chords,i="",o=0;o<a.length;o++)a[o]&&(i+=n[o]);var r=i.match(/[\u266d\u266f]/gi);return r?r.length:0}function ye(e,t,n){return Object(c.a)(Array(e).keys()).map((function(a){var i=(a/e*M+t/y)%M,o=Math.floor(i),r=n[o],c=i%1;return c?"".concat(r).concat(String(Object(O.round)(c,.001)).slice(1,5)):r}))}function we(e){for(;e/2>20;)e/=2;return e}function Ie(e,t){for(var n=[],a=0;a<e;a++)n.push(we(T(t,a*y*(M/e))));return n}function Te(e,t){for(var n=[],a=0;a<e;a++)n.push(a*t%e);return n}function Ce(e,t,n){for(var a=Object(c.a)(A[t].chords),i=[],o=0;o<e;o++){var r=o/e*a.length;i.push(a[r]||null)}return i.map((function(t,a){return i[a*n%e]}))}function Se(e,t){return e.map((function(n,a){return e[a*t%e.length]}))}var Pe,ke,Ee=n(20),Ae={};function De(e){Pe&&Pe.close();var t=(Pe=new(window.AudioContext||window.webkitAudioContext)).createGain();t.connect(Pe.destination),t.gain.value=.1,ke=t;for(var n=0;n<e.length;n++){var a=Pe.createBiquadFilter();0===n?a.type="lowshelf":n===e.length-1?a.type="highshelf":a.type="peaking",a.frequency.value=k[n],a.gain.value=40*e[n],a.connect(ke),ke=a}t.connect(ke),Object.values(Ae).forEach((function(e){e.stop(),e.disconnect()})),Ae={}}function Re(e){for(var t=[];e<_;)t.push(e),e*=2;return t}var He="undefined"!==typeof window?window:null,Fe={addEventListener:function(){},innerHeight:0,innerWidth:0,removeEventListener:function(){}};function qe(e){for(var t=[],n=function(n){t.push(e.map((function(t,a){return e[(a+n)%e.length]})))},a=0;a<e.length;a++)n(a);return t}function Le(e,t){return e.fingersNeeded-t.fingersNeeded}function Ve(e,t){return e.chordIndex-t.chordIndex}function Be(e,t){return e.name>t.name?1:e.name<t.name?-1:0}function Ge(e,t){for(var n=0,a=0;a<e.length;a++){if(t.additionalPitches.indexOf(e[a])<0)return;n++}return t.additionalPitches.length-n}var Ue=n(13),ze=Object(Ue.throttle)((function(e){window.history.replaceState(null,null,"".concat(window.location.origin).concat(window.location.pathname,"?").concat(e))}),1e3),We=n(21),Ye=n.n(We);function Xe(){var e=Ye.a.parse(window.location.search,{parseNumbers:!0,arrayFormat:"comma"});function t(t,n,i){Object(a.useEffect)((function(){function a(){ze(Ye.a.stringify(e,{arrayFormat:"comma"}))}Object(Ue.isEqual)(e[t],n)||(Object(Ue.isEqual)(i,n)&&void 0!==e[t]?(delete e[t],a()):Object(Ue.isEqual)(i,n)||(e[t]=n,a()))}),[n,t,i])}var n=Object(a.useState)(e.a4||N),i=Object(s.a)(n,2),o=i[0],r=i[1];t("a4",o,N);var l=Object(a.useState)(e.oscillator||D.SINE),h=Object(s.a)(l,2),d=h[0],f=h[1];t("oscillator",d,D.SINE);var v=Object(a.useState)(e.semitones||M),b=Object(s.a)(v,2),m=b[0],j=b[1];t("semitones",m,M);var p=Object(a.useState)(void 0!==e.transposition?e.transposition:300),x=Object(s.a)(p,2),g=x[0],_=x[1];t("transposition",g,300);var y=Object(a.useState)(e.mode||0),w=Object(s.a)(y,2),I=w[0],S=w[1];t("mode",I,0);var P=Object(a.useState)(Me(g,I)),E=Object(s.a)(P,2),A=E[0],H=E[1];Object(a.useEffect)((function(){H(Me(g,I))}),[I,g]);var F=Object(a.useState)(ye(m,g,A)),q=Object(s.a)(F,2),L=q[0],V=q[1];Object(a.useEffect)((function(){V(ye(m,g,A))}),[m,g,A]);var G=Object(a.useState)(pe(m)),U=Object(s.a)(G,2),z=U[0],W=U[1];Object(a.useEffect)((function(){W(pe(m))}),[m]);var Y=e.pitchSkip?e.pitchSkip:z[0],X=Object(a.useState)(Y),Q=Object(s.a)(X,2),Z=Q[0],J=Q[1];Object(a.useEffect)((function(){z.indexOf(Z)<0&&J(z[0])}),[z,Z]),t("pitchSkip",Z,Y);for(var $=[],te=0;te<k.length;te++)$.push(0);var ne=Object(a.useState)(e.eq||k.map((function(){return 0}))),ie=Object(s.a)(ne,2),oe=ie[0],ce=ie[1];t("eq",oe,k.map((function(){return 0})));var se=Object(a.useState)(T(o,g)),le=Object(s.a)(se,2),de=le[0],fe=le[1];Object(a.useEffect)((function(){fe(T(o,g))}),[g,o]);var be=Object(a.useState)(Ie(m,de)),me=Object(s.a)(be,2),xe=me[0],Oe=me[1];Object(a.useEffect)((function(){Oe(Ie(m,de))}),[m,de]);var ge=Object(a.useState)(Te(m,Z)),_e=Object(s.a)(ge,2),Ne=_e[0],We=_e[1];Object(a.useEffect)((function(){We(Te(m,Z))}),[m,Z]);var Xe=Object(a.useState)(Se(L,Z)),Qe=Object(s.a)(Xe,2),Ze=Qe[0],Je=Qe[1];Object(a.useEffect)((function(){Je(Se(L,Z))}),[L,Z]);var Ke=Object(a.useState)(Ce(m,I,Z)),$e=Object(s.a)(Ke,2),et=$e[0],tt=$e[1];Object(a.useEffect)((function(){tt(Ce(m,I,Z))}),[m,Z,I]);var nt=Object(a.useState)([]),at=Object(s.a)(nt,2),it=at[0],ot=at[1],rt=Object(a.useState)([]),ct=Object(s.a)(rt,2),st=ct[0],lt=ct[1];var ut=Object(a.useState)([]),ht=Object(s.a)(ut,2),dt=ht[0],ft=ht[1],vt=Math.min.apply(Math,Object(c.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He||Fe,t=Object(a.useState)(e.innerHeight),n=Object(s.a)(t,2),i=n[0],o=n[1],r=Object(a.useState)(e.innerWidth),c=Object(s.a)(r,2),l=c[0],u=c[1];return Object(a.useEffect)((function(){function t(){o(e.innerHeight),u(e.innerWidth)}return e.addEventListener("resize",t),function(){e.removeEventListener("resize",t)}}),[e]),[l,i]}())),bt=Object(a.useState)(!1),mt=Object(s.a)(bt,2),jt=mt[0],pt=mt[1];Object(a.useEffect)((function(){for(var e=[],t=0;t<m;t++)if(it.indexOf(t)>=0){var n=xe[t];e.indexOf(n)<0&&e.push(n);for(var a=0;a<st.length;a++){var i=we(T(n,st[a]));e.indexOf(i)<0&&e.push(i)}}var o=e.map((function(e){var t,n=Number.MAX_VALUE;return xe.forEach((function(a,i){var o=Math.abs(e-a);o<n&&(n=o,t=i)})),t}));_t(o),function(e,t){var n,a=Ae,i={},o=[],r=Object(Ee.a)(e);try{for(r.s();!(n=r.n()).done;){var c,s=Re(n.value),l=Object(Ee.a)(s);try{for(l.s();!(c=l.n()).done;){var u=c.value,h=a[u];h?(i[u]=h,delete a[u]):o.push(u)}}catch(j){l.e(j)}finally{l.f()}}}catch(j){r.e(j)}finally{r.f()}for(var d=Object.values(a),f=0,v=o;f<v.length;f++){var b=v[f],m=void 0;d.length?(m=d.pop()).frequency.setValueAtTime(b,0):((m=Pe.createOscillator()).type=t,m.frequency.value=b,m.connect(ke),m.start()),i[b]=m}d.forEach((function(e){e.stop(),e.disconnect()})),Ae=i}(e,d)}),[it,st,xe,d,m]);var xt=Object(a.useState)([]),Ot=Object(s.a)(xt,2),gt=Ot[0],_t=Ot[1];return Object(C.jsxs)(he,{className:u.a.root,callback:De.bind(null,oe),children:[Object(C.jsxs)("div",{className:u.a.contentHolder,children:[Object(C.jsx)("div",{className:u.a.top,children:Object(C.jsx)(je,{pitchNames:L,callback:function(e,t){if(t)st.indexOf(e)<0&&lt([].concat(Object(c.a)(st),[e]));else{var n=Object(c.a)(st);n.splice(st.indexOf(e,1)),lt(n)}}})}),Object(C.jsx)("div",{className:u.a.bottom,children:Object(C.jsx)(ve,{chords:dt,pitchNames:L})})]}),Object(C.jsxs)("div",{className:u.a.wheelHolder,style:{width:"".concat(vt,"px"),height:"".concat(vt,"px")},children:[Object(C.jsx)(B,{activePitches:gt,baseFrequencies:xe,diameter:vt,pitchSequence:Ne,mode:I}),Object(C.jsx)(ae,{pitchNamesSorted:Ze,diameter:vt,chordNamesSorted:et}),Object(C.jsx)(re,{chordNamesSorted:et,diameter:vt}),Object(C.jsx)(ue,{callback:function(e){var t=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(!e.length||!t)return e;for(var a=Object(O.random)(t,n,!0),i=[],o=0;o<a;o++){var r=void 0;do{r=Object(O.random)(0,12,!0)}while(e.indexOf(r)>=0);i.push(r)}return[].concat(Object(c.a)(e),i)}();ot(t),ft(function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,i=[],o=e.length;if(!o)return i;for(var r=qe(e.map(b)),c=12,s=a.length,l=0;l<c;l++)for(var u=100*l,h=0;h<s;h++)for(var d=a[h],f=function(e){var t=void 0,a=void 0,c=void 0;if(e===o?(c=r[0],t=u,a=c.map((function(e){return Object(O.modulo)(e-t,1200)}))):(c=r[e],t=c[0],a=c.slice(1).map((function(e){return Object(O.modulo)(e-t,1200)}))),u===t){var s=Ge(a,d);if("number"===typeof s){var l=m(t),f={fingersNeeded:e===o?s+1:s,name:"".concat(n[l][d.textTransform]()).concat(d.suffix),rootPitch:l,chordIndex:h};i.push(f)}}},v=0;v<=o;v++)f(v);return i.sort(Be).sort(Ve).sort(Le),i;function b(e){return e/t*M*100}function m(e){return e/100/M*t}}(t,m,L))},diameter:vt,pitchSequence:Ne})]}),jt&&Object(C.jsx)("div",{className:u.a.menuHolder,children:Object(C.jsx)(ee,{a4:o,setA4:r,allPitchNames:A,eq:oe,setEq:ce,mode:I,setMode:S,oscillator:d,setOscillator:f,pitchSkip:Z,setPitchSkip:J,semitones:m,setSemitones:j,transposition:g,setTransposition:_,pitchSkipOptions:z})}),Object(C.jsx)(K,{className:u.a.menuButton,onClick:function(){jt&&De(oe),pt(!jt)},children:jt?"x":"menu"})]})}var Qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),o(e),r(e)}))};r.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(Xe,{})}),document.getElementById("root")),Qe()},8:function(e,t,n){e.exports={root:"App_root__nWMuC",menuHolder:"App_menuHolder__243kY",menuButton:"App_menuButton__3IBp4",contentHolder:"App_contentHolder__3Zpi7",top:"App_top__3heaO",bottom:"App_bottom__sNSD1",wheelHolder:"App_wheelHolder__1I76D"}},9:function(e,t,n){e.exports={row:"VirtualFingers_row__3UaU9",button:"VirtualFingers_button__gF7kI",denominator:"VirtualFingers_denominator__37njw"}}},[[51,1,2]]]);
//# sourceMappingURL=main.80d9d7ca.chunk.js.map