(this["webpackJsonpshepard-wheel"]=this["webpackJsonpshepard-wheel"]||[]).push([[0],{11:function(e,t,n){e.exports={root:"App_root__nWMuC",menuHolder:"App_menuHolder__243kY",menuButton:"App_menuButton__3IBp4",contentHolder:"App_contentHolder__3Zpi7",wheelHolder:"App_wheelHolder__1I76D"}},13:function(e,t,n){e.exports={root:"PitchLabel_root__3-xxj",button:"PitchLabel_button__29U3k",small:"PitchLabel_small__3x-Zk",deemphesized:"PitchLabel_deemphesized__Gd1GB"}},17:function(e,t,n){e.exports={root:"ChordLabel_root__U_GCi",button:"ChordLabel_button__3bTYZ"}},2:function(e,t,n){e.exports={root:"Menu_root__3QA5H",property:"Menu_property__qoOWz",title:"Menu_title__tE_9H",reset:"Menu_reset__uN5da",columns:"Menu_columns__3o8dK",label:"Menu_label__3hKMT",wide:"Menu_wide__2sfIP",labelText:"Menu_labelText__2uoMn",valueText:"Menu_valueText__37XmB",input:"Menu_input__17q9X",verticalRangeHolder:"Menu_verticalRangeHolder__2TdXL",verticalRange:"Menu_verticalRange__3aZoM"}},22:function(e,t,n){e.exports={root:"Display_root__ig8ld"}},25:function(e,t,n){e.exports={root:"Input_root__2EB5Y"}},26:function(e,t,n){e.exports={root:"Button_root__1mUtC"}},27:function(e,t,n){e.exports={root:"TouchPad_root__22wzt"}},32:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(21),o=n.n(c),l=(n(32),n(5)),r=n(3),s=n(11),u=n.n(s),h=n(22),d=n.n(h),v=n(4),f=n.n(v),b=n(23),m=n(24);function j(e,t,n,a,i){var c=Math.cos(e),o=Math.sin(e),l=t-c*t-o*-n,r=n-o*t-c*n;i.call(a,c,o,-o,c,l,r)}var p=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("canvas"),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.offsetWidth,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.offsetHeight,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.devicePixelRatio;Object(b.a)(this,e),this.resize=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.devicePixelRatio;if(!e||!n){var i=!!t._element.parentNode;e=i?t._element.offsetWidth:t._width,n=i?t._element.offsetHeight:t._height}t._devicePixelRatio=a,t._width=e,t._height=n,t._element.width=e*t._devicePixelRatio,t._element.height=n*t._devicePixelRatio,t._imageDataHandler=null,t._context.scale(t._devicePixelRatio,t._devicePixelRatio)},this.arc=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t._context.arc(e,n,a,i,c,o)},this.beginPath=function(){t._context.beginPath()},this.bezierCurveTo=function(){var e;(e=t._context).bezierCurveTo.apply(e,arguments)},this.clearRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.clearRect(e,n,a,i),t._imageDataHandler=null},this.clip=function(){var e;(e=t._context).clip.apply(e,arguments)},this.closePath=function(){t._context.closePath()},this.drawImage=function(n,a,i,c,o,l,r,s,u){var h=n instanceof e;"number"===typeof l?h?(a*=t._devicePixelRatio,i*=t._devicePixelRatio,c*=t._devicePixelRatio,o*=t._devicePixelRatio,t._context.drawImage(n.element,a,i,c,o,l,r,s,u)):t._context.drawImage(n,a,i,c,o,l,r,s,u):h?(c=c||n.width,o=o||n.height,t._drawImageDest(n.element,a,i,c,o)):t._drawImageDest(n,a,i,c,o),t._imageDataHandler=null},this._drawImageDest=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.width,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.height;t._context.drawImage(e,n,a,i,c)},this.fill=function(){var e;(e=t._context).fill.apply(e,arguments),t._imageDataHandler=null},this.fillRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.fillRect(e,n,a,i),t._imageDataHandler=null},this.lineTo=function(){var e;(e=t._context).lineTo.apply(e,arguments)},this.moveTo=function(){var e;(e=t._context).moveTo.apply(e,arguments)},this.quadraticCurveTo=function(){var e;(e=t._context).quadraticCurveTo.apply(e,arguments)},this.rect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.rect(e,n,a,i)},this.stroke=function(){var e;(e=t._context).stroke.apply(e,arguments),t._imageDataHandler=null},this.resetTransform=function(){t._context.resetTransform(),t._context.scale(t._devicePixelRatio,t._devicePixelRatio)},this.restore=function(){t._context.restore()},this.rotate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5*t.width,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5*t.height;e&&j(e,n,a,t._context,t._context.transform)},this.save=function(){t._context.save()},this.setRotate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5*t.width,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5*t.height;j(e,n,a,t._context,t.setTransform)},this.setTransform=function(e,n,a,i,c,o){e*=t._devicePixelRatio,n*=t._devicePixelRatio,a*=t._devicePixelRatio,i*=t._devicePixelRatio,c*=t._devicePixelRatio,o*=t._devicePixelRatio,t._context.setTransform(e,n,a,i,c,o)},this.setTranslate=function(e,n){t.setTransform(1,0,0,1,e,n)},this.translate=function(e,n){t._context.translate(e,n)},this.createImageData=function(e,n){return t._context.createImageData(e,n)},this._element=n,this._context=this._element.getContext("2d"),this.resize(a,i,c)}return Object(m.a)(e,[{key:"element",get:function(){return this._element}},{key:"height",get:function(){return this._height}},{key:"imageDataHandler",get:function(){return this._imageDataHandler}},{key:"width",get:function(){return this._width}},{key:"fillStyle",set:function(e){this._context.fillStyle=e}},{key:"globalCompositeOperation",set:function(e){this._context.globalCompositeOperation=e}},{key:"globalAlpha",set:function(e){this._context.globalAlpha=e}},{key:"lineWidth",set:function(e){this._context.lineWidth=e}},{key:"strokeStyle",set:function(e){this._context.strokeStyle=e}}],[{key:"quadraticThrough",value:function(e){for(var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Path2D,i=e.length,c=0;c<i-1;c++)if(t=n||e[0],n=e[c+1],0===c)a.moveTo(t.x,t.y);else if(c<i-2){var o=(t.x+n.x)/2,l=(t.y+n.y)/2;a.quadraticCurveTo(t.x,t.y,o,l)}else a.quadraticCurveTo(t.x,t.y,n.x,n.y);return a}}]),e}(),O=n(6);function x(e){var t=2*Math.PI,n=function(e){return e*Math.PI/180}(-e)+.25*t;return Object(O.modulo)(n,t)}function g(e){var t=function(e){return 180*e/Math.PI}(-e);return Object(O.modulo)(t+90,360)}var _,y=n(10),I=2e4,M=12,N=440,w=["A","A\u266f/B\u266d","B","C","C\u266f/D\u266d","D","D\u266f/E\u266d","E","F","F\u266f/G\u266d","G","G\u266f/A\u266d"],S=100,k=1200,T=(_={415:"baroque",427:"classical",428:"classical",429:"classical",430:"classical",430.54:"scientific",432:"\u201cfrequency of the universe\u201d",435:"diapson normal",439:"new philharmonic"},Object(y.a)(_,N,"stuttgart"),Object(y.a)(_,452,"old philharmonic"),Object(y.a)(_,466,"chorton"),_);function P(e,t){return e*Math.pow(Math.pow(2,.08333333333333333),t/S)}for(var C=360,R=2*Math.PI,E=[],q=2;q<I;)(q*=2)>=20&&q<=I&&E.push(q);var H=[{name:"(none)",chords:[]},{name:"I ionian (major)",chords:["I",null,"ii",null,"iii","IV",null,"V",null,"vi",null,"vii\xba"]},{name:"II dorian",chords:["i",null,"ii","III",null,"IV",null,"v",null,"vi\xba","VII",null]},{name:"III phrygian",chords:["i","II",null,"III",null,"iv",null,"v\xba","VI",null,"vii",null]},{name:"IV lydian",chords:["I",null,"II",null,"iii",null,"iv\xba ","V",null,"vi",null,"vii"]},{name:"V mixolydian",chords:["I",null,"ii",null,"iii\xba","IV",null,"v",null,"vi","VII",null]},{name:"VI aeolian (minor)",chords:["i",null,"ii\xba","III",null,"iv",null,"v","VI",null,"VII",null]},{name:"VII locrian",chords:["i\xba","II",null,"iii",null,"iv","V",null,"VI",null,"vii",null]},{name:"major pentatonic",chords:["I",null,"ii",null,"iii",null,null,"V",null,"vi",null,null]},{name:"minor pentatonic",chords:["i",null,null,"III",null,"iv",null,"v",null,null,"VII",null]},{name:"blues major",chords:["I",null,"ii",null,null,"IV",null,"v",null,"vi",null,null]},{name:"blues minor",chords:["i",null,null,"III",null,"iv",null,null,"VI",null,"vii",null]},{name:"egyptian",chords:["i",null,"ii",null,null,"IV",null,"v",null,null,"VII",null]}],D={SINE:"sine",SQUARE:"square",TRIANGLE:"triangle"};function V(e){e-=.25*R;var t=R/3,n=Math.cos(-e),a=Math.cos(-e-t),i=Math.cos(-e+t);return{r:Math.round(255*n*.5+127.5),g:Math.round(255*a*.5+127.5),b:Math.round(255*i*.5+127.5)}}function A(e){return Math.atan2(-Math.sin(e),Math.cos(e))}function z(e,t,n,a,i,c,o,l){var r=n/2,s=Object(O.modulo)(a,R)===Object(O.modulo)(i,R);if(e.beginPath(),e.fillStyle="rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"),s)e.arc(r,r,r*c,0,R);else{var u=Math.cos(a),h=Math.sin(a);e.moveTo(r+u*r*o,r+h*-r*o),e.lineTo(r+u*r*c,r+h*-r*c),e.arc(r,r,r*c,A(a),A(i),!0),u=Math.cos(i),h=Math.sin(i),e.moveTo(r+u*r*c,r+h*-r*c),e.lineTo(r+u*r*o,r+h*-r*o),e.arc(r,r,r*o,A(i),A(a),!1)}e.fill(),s&&(e.beginPath(),e.globalCompositeOperation="destination-out",e.arc(r,r,r*o,0,R),e.fill(),e.globalCompositeOperation="source-over")}function B(e,t){var n,a,i=(n=e,a=t,k*Math.log2(a/n)%k);return Math.abs(i-100)<1||Math.abs(i+1100)<1?[16,15]:Math.abs(i-1100)<1||Math.abs(i+100)<1?[15,16]:Math.abs(i-200)<1||Math.abs(i+1e3)<1?[9,8]:Math.abs(i-1e3)<1||Math.abs(i+200)<1?[8,9]:Math.abs(i-300)<1||Math.abs(i+900)<1?[5,3]:Math.abs(i-900)<1||Math.abs(i+300)<1?[3,5]:Math.abs(i-400)<1||Math.abs(i+800)<1?[5,4]:Math.abs(i-800)<1||Math.abs(i+400)<1?[4,5]:Math.abs(i-500)<1||Math.abs(i+700)<1?[3,2]:Math.abs(i-700)<1||Math.abs(i+500)<1?[2,3]:Math.abs(i-600)<1||Math.abs(i+600)<1?[13,9]:void 0}function L(e,t,n,a,i,c,o,l,r){var s=n/2,u={x:s+Math.cos(e)*s*i,y:s+Math.sin(-e)*s*i},h={x:s+Math.cos(t)*s*i,y:s+Math.sin(-t)*s*i},d=B(c,o);if(d){a.lineWidth=1;var v=h.x-u.x,f=h.y-u.y,b=Math.sqrt(Math.pow(v,2)+Math.pow(f,2)),m=b/d[0]/2,j=b/d[1]/2;a.strokeStyle="rgb(".concat(l.r,", ").concat(l.g,", ").concat(l.b,")");for(var p=0;p<d[0];p++){a.beginPath();var O=u.x+v/d[0]*(p+.5),x=u.y+f/d[0]*(p+.5);a.arc(O,x,m,0,R),a.stroke()}a.strokeStyle="rgb(".concat(r.r,", ").concat(r.g,", ").concat(r.b,")");for(var g=0;g<d[1];g++){a.beginPath();var _=u.x+v/d[1]*(g+.5),y=u.y+f/d[1]*(g+.5);a.arc(_,y,j,0,R),a.stroke()}}a.globalCompositeOperation="source-over",a.strokeStyle="white",a.lineWidth=2,a.beginPath(),a.moveTo(u.x,u.y),a.lineTo(h.x,h.y),a.stroke()}var F=n(0);function W(e){var t=e.className,n=e.activePitches,i=e.baseFrequencies,c=e.diameter,o=e.mode,l=e.pitchSequence,s=Object(a.useRef)(),u=Object(a.useState)(null),h=Object(r.a)(u,2),v=h[0],b=h[1],m=Object(a.useState)(null),j=Object(r.a)(m,2),O=j[0],g=j[1];return Object(a.useEffect)((function(){s.current&&(b(new p(s.current)),g(new p(void 0,c,c)))}),[s,c]),Object(a.useEffect)((function(){v&&(v.resize(c,c),O.resize(c,c))}),[v,O,c]),Object(a.useEffect)((function(){if(v){var e=l.length,t=function(e){for(var t=[],n=C/e,a=0;a<e;a++)t.push(V(x(a*n)));return t}(e);v.clearRect(),O.clearRect(),function(){for(var a=R/e/2,i=H[o].chords,r=0;r<e;r++){var s=l[r]/e*C,u=t[r],h=n.indexOf(r)>=0,d=x(s);i[r];z(O,u,c,d-a,d+a,h?1:.95,h?.12:.1)}}(),function(){for(var a=0;a<n.length;a++)for(var o=n[a],r=C/e*l.indexOf(o),s=i[l.indexOf(o)],u=a+1;u<n.length;u++){var h=n[u],d=C/e*l.indexOf(h),v=i[l.indexOf(h)],f=t[o],b=t[h];L(x(r),x(d),c,O,.4,s,v,f,b)}}(),v.drawImage(O)}}),[n,i,c,o,l,O,v]),Object(F.jsx)("canvas",{className:f()(d.a.root,t),ref:s})}var G=n(2),Y=n.n(G),U=n(8),X=n(9),Z=n(25),Q=n.n(Z);function J(e){var t=e.className,n=Object(X.a)(e,["className"]);return Object(F.jsx)("input",Object(U.a)({className:f()(Q.a.root,t)},n))}var K=n(26),$=n.n(K);function ee(e){var t=e.className,n=Object(X.a)(e,["className"]);return Object(F.jsx)("button",Object(U.a)({className:f()($.a.root,t)},n))}function te(e,t){if(1===e)return"clockwise";if(e===t-1)return"counterclockwise";if(t%M===0){if(7===e)return"circle of fifths";if(e===t-7)return"circle of fourths"}return"skip ".concat(e-1)}function ne(e){var t=e.a4,n=e.setA4,a=e.eq,i=e.setEq,c=e.mode,o=e.setMode,r=e.oscillator,s=e.setOscillator,u=e.pitchSkip,h=e.setPitchSkip,d=e.semitones,v=e.setSemitones,b=e.transposition,m=e.setTransposition,j=e.pitchSkipOptions;function p(e){var t=e.target.value;s(t)}function O(e,t){var n=t.target.value,c=Object(l.a)(a);c[e]=n,i(c)}return Object(F.jsxs)("form",{className:Y.a.root,children:[Object(F.jsxs)("div",{className:Y.a.property,children:[Object(F.jsx)("h2",{className:Y.a.title,children:"Oscillator"}),Object.values(D).map((function(e){return Object(F.jsxs)("label",{className:Y.a.label,children:[Object(F.jsx)(J,{className:Y.a.input,type:"radio",checked:r===e,value:e,onChange:p}),Object(F.jsx)("div",{className:Y.a.labelText,children:e})]},e)}))]}),Object(F.jsxs)("div",{className:Y.a.property,children:[Object(F.jsxs)("h2",{className:Y.a.title,children:["EQ",Object(F.jsx)(ee,{className:Y.a.reset,onClick:function(e){e.preventDefault(),i(E.map((function(){return 0})))},children:"reset"})]}),Object(F.jsx)("div",{className:Y.a.verticalRangeHolder,children:a.map((function(e,t){return Object(F.jsx)(J,{className:Y.a.verticalRange,type:"range",min:"-1",max:.27,step:"0.01",value:e,onChange:O.bind(null,t)},t)}))})]}),Object(F.jsxs)("div",{className:Y.a.property,children:[Object(F.jsx)("h2",{className:Y.a.title,children:"Transposition"}),Object(F.jsx)("div",{className:Y.a.columns,children:w.map((function(e,t){return Object(F.jsxs)("label",{className:Y.a.label,children:[Object(F.jsx)(J,{className:Y.a.input,type:"radio",value:t*S,name:"transposition",checked:b===t*S,onChange:function(e){var t=e.target.value;m(parseInt(t))}}),Object(F.jsx)("div",{className:Y.a.labelText,children:e})]},e)}))})]}),Object(F.jsxs)("div",{className:Y.a.property,children:[Object(F.jsx)("h2",{className:Y.a.title,children:"Mode"}),Object(F.jsx)("div",{className:Y.a.columns,children:H.map((function(e,t){return Object(F.jsxs)("label",{className:Y.a.label,children:[Object(F.jsx)(J,{className:Y.a.input,type:"radio",value:t,name:"mode",checked:c===t,onChange:function(e){var t=e.target.value;o(parseInt(t))}}),Object(F.jsx)("div",{className:Y.a.labelText,children:e.name})]},e.name)}))})]}),Object(F.jsxs)("div",{className:Y.a.property,children:[Object(F.jsxs)("h2",{className:Y.a.title,children:["Semitones",Object(F.jsx)(ee,{className:Y.a.reset,onClick:function(e){e.preventDefault(),v(M)},children:"reset"}),Object(F.jsx)("div",{className:Y.a.valueText,children:d})]}),Object(F.jsx)("label",{className:f()(Y.a.label,Y.a.wide),children:Object(F.jsx)(J,{className:Y.a.input,type:"range",min:1,max:240,value:d,onChange:function(e){var t=e.target.value;v(parseInt(t))}})})]}),Object(F.jsxs)("div",{className:Y.a.property,children:[Object(F.jsxs)("h2",{className:Y.a.title,children:["A4",Object(F.jsx)(ee,{className:Y.a.reset,onClick:function(e){e.preventDefault(),n(N)},children:"reset"}),Object(F.jsxs)("div",{className:Y.a.valueText,children:[t,T[t]&&" (".concat(T[t],")")]})]}),Object(F.jsx)("label",{className:f()(Y.a.label,Y.a.wide),children:Object(F.jsx)(J,{className:Y.a.input,type:"range",min:Math.min.apply(Math,Object(l.a)(Object.keys(T))),max:Math.max.apply(Math,Object(l.a)(Object.keys(T))),value:t,onChange:function(e){var t=e.target.value;n(parseInt(t))}})})]}),Object(F.jsxs)("div",{className:Y.a.property,children:[Object(F.jsx)("h2",{className:Y.a.title,children:"Organize"}),Object(F.jsx)("div",{className:Y.a.columns,children:j.map((function(e){return Object(F.jsxs)("label",{className:Y.a.label,children:[Object(F.jsx)(J,{className:Y.a.input,type:"radio",value:e,name:"pitchSkip",checked:u===e,onChange:function(e){var t=e.target.value;h(parseInt(t))}}),Object(F.jsx)("div",{className:Y.a.labelText,children:te(e,d)})]},e)}))})]})]})}var ae=n(13),ie=n.n(ae);function ce(e){var t=e.pitchNamesSorted,n=e.diameter,a=e.chordNamesSorted,i=t.length;return Object(F.jsx)("div",{className:ie.a.root,children:t.map((function(e,t){var c,o,l=C/i*t,r=e.length>1,s=-.475;return r?(c="translate(0%, -50%) rotate(".concat(l,"deg) translate(0%, 50%) translateY(").concat(n*s,"px) rotate(",90,"deg)"),o="0 50%"):(c="translate(-50%, 0) rotate(".concat(l,"deg) translateY(").concat(n*s,"px) "),o="50% 0"),Object(F.jsx)("div",{className:f()(ie.a.button,r&&ie.a.small,!a[t]&&ie.a.deemphesized),style:{transform:c,transformOrigin:o},children:e},t)}))})}var oe=n(17),le=n.n(oe);function re(e){var t=e.chordNamesSorted,n=e.diameter,a=t.length;return Object(F.jsx)("div",{className:le.a.root,children:t.map((function(e,t){if(!e)return null;var i=C/a*t;return Object(F.jsx)("div",{className:le.a.button,style:{transform:"translate(-50%, -50%) rotate(".concat(i,"deg) translateY(").concat(-.22*n,"px)")},children:e},t)}))})}var se=n(27),ue=n.n(se);function he(e){var t=e.pitchSequence,n=e.callback,i=e.diameter,c=Object(a.useRef)();function o(e){var a=e.targetTouches;a||n([]);for(var o=c.current.getBoundingClientRect(),l=R/t.length/2,r=[],s=0;s<a.length;s++){var u=a[s],h=u.clientX,d=u.clientY,v=h-o.x-.5*i,f=-(d-o.y-.5*i);if(Math.sqrt(Math.pow(v,2)+Math.pow(f,2))<=i/2){var b=g(Object(O.modulo)(Math.atan2(f,v),R)-l),m=Math.floor(b/C*t.length);r.push(t[m])}}n(r)}return Object(F.jsx)("div",{ref:c,className:ue.a.root,onTouchMove:function(e){o(e)},onTouchStart:function(e){o(e)},onTouchEnd:function(e){o(e)},onTouchCancel:function(e){o(e)}})}function de(e){var t=e.component,n=void 0===t?"div":t,i=e.callback,c=Object(X.a)(e,["component","callback"]),o=Object(a.useState)(!1),l=Object(r.a)(o,2),s=l[0],u=l[1];return Object(F.jsx)(n,Object(U.a)({onClick:s?null:function(){u(!0),i()}},c))}function ve(e){for(var t=[1],n=2;n<e;n++)fe(e,n)&&t.push(n);return t}function fe(e,t){for(var n=[],a=0;a<e;a++){var i=a*t%e;if(void 0!==n[i])return!1;n[i]=i}return n}function be(e,t){return Object(l.a)(Array(e).keys()).map((function(n){var a=(n/e*M+t/S)%M,i=Math.floor(a),c=w[i],o=a%1;return o?"".concat(c).concat(String(Object(O.round)(o,.001)).slice(1,5)):c}))}function me(e,t){for(var n=[],a=0;a<e;a++){for(var i=P(t,a*S*(M/e));i/2>20;)i/=2;n.push(i)}return n}function je(e,t){for(var n=[],a=0;a<e;a++)n.push(a*t%e);return n}function pe(e,t){return e.map((function(n,a){return e[a*t%e.length]}))}var Oe,xe,ge,_e,ye,Ie=n(18);function Me(e,t){ge&&ge.close(),ge=new(window.AudioContext||window.webkitAudioContext),(_e=ge.createGain()).connect(ge.destination),_e.gain.value=.1,ye=_e;for(var n=0;n<t.length;n++){var a=ge.createBiquadFilter();0===n?a.type="lowshelf":n===t.length-1?a.type="highshelf":a.type="peaking",a.frequency.value=E[n],a.gain.value=40*t[n],a.connect(ye),ye=a}_e.connect(ye),xe=[],Oe=e.map((function(e){return function(e){var t=[];for(;e<I;)t.push(e),e*=2;return t}(e)}))}function Ne(e,t,n){xe&&(t&&!xe[e]?function(e,t){var n=[];xe[e]=n;var a,i=Object(Ie.a)(Oe[e]);try{for(i.s();!(a=i.n()).done;){var c=a.value,o=ge.createOscillator();o.frequency.value=c,o.type=t,o.connect(ye),o.start(),n.push(o)}}catch(l){i.e(l)}finally{i.f()}}(e,n):!t&&xe[e]&&function(e){var t,n=Object(Ie.a)(xe[e]);try{for(n.s();!(t=n.n()).done;)t.value.stop()}catch(a){n.e(a)}finally{n.f()}xe[e]=null}(e))}var we=n(19),Se=n.n(we),ke=n(14),Te="undefined"!==typeof window?window:null,Pe={addEventListener:function(){},innerHeight:0,innerWidth:0,removeEventListener:function(){}};function Ce(){var e=Se.a.parse(window.location.search,{parseNumbers:!0,arrayFormat:"comma"});function t(t,n,i){Object(a.useEffect)((function(){function a(){window.history.replaceState(null,null,"".concat(window.location.origin).concat(window.location.pathname,"?").concat(Se.a.stringify(e,{arrayFormat:"comma"})))}Object(ke.isEqual)(e[t],n)||(Object(ke.isEqual)(i,n)&&void 0!==e[t]?(delete e[t],a()):Object(ke.isEqual)(i,n)||(e[t]=n,a()))}),[n,t,i])}var n=Object(a.useState)(e.a4||N),i=Object(r.a)(n,2),c=i[0],o=i[1];t("a4",c,N);var s=Object(a.useState)(e.oscillator||D.SINE),h=Object(r.a)(s,2),d=h[0],v=h[1];t("oscillator",d,D.SINE);var f=Object(a.useState)(e.semitones||M),b=Object(r.a)(f,2),m=b[0],j=b[1];t("semitones",m,M);var p=Object(a.useState)(void 0!==e.transposition?e.transposition:300),O=Object(r.a)(p,2),x=O[0],g=O[1];t("transposition",x,300);var _=Object(a.useState)(be(m,x)),y=Object(r.a)(_,2),I=y[0],w=y[1];Object(a.useEffect)((function(){w(be(m,x))}),[m,x]);var S=Object(a.useState)(ve(m)),k=Object(r.a)(S,2),T=k[0],C=k[1];Object(a.useEffect)((function(){C(ve(m))}),[m]);var R=e.pitchSkip?e.pitchSkip:T[0],q=Object(a.useState)(R),V=Object(r.a)(q,2),A=V[0],z=V[1];Object(a.useEffect)((function(){T.indexOf(A)<0&&z(T[0])}),[T,A]),t("pitchSkip",A,R);for(var B=[],L=0;L<E.length;L++)B.push(0);var G=Object(a.useState)(e.eq||E.map((function(){return 0}))),Y=Object(r.a)(G,2),U=Y[0],X=Y[1];t("eq",U,E.map((function(){return 0})));var Z=Object(a.useState)(P(c,x)),Q=Object(r.a)(Z,2),J=Q[0],K=Q[1];Object(a.useEffect)((function(){K(P(c,x))}),[x,c]);var $=Object(a.useState)(me(m,J)),te=Object(r.a)($,2),ae=te[0],ie=te[1];Object(a.useEffect)((function(){ie(me(m,J))}),[m,J]);var oe=Object(a.useState)(je(m,A)),le=Object(r.a)(oe,2),se=le[0],ue=le[1];Object(a.useEffect)((function(){ue(je(m,A))}),[m,A]);var fe=Object(a.useState)(pe(I,A)),Oe=Object(r.a)(fe,2),xe=Oe[0],ge=Oe[1];Object(a.useEffect)((function(){ge(pe(I,A))}),[I,A]);var _e=Object(a.useState)(e.mode||0),ye=Object(r.a)(_e,2),Ie=ye[0],we=ye[1];t("mode",Ie,0);var Ce=Object(a.useState)([]),Re=Object(r.a)(Ce,2),Ee=Re[0],qe=Re[1];Object(a.useEffect)((function(){qe(function(e,t,n){for(var a=Object(l.a)(H[t].chords),i=[],c=0;c<e;c++){var o=c/e*a.length;i.push(a[o]||null)}return i.map((function(t,a){return i[a*n%e]}))}(m,Ie,A))}),[m,A,Ie]);var He=Object(a.useState)([]),De=Object(r.a)(He,2),Ve=De[0],Ae=De[1],ze=Math.min.apply(Math,Object(l.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te||Pe,t=Object(a.useState)(e.innerHeight),n=Object(r.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(e.innerWidth),l=Object(r.a)(o,2),s=l[0],u=l[1];return Object(a.useEffect)((function(){function t(){c(e.innerHeight),u(e.innerWidth)}return e.addEventListener("resize",t),function(){e.removeEventListener("resize",t)}}),[e]),[s,i]}())),Be=Object(a.useState)(!1),Le=Object(r.a)(Be,2),Fe=Le[0],We=Le[1];return Object(F.jsxs)(de,{className:u.a.root,callback:Me.bind(null,ae,U),children:[Object(F.jsx)("div",{className:u.a.contentHolder}),Object(F.jsxs)("div",{className:u.a.wheelHolder,style:{width:"".concat(ze,"px"),height:"".concat(ze,"px")},children:[Object(F.jsx)(W,{activePitches:Ve,baseFrequencies:ae,diameter:ze,pitchSequence:se,mode:Ie}),Object(F.jsx)(ce,{pitchNamesSorted:xe,diameter:ze,chordNamesSorted:Ee}),Object(F.jsx)(re,{chordNamesSorted:Ee,diameter:ze}),Object(F.jsx)(he,{callback:function(e){for(var t=[].concat(Object(l.a)(e),[]),n=0;n<m;n++)t.indexOf(n)>=0?Ne(n,!0,d):Ne(n,!1,d);Ae(t)},diameter:ze,pitchSequence:se})]}),Fe&&Object(F.jsx)("div",{className:u.a.menuHolder,children:Object(F.jsx)(ne,{a4:c,setA4:o,eq:U,setEq:X,mode:Ie,setMode:we,oscillator:d,setOscillator:v,pitchSkip:A,setPitchSkip:z,semitones:m,setSemitones:j,transposition:x,setTransposition:g,pitchSkipOptions:T})}),Object(F.jsx)(ee,{className:u.a.menuButton,onClick:function(){Fe&&Me(ae,U),We(!Fe)},children:Fe?"x":"menu"})]})}var Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};o.a.render(Object(F.jsx)(i.a.StrictMode,{children:Object(F.jsx)(Ce,{})}),document.getElementById("root")),Re()}},[[49,1,2]]]);
//# sourceMappingURL=main.0ec67b65.chunk.js.map