(this["webpackJsonpshepard-wheel"]=this["webpackJsonpshepard-wheel"]||[]).push([[0],{11:function(e,t,n){e.exports={root:"App_root__nWMuC",menuHolder:"App_menuHolder__243kY",menuButton:"App_menuButton__3IBp4",contentHolder:"App_contentHolder__3Zpi7",wheelHolder:"App_wheelHolder__1I76D"}},12:function(e,t,n){e.exports={root:"PitchLabel_root__3-xxj",button:"PitchLabel_button__29U3k",hasAccidental:"PitchLabel_hasAccidental__xtPck",small:"PitchLabel_small__3x-Zk",deemphesized:"PitchLabel_deemphesized__Gd1GB"}},14:function(e,t,n){e.exports={root:"MatchingChords_root__56skG",chordHolder:"MatchingChords_chordHolder__QGRl6",fingersNeeded0:"MatchingChords_fingersNeeded0__2ftp0",chord:"MatchingChords_chord__25OHW",fingersNeeded1:"MatchingChords_fingersNeeded1__1c1IT",fingersNeeded2:"MatchingChords_fingersNeeded2__1dx63",fingersNeeded3:"MatchingChords_fingersNeeded3__2980F",fingersNeeded4:"MatchingChords_fingersNeeded4__1gmzO"}},18:function(e,t,n){e.exports={root:"ChordLabel_root__U_GCi",button:"ChordLabel_button__3bTYZ"}},2:function(e,t,n){e.exports={root:"Menu_root__3QA5H",property:"Menu_property__qoOWz",title:"Menu_title__tE_9H",reset:"Menu_reset__uN5da",columns:"Menu_columns__3o8dK",label:"Menu_label__3hKMT",wide:"Menu_wide__2sfIP",labelText:"Menu_labelText__2uoMn",valueText:"Menu_valueText__37XmB",verticalRangeHolder:"Menu_verticalRangeHolder__2TdXL",verticalRange:"Menu_verticalRange__3aZoM"}},23:function(e,t,n){e.exports={root:"Display_root__ig8ld"}},26:function(e,t,n){e.exports={root:"Input_root__2EB5Y"}},27:function(e,t,n){e.exports={root:"Button_root__1mUtC"}},28:function(e,t,n){e.exports={root:"TouchPad_root__22wzt"}},33:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(22),c=n.n(r),o=(n(33),n(6)),s=n(3),l=n(11),u=n.n(l),h=n(23),d=n.n(h),f=n(5),v=n.n(f),m=n(24),b=n(25);function j(e,t,n,a,i){var r=Math.cos(e),c=Math.sin(e),o=t-r*t-c*-n,s=n-c*t-r*n;i.call(a,r,c,-c,r,o,s)}var p=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("canvas"),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.offsetWidth,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.offsetHeight,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.devicePixelRatio;Object(m.a)(this,e),this.resize=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.devicePixelRatio;if(!e||!n){var i=!!t._element.parentNode;e=i?t._element.offsetWidth:t._width,n=i?t._element.offsetHeight:t._height}t._devicePixelRatio=a,t._width=e,t._height=n,t._element.width=e*t._devicePixelRatio,t._element.height=n*t._devicePixelRatio,t._imageDataHandler=null,t._context.scale(t._devicePixelRatio,t._devicePixelRatio)},this.arc=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t._context.arc(e,n,a,i,r,c)},this.beginPath=function(){t._context.beginPath()},this.bezierCurveTo=function(){var e;(e=t._context).bezierCurveTo.apply(e,arguments)},this.clearRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.clearRect(e,n,a,i),t._imageDataHandler=null},this.clip=function(){var e;(e=t._context).clip.apply(e,arguments)},this.closePath=function(){t._context.closePath()},this.drawImage=function(n,a,i,r,c,o,s,l,u){var h=n instanceof e;"number"===typeof o?h?(a*=t._devicePixelRatio,i*=t._devicePixelRatio,r*=t._devicePixelRatio,c*=t._devicePixelRatio,t._context.drawImage(n.element,a,i,r,c,o,s,l,u)):t._context.drawImage(n,a,i,r,c,o,s,l,u):h?(r=r||n.width,c=c||n.height,t._drawImageDest(n.element,a,i,r,c)):t._drawImageDest(n,a,i,r,c),t._imageDataHandler=null},this._drawImageDest=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.width,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.height;t._context.drawImage(e,n,a,i,r)},this.fill=function(){var e;(e=t._context).fill.apply(e,arguments),t._imageDataHandler=null},this.fillRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.fillRect(e,n,a,i),t._imageDataHandler=null},this.lineTo=function(){var e;(e=t._context).lineTo.apply(e,arguments)},this.moveTo=function(){var e;(e=t._context).moveTo.apply(e,arguments)},this.quadraticCurveTo=function(){var e;(e=t._context).quadraticCurveTo.apply(e,arguments)},this.rect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.rect(e,n,a,i)},this.stroke=function(){var e;(e=t._context).stroke.apply(e,arguments),t._imageDataHandler=null},this.resetTransform=function(){t._context.resetTransform(),t._context.scale(t._devicePixelRatio,t._devicePixelRatio)},this.restore=function(){t._context.restore()},this.rotate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5*t.width,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5*t.height;e&&j(e,n,a,t._context,t._context.transform)},this.save=function(){t._context.save()},this.setRotate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5*t.width,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5*t.height;j(e,n,a,t._context,t.setTransform)},this.setTransform=function(e,n,a,i,r,c){e*=t._devicePixelRatio,n*=t._devicePixelRatio,a*=t._devicePixelRatio,i*=t._devicePixelRatio,r*=t._devicePixelRatio,c*=t._devicePixelRatio,t._context.setTransform(e,n,a,i,r,c)},this.setTranslate=function(e,n){t.setTransform(1,0,0,1,e,n)},this.translate=function(e,n){t._context.translate(e,n)},this.createImageData=function(e,n){return t._context.createImageData(e,n)},this._element=n,this._context=this._element.getContext("2d"),this.resize(a,i,r)}return Object(b.a)(e,[{key:"element",get:function(){return this._element}},{key:"height",get:function(){return this._height}},{key:"imageDataHandler",get:function(){return this._imageDataHandler}},{key:"width",get:function(){return this._width}},{key:"fillStyle",set:function(e){this._context.fillStyle=e}},{key:"globalCompositeOperation",set:function(e){this._context.globalCompositeOperation=e}},{key:"globalAlpha",set:function(e){this._context.globalAlpha=e}},{key:"lineWidth",set:function(e){this._context.lineWidth=e}},{key:"strokeStyle",set:function(e){this._context.strokeStyle=e}}],[{key:"quadraticThrough",value:function(e){for(var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Path2D,i=e.length,r=0;r<i-1;r++)if(t=n||e[0],n=e[r+1],0===r)a.moveTo(t.x,t.y);else if(r<i-2){var c=(t.x+n.x)/2,o=(t.y+n.y)/2;a.quadraticCurveTo(t.x,t.y,c,o)}else a.quadraticCurveTo(t.x,t.y,n.x,n.y);return a}}]),e}(),x=n(4);function g(e){var t=2*Math.PI,n=function(e){return e*Math.PI/180}(-e)+.25*t;return Object(x.modulo)(n,t)}function O(e){var t=function(e){return 180*e/Math.PI}(-e);return Object(x.modulo)(t+90,360)}var _,M=n(10),y=2e4,N=12,I=440,w=100,P=1200,T=(_={415:"baroque",427:"classical",428:"classical",429:"classical",430:"classical",430.54:"scientific",432:"\u201cfrequency of the universe\u201d",435:"diapson normal",439:"new philharmonic"},Object(M.a)(_,I,"stuttgart"),Object(M.a)(_,452,"old philharmonic"),Object(M.a)(_,466,"chorton"),_);function C(e,t){return e*Math.pow(Math.pow(2,.08333333333333333),t/w)}for(var S=360,k=2*Math.PI,E=[],R=2;R<y;)(R*=2)>=20&&R<=y&&E.push(R);var H=[{name:"(none)",chords:[],useModeForNaming:1},{name:"I Ionian (Major)",chords:["I",null,"ii",null,"iii","IV",null,"V",null,"vi",null,"vii\xba"]},{name:"II Dorian",chords:["i",null,"ii","III",null,"IV",null,"v",null,"vi\xba","VII",null]},{name:"III Phrygian",chords:["i","II",null,"III",null,"iv",null,"v\xba","VI",null,"vii",null]},{name:"IV Lydian",chords:["I",null,"II",null,"iii",null,"iv\xba ","V",null,"vi",null,"vii"]},{name:"V Mixolydian",chords:["I",null,"ii",null,"iii\xba","IV",null,"v",null,"vi","VII",null]},{name:"VI Aeolian (Minor)",chords:["i",null,"ii\xba","III",null,"iv",null,"v","VI",null,"VII",null]},{name:"VII Locrian",chords:["i\xba","II",null,"iii",null,"iv","V",null,"VI",null,"vii",null]},{name:"Major Pentatonic",chords:["I",null,"ii",null,"iii",null,null,"V",null,"vi",null,null],useModeForNaming:1},{name:"Minor Pentatonic",chords:["i",null,null,"III",null,"iv",null,"v",null,null,"VII",null],useModeForNaming:6},{name:"Blues Major",chords:["I",null,"ii",null,null,"IV",null,"v",null,"vi",null,null],useModeForNaming:1},{name:"Blues Minor",chords:["i",null,null,"III",null,"iv",null,null,"VI",null,"vii",null],useModeForNaming:6}],A={SINE:"sine",SQUARE:"square",TRIANGLE:"triangle"};function q(e){e-=.25*k;var t=k/3,n=Math.cos(-e),a=Math.cos(-e-t),i=Math.cos(-e+t);return{r:Math.round(255*n*.5+127.5),g:Math.round(255*a*.5+127.5),b:Math.round(255*i*.5+127.5)}}function D(e){return Math.atan2(-Math.sin(e),Math.cos(e))}function F(e,t,n,a,i,r,c,o){var s=n/2,l=Object(x.modulo)(a,k)===Object(x.modulo)(i,k);if(e.beginPath(),e.fillStyle="rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"),l)e.arc(s,s,s*r,0,k);else{var u=Math.cos(a),h=Math.sin(a);e.moveTo(s+u*s*c,s+h*-s*c),e.lineTo(s+u*s*r,s+h*-s*r),e.arc(s,s,s*r,D(a),D(i),!0),u=Math.cos(i),h=Math.sin(i),e.moveTo(s+u*s*r,s+h*-s*r),e.lineTo(s+u*s*c,s+h*-s*c),e.arc(s,s,s*c,D(i),D(a),!1)}e.fill(),l&&(e.beginPath(),e.globalCompositeOperation="destination-out",e.arc(s,s,s*c,0,k),e.fill(),e.globalCompositeOperation="source-over")}function L(e,t){var n,a,i=(n=e,a=t,P*Math.log2(a/n)%P);return Math.abs(i-100)<2||Math.abs(i+1100)<2?[16,15]:Math.abs(i-1100)<2||Math.abs(i+100)<2?[15,16]:Math.abs(i-200)<2||Math.abs(i+1e3)<2?[9,8]:Math.abs(i-1e3)<2||Math.abs(i+200)<2?[8,9]:Math.abs(i-300)<2||Math.abs(i+900)<2?[5,3]:Math.abs(i-900)<2||Math.abs(i+300)<2?[3,5]:Math.abs(i-400)<2||Math.abs(i+800)<2?[5,4]:Math.abs(i-800)<2||Math.abs(i+400)<2?[4,5]:Math.abs(i-500)<2||Math.abs(i+700)<2?[3,2]:Math.abs(i-700)<2||Math.abs(i+500)<2?[2,3]:Math.abs(i-600)<2||Math.abs(i+600)<2?[13,9]:Math.abs(i-1200)<2||Math.abs(i+1200)<2||Math.abs(i)<2?[1,1]:void 0}function V(e,t,n,a,i,r,c,o,s){var l=n/2,u={x:l+Math.cos(e)*l*i,y:l+Math.sin(-e)*l*i},h={x:l+Math.cos(t)*l*i,y:l+Math.sin(-t)*l*i},d=L(r,c);if(d){a.lineWidth=1;var f=h.x-u.x,v=h.y-u.y,m=Math.sqrt(Math.pow(f,2)+Math.pow(v,2)),b=m/d[0]/2,j=m/d[1]/2;a.strokeStyle="rgb(".concat(o.r,", ").concat(o.g,", ").concat(o.b,")");for(var p=0;p<d[0];p++){a.beginPath();var x=u.x+f/d[0]*(p+.5),g=u.y+v/d[0]*(p+.5);a.arc(x,g,b,0,k),a.stroke()}a.strokeStyle="rgb(".concat(s.r,", ").concat(s.g,", ").concat(s.b,")");for(var O=0;O<d[1];O++){a.beginPath();var _=u.x+f/d[1]*(O+.5),M=u.y+v/d[1]*(O+.5);a.arc(_,M,j,0,k),a.stroke()}}a.globalCompositeOperation="source-over",a.strokeStyle="white",a.lineWidth=2,a.beginPath(),a.moveTo(u.x,u.y),a.lineTo(h.x,h.y),a.stroke()}var B=n(0);function z(e){var t=e.className,n=e.activePitches,i=e.baseFrequencies,r=e.diameter,c=e.mode,o=e.pitchSequence,l=Object(a.useRef)(),u=Object(a.useState)(null),h=Object(s.a)(u,2),f=h[0],m=h[1],b=Object(a.useState)(null),j=Object(s.a)(b,2),x=j[0],O=j[1];return Object(a.useEffect)((function(){l.current&&(m(new p(l.current)),O(new p(void 0,r,r)))}),[l,r]),Object(a.useEffect)((function(){f&&(f.resize(r,r),x.resize(r,r))}),[f,x,r]),Object(a.useEffect)((function(){if(f){var e=o.length,t=function(e){for(var t=[],n=S/e,a=0;a<e;a++)t.push(q(g(a*n)));return t}(e);f.clearRect(),x.clearRect(),function(){for(var a=k/e/2,i=H[c].chords,s=0;s<e;s++){var l=o[s]/e*S,u=t[s],h=n.indexOf(s)>=0,d=g(l);i[s];F(x,u,r,d-a,d+a,h?1:.95,h?.12:.1)}}(),function(){for(var a=0;a<n.length;a++)for(var c=n[a],s=S/e*o.indexOf(c),l=i[o.indexOf(c)],u=a+1;u<n.length;u++){var h=n[u],d=S/e*o.indexOf(h),f=i[o.indexOf(h)],v=t[c],m=t[h];V(g(s),g(d),r,x,.4,l,f,v,m)}}(),f.drawImage(x)}}),[n,i,r,c,o,x,f]),Object(B.jsx)("canvas",{className:v()(d.a.root,t),ref:l})}var W=n(2),G=n.n(W),U=n(8),Y=n(9),Q=n(26),Z=n.n(Q);function X(e){var t=e.className,n=Object(Y.a)(e,["className"]);return Object(B.jsx)("input",Object(U.a)({className:v()(Z.a.root,t)},n))}var J=n(27),K=n.n(J);function $(e){var t=e.className,n=e.href,a=e.component,i=void 0===a?n?"a":"button":a,r=e.target,c=void 0===r?n&&"_blank":r,o=Object(Y.a)(e,["className","href","component","target"]);return Object(B.jsx)(i,Object(U.a)({className:v()(K.a.root,t),target:c,href:n},o))}function ee(e,t){if(1===e)return"Clockwise";if(e===t-1)return"Anticlockwise";if(t%N===0){if(7===e)return"Circle of Fifths";if(e===t-7)return"Circle of Fourths"}return"skip ".concat(e-1)}function te(e){var t=e.a4,n=e.setA4,a=e.allPitchNames,i=e.eq,r=e.setEq,c=e.mode,s=e.setMode,l=e.oscillator,u=e.setOscillator,h=e.pitchSkip,d=e.setPitchSkip,f=e.semitones,m=e.setSemitones,b=e.transposition,j=e.setTransposition,p=e.pitchSkipOptions;function x(e){var t=e.target.value;u(t)}function g(e,t){var n=t.target.value,a=Object(o.a)(i);a[e]=n,r(a)}return Object(B.jsxs)("form",{className:G.a.root,children:[Object(B.jsxs)("div",{className:G.a.property,children:[Object(B.jsx)("h2",{className:G.a.title,children:"Oscillator"}),Object.values(A).map((function(e){return Object(B.jsxs)("label",{className:G.a.label,children:[Object(B.jsx)(X,{type:"radio",checked:l===e,value:e,onChange:x}),Object(B.jsx)("div",{className:G.a.labelText,children:e})]},e)}))]}),Object(B.jsxs)("div",{className:G.a.property,children:[Object(B.jsxs)("h2",{className:G.a.title,children:["EQ",Object(B.jsx)($,{className:G.a.reset,onClick:function(e){e.preventDefault(),r(E.map((function(){return 0})))},children:"reset"})]}),Object(B.jsx)("div",{className:G.a.verticalRangeHolder,children:i.map((function(e,t){return Object(B.jsx)(X,{className:G.a.verticalRange,type:"range",min:"-1",max:.27,step:"0.01",value:e,onChange:g.bind(null,t)},t)}))})]}),Object(B.jsxs)("div",{className:G.a.property,children:[Object(B.jsx)("h2",{className:G.a.title,children:"Transposition"}),Object(B.jsx)("div",{className:G.a.columns,children:a.map((function(e,t){return Object(B.jsxs)("label",{className:G.a.label,children:[Object(B.jsx)(X,{type:"radio",value:t*w,name:"transposition",checked:b===t*w,onChange:function(e){var t=e.target.value;j(parseInt(t))}}),Object(B.jsx)("div",{className:G.a.labelText,children:e})]},e)}))})]}),Object(B.jsxs)("div",{className:G.a.property,children:[Object(B.jsx)("h2",{className:G.a.title,children:"Mode"}),Object(B.jsx)("div",{className:G.a.columns,children:H.map((function(e,t){return Object(B.jsxs)("label",{className:G.a.label,children:[Object(B.jsx)(X,{type:"radio",value:t,name:"mode",checked:c===t,onChange:function(e){var t=e.target.value;s(parseInt(t))}}),Object(B.jsx)("div",{className:G.a.labelText,children:e.name})]},e.name)}))})]}),Object(B.jsxs)("div",{className:G.a.property,children:[Object(B.jsxs)("h2",{className:G.a.title,children:["Semitones",Object(B.jsx)($,{className:G.a.reset,onClick:function(e){e.preventDefault(),m(N)},children:"reset"}),Object(B.jsx)("div",{className:G.a.valueText,children:f})]}),Object(B.jsx)("label",{className:v()(G.a.label,G.a.wide),children:Object(B.jsx)(X,{type:"range",min:1,max:240,value:f,onChange:function(e){var t=e.target.value;m(parseInt(t))}})})]}),Object(B.jsxs)("div",{className:G.a.property,children:[Object(B.jsxs)("h2",{className:G.a.title,children:["A4",Object(B.jsx)($,{className:G.a.reset,onClick:function(e){e.preventDefault(),n(I)},children:"reset"}),Object(B.jsxs)("div",{className:G.a.valueText,children:[t,T[t]&&" (".concat(T[t],")")]})]}),Object(B.jsx)("label",{className:v()(G.a.label,G.a.wide),children:Object(B.jsx)(X,{type:"range",min:Math.min.apply(Math,Object(o.a)(Object.keys(T))),max:Math.max.apply(Math,Object(o.a)(Object.keys(T))),value:t,onChange:function(e){var t=e.target.value;n(parseInt(t))}})})]}),Object(B.jsxs)("div",{className:G.a.property,children:[Object(B.jsx)("h2",{className:G.a.title,children:"Organize"}),Object(B.jsx)("div",{className:G.a.columns,children:p.map((function(e){return Object(B.jsxs)("label",{className:G.a.label,children:[Object(B.jsx)(X,{type:"radio",value:e,name:"pitchSkip",checked:h===e,onChange:function(e){var t=e.target.value;d(parseInt(t))}}),Object(B.jsx)("div",{className:G.a.labelText,children:ee(e,f)})]},e)}))})]}),Object(B.jsx)($,{className:G.a.issue,href:"https://github.com/danehansen/shepard-wheel/issues",children:"submit issue"})]})}var ne=n(12),ae=n.n(ne);function ie(e){var t=e.pitchNamesSorted,n=e.diameter,a=e.chordNamesSorted,i=t.length;return Object(B.jsx)("div",{className:ae.a.root,children:t.map((function(e,t){var r,c,o=S/i*t,s=2===(null===e||void 0===e?void 0:e.length)||3===(null===e||void 0===e?void 0:e.length),l=(null===e||void 0===e?void 0:e.length)>3,u=-.475;return l?(r="translate(0%, -50%) rotate(".concat(o,"deg) translate(0%, 50%) translateY(").concat(n*u,"px) rotate(",90,"deg)"),c="0 50%"):(c="50% 0",r=s?"translate(-50%, 0) rotate(".concat(o,"deg) translateY(").concat(-.45599999999999996*n,"px) "):"translate(-50%, 0) rotate(".concat(o,"deg) translateY(").concat(n*u,"px) ")),Object(B.jsx)("div",{className:v()(ae.a.button,l&&ae.a.small,s&&ae.a.hasAccidental,!a[t]&&ae.a.deemphesized),style:{transform:r,transformOrigin:c},children:e},t)}))})}var re=n(18),ce=n.n(re);function oe(e){var t=e.chordNamesSorted,n=e.diameter,a=t.length;return Object(B.jsx)("div",{className:ce.a.root,children:t.map((function(e,t){if(!e)return null;var i=S/a*t;return Object(B.jsx)("div",{className:ce.a.button,style:{transform:"translate(-50%, -50%) rotate(".concat(i,"deg) translateY(").concat(-.22*n,"px)")},children:e},t)}))})}var se=n(28),le=n.n(se);function ue(e){var t=e.pitchSequence,n=e.callback,i=e.diameter,r=Object(a.useRef)();function c(e){var a=e.targetTouches;a||n([]);for(var c=r.current.getBoundingClientRect(),o=k/t.length/2,s=[],l=0;l<a.length;l++){var u=a[l],h=u.clientX,d=u.clientY,f=h-c.x-.5*i,v=-(d-c.y-.5*i);if(Math.sqrt(Math.pow(f,2)+Math.pow(v,2))<=i/2){var m=O(Object(x.modulo)(Math.atan2(v,f),k)-o),b=Math.floor(m/S*t.length);s.push(t[b])}}n(s)}return Object(B.jsx)("div",{ref:r,className:le.a.root,onTouchMove:function(e){c(e)},onTouchStart:function(e){c(e)},onTouchEnd:function(e){c(e)},onTouchCancel:function(e){c(e)}})}function he(e){var t=e.component,n=void 0===t?"div":t,i=e.callback,r=Object(Y.a)(e,["component","callback"]),c=Object(a.useState)(!1),o=Object(s.a)(c,2),l=o[0],u=o[1];return Object(B.jsx)(n,Object(U.a)({onClick:l?null:function(){u(!0),i()}},r))}var de=n(14),fe=n.n(de);function ve(e){var t=e.chords,n=[];return t.forEach((function(e){var t=e.name,a=e.fingersNeeded;n[a]||(n[a]=[]),n[a].push(Object(B.jsx)("span",{className:fe.a.chord,children:t},t))})),Object(B.jsx)("div",{className:fe.a.root,children:n.map((function(e,t){return Object(B.jsx)("div",{className:v()(fe.a.chordHolder,fe.a["fingersNeeded".concat(t)]),children:e},t)}))})}function me(e){for(var t=[1],n=2;n<e;n++)be(e,n)&&t.push(n);return t}function be(e,t){for(var n=[],a=0;a<e;a++){var i=a*t%e;if(void 0!==n[i])return!1;n[i]=i}return n}var je=["A",["A\u266f","B\u266d"],"B","C",["C\u266f","D\u266d"],"D",["D\u266f","E\u266d"],"E","F",["F\u266f","G\u266d"],"G",["G\u266f","A\u266d"]];function pe(e){return Object(x.modulo)(e,N)}function xe(e,t){var n=H[t].useModeForNaming;if("number"===typeof n)return xe(e,n);var a=[];return function(n){for(var a=["A","B","C","D","E","F","G"],i=H[t].chords,r=0,c=0;c<N;c++){i[pe(c-e/w)]&&(n[c]=a[r],r++)}}(a),function(e){for(var t=function(t){var n=je[t],a=je[pe(t-1)],i=je[pe(t+1)];if(e[t])if(Array.isArray(n)){var r=n.findIndex((function(n){return n.indexOf(e[t])>=0}));e[t]=n[r]}else a===e[t]?e[t]="".concat(e[t],"\u266f"):i===e[t]&&(e[t]="".concat(e[t],"\u266d"))},n=0;n<N;n++)t(n)}(a),function(e){for(var t=e.join("").indexOf("\u266d")>=0,n=e.join("").indexOf("\u266f")>=0,a=0;a<12;a++)if(!e[a]){var i=je[a];Array.isArray(i)?e[a]=t&&!n?i[1]:i[0]:e[a]=i}}(a),a}function ge(e,t,n){return Object(o.a)(Array(e).keys()).map((function(a){var i=(a/e*N+t/w)%N,r=Math.floor(i),c=n[r],o=i%1;return o?"".concat(c).concat(String(Object(x.round)(o,.001)).slice(1,5)):c}))}function Oe(e,t){for(var n=[],a=0;a<e;a++){for(var i=C(t,a*w*(N/e));i/2>20;)i/=2;n.push(i)}return n}function _e(e,t){for(var n=[],a=0;a<e;a++)n.push(a*t%e);return n}function Me(e,t,n){for(var a=Object(o.a)(H[t].chords),i=[],r=0;r<e;r++){var c=r/e*a.length;i.push(a[c]||null)}return i.map((function(t,a){return i[a*n%e]}))}function ye(e,t){return e.map((function(n,a){return e[a*t%e.length]}))}var Ne,Ie,we,Pe,Te,Ce=n(19);function Se(e,t){we&&we.close(),we=new(window.AudioContext||window.webkitAudioContext),(Pe=we.createGain()).connect(we.destination),Pe.gain.value=.1,Te=Pe;for(var n=0;n<t.length;n++){var a=we.createBiquadFilter();0===n?a.type="lowshelf":n===t.length-1?a.type="highshelf":a.type="peaking",a.frequency.value=E[n],a.gain.value=40*t[n],a.connect(Te),Te=a}Pe.connect(Te),Ie=[],Ne=e.map((function(e){return function(e){var t=[];for(;e<y;)t.push(e),e*=2;return t}(e)}))}function ke(e,t,n){Ie&&(t&&!Ie[e]?function(e,t){var n=[];Ie[e]=n;var a,i=Object(Ce.a)(Ne[e]);try{for(i.s();!(a=i.n()).done;){var r=a.value,c=we.createOscillator();c.frequency.value=r,c.type=t,c.connect(Te),c.start(),n.push(c)}}catch(o){i.e(o)}finally{i.f()}}(e,n):!t&&Ie[e]&&function(e){var t,n=Object(Ce.a)(Ie[e]);try{for(n.s();!(t=n.n()).done;)t.value.stop()}catch(a){n.e(a)}finally{n.f()}Ie[e]=null}(e))}var Ee=n(20),Re=n.n(Ee),He=n(15),Ae="undefined"!==typeof window?window:null,qe={addEventListener:function(){},innerHeight:0,innerWidth:0,removeEventListener:function(){}};var De=[{name:"major",suffix:"",textTransform:"toUpperCase",additionalPitches:[400,700]},{name:"minor",suffix:"",textTransform:"toLowerCase",additionalPitches:[300,700]},{name:"power chord",suffix:Object(B.jsx)("sup",{children:"5"}),textTransform:"toUpperCase",additionalPitches:[700]},{name:"major sixth",suffix:Object(B.jsx)("sup",{children:"6"}),textTransform:"toUpperCase",additionalPitches:[400,700,900]},{name:"minor sixth",suffix:Object(B.jsx)("sup",{children:"6"}),textTransform:"toLowerCase",additionalPitches:[300,700,900]},{name:"dominant seventh",suffix:Object(B.jsx)("sup",{children:"7"}),textTransform:"toUpperCase",additionalPitches:[400,700,1e3]},{name:"major seventh",suffix:Object(B.jsx)("sup",{children:"\u22067"}),textTransform:"toUpperCase",additionalPitches:[400,700,1100]},{name:"minor seventh",suffix:Object(B.jsx)("sup",{children:"7"}),textTransform:"toLowerCase",additionalPitches:[300,700,1e3]},{name:"augmented",suffix:"+",textTransform:"toUpperCase",additionalPitches:[400,800]},{name:"diminished",suffix:"\xba",textTransform:"toLowerCase",additionalPitches:[300,600]},{name:"augmented seventh",suffix:Object(B.jsxs)(B.Fragment,{children:["+",Object(B.jsx)("sup",{children:"\u22067"})]}),textTransform:"toUpperCase",additionalPitches:[400,800,1e3]},{name:"minor-major seventh",suffix:Object(B.jsx)("sup",{children:"M7"}),textTransform:"toLowerCase",additionalPitches:[300,700,1100]},{name:"diminished seventh",suffix:Object(B.jsxs)(B.Fragment,{children:["\xba",Object(B.jsx)("sup",{children:"7"})]}),textTransform:"toLowerCase",additionalPitches:[300,600,900]},{name:"half-diminished seventh",suffix:Object(B.jsx)("sup",{children:"\xf87"}),textTransform:"toLowerCase",additionalPitches:[300,600,1e3]}];function Fe(e,t,n){var a=function(e){for(var t=[],n=function(n){t.push(e.map((function(t,a){return e[(a+n)%e.length]})))},a=0;a<e.length;a++)n(a);return t}(e.sort(x.sortAscending).map((function(e){return e/t*N*100}))),i=[];return a.forEach((function(e){var a=e.map((function(t){return Object(x.modulo)(t-e[0],1200)})),r=e[0]/100/N*t,c=a.slice(1);De.forEach((function(e){var t=function(e,t){for(var n=0,a=0;a<e.length;a++){if(t.additionalPitches.indexOf(e[a])<0)return;n++}return t.additionalPitches.length-n}(c,e);"number"===typeof t&&i.push({name:Object(B.jsxs)(B.Fragment,{children:[n[r][e.textTransform](),e.suffix]}),fingersNeeded:t})}))})),i.sort(Le),i}function Le(e,t){return e.fingersNeeded-t.fingersNeeded}function Ve(){var e=Re.a.parse(window.location.search,{parseNumbers:!0,arrayFormat:"comma"});function t(t,n,i){Object(a.useEffect)((function(){function a(){window.history.replaceState(null,null,"".concat(window.location.origin).concat(window.location.pathname,"?").concat(Re.a.stringify(e,{arrayFormat:"comma"})))}Object(He.isEqual)(e[t],n)||(Object(He.isEqual)(i,n)&&void 0!==e[t]?(delete e[t],a()):Object(He.isEqual)(i,n)||(e[t]=n,a()))}),[n,t,i])}var n=Object(a.useState)(e.a4||I),i=Object(s.a)(n,2),r=i[0],c=i[1];t("a4",r,I);var l=Object(a.useState)(e.oscillator||A.SINE),h=Object(s.a)(l,2),d=h[0],f=h[1];t("oscillator",d,A.SINE);var v=Object(a.useState)(e.semitones||N),m=Object(s.a)(v,2),b=m[0],j=m[1];t("semitones",b,N);var p=Object(a.useState)(void 0!==e.transposition?e.transposition:300),g=Object(s.a)(p,2),O=g[0],_=g[1];t("transposition",O,300);var M=Object(a.useState)(e.mode||0),y=Object(s.a)(M,2),w=y[0],P=y[1];t("mode",w,0);var T=Object(a.useState)(xe(O,w)),S=Object(s.a)(T,2),k=S[0],R=S[1];Object(a.useEffect)((function(){R(xe(O,w))}),[w,O]);var H=Object(a.useState)(ge(b,O,k)),q=Object(s.a)(H,2),D=q[0],F=q[1];Object(a.useEffect)((function(){F(ge(b,O,k))}),[b,O,k]);var L=Object(a.useState)(me(b)),V=Object(s.a)(L,2),W=V[0],G=V[1];Object(a.useEffect)((function(){G(me(b))}),[b]);var U=e.pitchSkip?e.pitchSkip:W[0],Y=Object(a.useState)(U),Q=Object(s.a)(Y,2),Z=Q[0],X=Q[1];Object(a.useEffect)((function(){W.indexOf(Z)<0&&X(W[0])}),[W,Z]),t("pitchSkip",Z,U);for(var J=[],K=0;K<E.length;K++)J.push(0);var ee=Object(a.useState)(e.eq||E.map((function(){return 0}))),ne=Object(s.a)(ee,2),ae=ne[0],re=ne[1];t("eq",ae,E.map((function(){return 0})));var ce=Object(a.useState)(C(r,O)),se=Object(s.a)(ce,2),le=se[0],de=se[1];Object(a.useEffect)((function(){de(C(r,O))}),[O,r]);var fe=Object(a.useState)(Oe(b,le)),be=Object(s.a)(fe,2),je=be[0],pe=be[1];Object(a.useEffect)((function(){pe(Oe(b,le))}),[b,le]);var Ne=Object(a.useState)(_e(b,Z)),Ie=Object(s.a)(Ne,2),we=Ie[0],Pe=Ie[1];Object(a.useEffect)((function(){Pe(_e(b,Z))}),[b,Z]);var Te=Object(a.useState)(ye(D,Z)),Ce=Object(s.a)(Te,2),Ee=Ce[0],De=Ce[1];Object(a.useEffect)((function(){De(ye(D,Z))}),[D,Z]);var Le=Object(a.useState)(Me(b,w,Z)),Ve=Object(s.a)(Le,2),Be=Ve[0],ze=Ve[1];Object(a.useEffect)((function(){ze(Me(b,w,Z))}),[b,Z,w]);var We=Object(a.useState)([]),Ge=Object(s.a)(We,2),Ue=Ge[0],Ye=Ge[1],Qe=Object(a.useState)([]),Ze=Object(s.a)(Qe,2),Xe=Ze[0],Je=Ze[1],Ke=Math.min.apply(Math,Object(o.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae||qe,t=Object(a.useState)(e.innerHeight),n=Object(s.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(e.innerWidth),o=Object(s.a)(c,2),l=o[0],u=o[1];return Object(a.useEffect)((function(){function t(){r(e.innerHeight),u(e.innerWidth)}return e.addEventListener("resize",t),function(){e.removeEventListener("resize",t)}}),[e]),[l,i]}())),$e=Object(a.useState)(!1),et=Object(s.a)($e,2),tt=et[0],nt=et[1];return Object(B.jsxs)(he,{className:u.a.root,callback:Se.bind(null,je,ae),children:[Object(B.jsx)("div",{className:u.a.contentHolder,children:Object(B.jsx)(ve,{chords:Xe})}),Object(B.jsxs)("div",{className:u.a.wheelHolder,style:{width:"".concat(Ke,"px"),height:"".concat(Ke,"px")},children:[Object(B.jsx)(z,{activePitches:Ue,baseFrequencies:je,diameter:Ke,pitchSequence:we,mode:w}),Object(B.jsx)(ie,{pitchNamesSorted:Ee,diameter:Ke,chordNamesSorted:Be}),Object(B.jsx)(oe,{chordNamesSorted:Be,diameter:Ke}),Object(B.jsx)(ue,{callback:function(e){for(var t=function(t,n){if(!e.length||!t&&!n)return e;for(var a=Object(x.random)(t,n,!0),i=[],r=0;r<a;r++){var c=void 0;do{c=Object(x.random)(0,12,!0)}while(e.indexOf(c)>=0);i.push(c)}return[].concat(Object(o.a)(e),i)}(),n=0;n<b;n++)t.indexOf(n)>=0?ke(n,!0,d):ke(n,!1,d);Ye(t),Je(Fe(t,b,D))},diameter:Ke,pitchSequence:we})]}),tt&&Object(B.jsx)("div",{className:u.a.menuHolder,children:Object(B.jsx)(te,{a4:r,setA4:c,allPitchNames:k,eq:ae,setEq:re,mode:w,setMode:P,oscillator:d,setOscillator:f,pitchSkip:Z,setPitchSkip:X,semitones:b,setSemitones:j,transposition:O,setTransposition:_,pitchSkipOptions:W})}),Object(B.jsx)($,{className:u.a.menuButton,onClick:function(){tt&&Se(je,ae),nt(!tt)},children:tt?"x":"menu"})]})}var Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(B.jsx)(i.a.StrictMode,{children:Object(B.jsx)(Ve,{})}),document.getElementById("root")),Be()}},[[50,1,2]]]);
//# sourceMappingURL=main.585b17e0.chunk.js.map