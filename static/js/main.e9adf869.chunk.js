(this["webpackJsonpshepard-wheel"]=this["webpackJsonpshepard-wheel"]||[]).push([[0],{1:function(e,t,a){e.exports={root:"Menu_root__3QA5H",property:"Menu_property__qoOWz",title:"Menu_title__tE_9H",reset:"Menu_reset__uN5da",label:"Menu_label__3hKMT",wide:"Menu_wide__2sfIP",labelText:"Menu_labelText__2uoMn",input:"Menu_input__17q9X",verticalRangeHolder:"Menu_verticalRangeHolder__2TdXL",verticalRange:"Menu_verticalRange__3aZoM"}},13:function(e,t,a){e.exports={root:"PitchLabel_root__3-xxj",button:"PitchLabel_button__29U3k",small:"PitchLabel_small__3x-Zk"}},17:function(e,t,a){e.exports={root:"ChordLabel_root__U_GCi",button:"ChordLabel_button__3bTYZ"}},21:function(e,t,a){e.exports={root:"Display_root__ig8ld"}},22:function(e,t,a){e.exports={root:"TouchPad_root__22wzt"}},31:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),c=a(20),o=a.n(c),l=(a(31),a(5)),r=a(10),s=a(3),u=a(8),h=a.n(u),d=a(11),v=a(12),f=a(24),b=a(23),m=a(21),p=a.n(m),j=a(6),x=a.n(j);function g(e,t,a,n,i){var c=Math.cos(e),o=Math.sin(e),l=t-c*t-o*-a,r=a-o*t-c*a;i.call(n,c,o,-o,c,l,r)}var _=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("canvas"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.offsetWidth,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.offsetHeight,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.devicePixelRatio;Object(d.a)(this,e),this.resize=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.devicePixelRatio;if(!e||!a){var i=!!t._element.parentNode;e=i?t._element.offsetWidth:t._width,a=i?t._element.offsetHeight:t._height}t._devicePixelRatio=n,t._width=e,t._height=a,t._element.width=e*t._devicePixelRatio,t._element.height=a*t._devicePixelRatio,t._imageDataHandler=null,t._context.scale(t._devicePixelRatio,t._devicePixelRatio)},this.arc=function(e,a,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t._context.arc(e,a,n,i,c,o)},this.beginPath=function(){t._context.beginPath()},this.bezierCurveTo=function(){var e;(e=t._context).bezierCurveTo.apply(e,arguments)},this.clearRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.clearRect(e,a,n,i),t._imageDataHandler=null},this.clip=function(){var e;(e=t._context).clip.apply(e,arguments)},this.closePath=function(){t._context.closePath()},this.drawImage=function(a,n,i,c,o,l,r,s,u){var h=a instanceof e;"number"===typeof l?h?(n*=t._devicePixelRatio,i*=t._devicePixelRatio,c*=t._devicePixelRatio,o*=t._devicePixelRatio,t._context.drawImage(a.element,n,i,c,o,l,r,s,u)):t._context.drawImage(a,n,i,c,o,l,r,s,u):h?(c=c||a.width,o=o||a.height,t._drawImageDest(a.element,n,i,c,o)):t._drawImageDest(a,n,i,c,o),t._imageDataHandler=null},this._drawImageDest=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.width,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.height;t._context.drawImage(e,a,n,i,c)},this.fill=function(){var e;(e=t._context).fill.apply(e,arguments),t._imageDataHandler=null},this.fillRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.fillRect(e,a,n,i),t._imageDataHandler=null},this.lineTo=function(){var e;(e=t._context).lineTo.apply(e,arguments)},this.moveTo=function(){var e;(e=t._context).moveTo.apply(e,arguments)},this.quadraticCurveTo=function(){var e;(e=t._context).quadraticCurveTo.apply(e,arguments)},this.rect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.rect(e,a,n,i)},this.stroke=function(){var e;(e=t._context).stroke.apply(e,arguments),t._imageDataHandler=null},this.resetTransform=function(){t._context.resetTransform(),t._context.scale(t._devicePixelRatio,t._devicePixelRatio)},this.restore=function(){t._context.restore()},this.rotate=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5*t.width,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5*t.height;e&&g(e,a,n,t._context,t._context.transform)},this.save=function(){t._context.save()},this.setRotate=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5*t.width,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5*t.height;g(e,a,n,t._context,t.setTransform)},this.setTransform=function(e,a,n,i,c,o){e*=t._devicePixelRatio,a*=t._devicePixelRatio,n*=t._devicePixelRatio,i*=t._devicePixelRatio,c*=t._devicePixelRatio,o*=t._devicePixelRatio,t._context.setTransform(e,a,n,i,c,o)},this.setTranslate=function(e,a){t.setTransform(1,0,0,1,e,a)},this.translate=function(e,a){t._context.translate(e,a)},this.createImageData=function(e,a){return t._context.createImageData(e,a)},this._element=a,this._context=this._element.getContext("2d"),this.resize(n,i,c)}return Object(v.a)(e,[{key:"element",get:function(){return this._element}},{key:"height",get:function(){return this._height}},{key:"imageDataHandler",get:function(){if(!this._imageDataHandler)this._width,this._devicePixelRatio,this._height,this._devicePixelRatio;return this._imageDataHandler}},{key:"width",get:function(){return this._width}},{key:"fillStyle",set:function(e){this._context.fillStyle=e}},{key:"globalCompositeOperation",set:function(e){this._context.globalCompositeOperation=e}},{key:"globalAlpha",set:function(e){this._context.globalAlpha=e}},{key:"lineWidth",set:function(e){this._context.lineWidth=e}},{key:"strokeStyle",set:function(e){this._context.strokeStyle=e}}],[{key:"quadraticThrough",value:function(e){for(var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Path2D,i=e.length,c=0;c<i-1;c++)if(t=a||e[0],a=e[c+1],0===c)n.moveTo(t.x,t.y);else if(c<i-2){var o=(t.x+a.x)/2,l=(t.y+a.y)/2;n.quadraticCurveTo(t.x,t.y,o,l)}else n.quadraticCurveTo(t.x,t.y,a.x,a.y);return n}}]),e}(),O=a(4);function y(e){var t=function(e){return e*Math.PI/180}(-e),a=2*Math.PI,n=t+.5*Math.PI;return Object(O.modulo)(n,a)}function M(e){var t=function(e){return 180*e/Math.PI}(-e);return Object(O.modulo)(t+90,360)}var I=12,w=[32,64,128,256,512,1024,2048,4096,8192,16384];var N={415:"baroque",427:"classical",428:"classical",429:"classical",430:"classical",430.54:"scientific",432:"\u201cfrequency of the universe\u201d",435:"diapson normal",439:"new philharmonic",440:"stuttgart",452:"old philharmonic",466:"chorton",DEFAULT:440};var k=function(e,t){var a,n,i=(a=e,n=t,1200*Math.log2(n/a)%1200);return Math.abs(i-100)<1||Math.abs(i+1100)<1?[16,15]:Math.abs(i-1100)<1||Math.abs(i+100)<1?[15,16]:Math.abs(i-200)<1||Math.abs(i+1e3)<1?[9,8]:Math.abs(i-1e3)<1||Math.abs(i+200)<1?[8,9]:Math.abs(i-300)<1||Math.abs(i+900)<1?[5,3]:Math.abs(i-900)<1||Math.abs(i+300)<1?[3,5]:Math.abs(i-400)<1||Math.abs(i+800)<1?[5,4]:Math.abs(i-800)<1||Math.abs(i+400)<1?[4,5]:Math.abs(i-500)<1||Math.abs(i+700)<1?[3,2]:Math.abs(i-700)<1||Math.abs(i+500)<1?[2,3]:Math.abs(i-600)<1||Math.abs(i+600)<1?[13,9]:void 0},P=["A","A\u266f/B\u266d","B","C","C\u266f/D\u266d","D","D\u266f/E\u266d","E","F","F\u266f/G\u266d","G","G\u266f/A\u266d"],S=[{name:"I ionian (major)",chords:["I",null,"ii",null,"iii","IV",null,"V",null,"vi",null,"vii\xba"]},{name:"II dorian",chords:["i",null,"ii","III",null,"IV",null,"v",null,"vi\xba","VII",null]},{name:"III phrygian",chords:["i","II",null,"III",null,"iv",null,"v\xba","VI",null,"vii",null]},{name:"IV lydian",chords:["I",null,"II",null,"iii",null,"iv\xba ","V",null,"vi",null,"vii"]},{name:"V mixolydian",chords:["I",null,"ii",null,"iii\xba","IV",null,"v",null,"vi","VII",null]},{name:"VI aeolian (minor)",chords:["i",null,"ii\xba","III",null,"iv",null,"v","VI",null,"VII",null]},{name:"VII locrian",chords:["i\xba","II",null,"iii",null,"iv","V",null,"VI",null,"vii",null]},{name:"major pentatonic",chords:["I",null,"ii",null,"iii",null,null,"V",null,"vi",null,null]},{name:"minor pentatonic",chords:["i",null,null,"III",null,"iv",null,"v",null,null,"VII",null]},{name:"blues major",chords:["I",null,"ii",null,null,"IV",null,"v",null,"vi",null,null]},{name:"blues minor",chords:["i",null,null,"III",null,"iv",null,null,"VI",null,"vii",null]},{name:"egyptian",chords:["i",null,"ii",null,null,"IV",null,"v",null,null,"VII",null]}],T="sine",C="square",R="sawtooth",q="triangle",E=a(0);function H(e){return Math.atan2(-Math.sin(e),Math.cos(e))}var D=function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e))._rootNode=i.a.createRef(),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this._rootNode.current,t=this.props.diameter;this._root=new _(e),this._root.globalCompositeOperation="copy",this._buffer=new _(void 0,t,t),this._drawSlices(),this._root.drawImage(this._buffer)}},{key:"componentDidUpdate",value:function(e,t){if(e!==this.props){var a=this.props.diameter;e.diameter!==a&&(this._root.resize(a,a),this._buffer.resize(a,a)),this._root.clearRect(),this._buffer.clearRect(),this._drawSlices(),this._connectPitches(),this._root.drawImage(this._buffer)}}},{key:"render",value:function(){var e=this.props.className;return Object(E.jsx)("canvas",{className:x()(p.a.root,e),ref:this._rootNode})}},{key:"_drawSlices",value:function(){for(var e=this.props,t=e.activePitches,a=e.diameter,n=e.pitchSequence,i=e.mode,c=n.length,o=Math.PI/c,l=V(c),r=S[i].chords,s=0;s<c;s++){var u=n[s]/c*360,h=l[s],d=t.indexOf(s)>=0,v=y(u),f=!!r[s];A(this._buffer,h,a,v-o,v+o,d?1:.95,d?.12:.1,f)}}},{key:"_connectPitches",value:function(){for(var e=this.props,t=e.activePitches,a=e.baseFrequencies,n=e.diameter,i=e.pitchSequence,c=V(i.length),o=0;o<t.length;o++)for(var l=t[o],r=360/i.length*i.indexOf(l),s=a[i.indexOf(l)],u=o+1;u<t.length;u++){var h=t[u],d=360/i.length*i.indexOf(h),v=a[i.indexOf(h)],f=c[i.indexOf(l)],b=c[i.indexOf(h)];F(y(r),y(d),n,this._buffer,.4,s,v,f,b)}}}]),a}(i.a.Component);function A(e,t,a,n,i,c,o,l){var r=a/2,s=Object(O.modulo)(n,2*Math.PI)===Object(O.modulo)(i,2*Math.PI);if(e.beginPath(),e.fillStyle="rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"),s)e.arc(r,r,r*c,0,2*Math.PI);else{var u=Math.cos(n),h=Math.sin(n);e.moveTo(r+u*r*o,r+h*-r*o),e.lineTo(r+u*r*c,r+h*-r*c),e.arc(r,r,r*c,H(n),H(i),!0),u=Math.cos(i),h=Math.sin(i),e.moveTo(r+u*r*c,r+h*-r*c),e.lineTo(r+u*r*o,r+h*-r*o),e.arc(r,r,r*o,H(i),H(n),!1)}e.fill(),s&&(e.beginPath(),e.globalCompositeOperation="destination-out",e.arc(r,r,r*o,0,2*Math.PI),e.fill(),e.globalCompositeOperation="source-over")}function V(e){for(var t=[],a=360/e,n=0;n<e;n++)t.push(L(y(n*a)));return t}function L(e){e-=.5*Math.PI;var t=2*Math.PI/3,a=Math.cos(-e),n=(Math.sin(-e),Math.cos(-e-t)),i=(Math.sin(-e-t),Math.cos(-e+t));Math.sin(-e+t);return{r:Math.round(255*a*.5+127.5),g:Math.round(255*n*.5+127.5),b:Math.round(255*i*.5+127.5)}}function F(e,t,a,n,i,c,o,l,r){var s=a/2,u={x:s+Math.cos(e)*s*i,y:s+Math.sin(-e)*s*i},h={x:s+Math.cos(t)*s*i,y:s+Math.sin(-t)*s*i},d=k(c,o);if(d){n.lineWidth=1;var v=h.x-u.x,f=h.y-u.y,b=Math.sqrt(Math.pow(v,2)+Math.pow(f,2)),m=b/d[0]/2,p=b/d[1]/2;n.strokeStyle="rgb(".concat(l.r,", ").concat(l.g,", ").concat(l.b,")");for(var j=0;j<d[0];j++){n.beginPath();var x=u.x+v/d[0]*(j+.5),g=u.y+f/d[0]*(j+.5);n.arc(x,g,m,0,2*Math.PI),n.stroke()}n.strokeStyle="rgb(".concat(r.r,", ").concat(r.g,", ").concat(r.b,")");for(var _=0;_<d[1];_++){n.beginPath();var O=u.x+v/d[1]*(_+.5),y=u.y+f/d[1]*(_+.5);n.arc(O,y,p,0,2*Math.PI),n.stroke()}}n.globalCompositeOperation="source-over",n.strokeStyle="white",n.lineWidth=2,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(h.x,h.y),n.stroke()}var W=a(1),z=a.n(W);function B(e,t){var a=String(e);return 1===e?a+=" (chromatic)":e===t-1?a+=" (reverse chromatic)":t===I&&7===e&&(a+=" (circle of fifths)"),a}function U(e){var t=e.a4,a=e.setA4,n=e.eq,i=e.setEq,c=e.mode,o=e.setMode,r=e.oscillator,s=e.setOscillator,u=e.pitchSkip,h=e.setPitchSkip,d=e.semitones,v=e.setSemitones,f=e.transposition,b=e.setTransposition,m=e.pitchSkipOptions;function p(e){var t=e.target.value;s(t)}function j(e,t){var a=t.target.value,c=Object(l.a)(n);c[e]=a,i(c)}return Object(E.jsxs)("form",{className:z.a.root,children:[Object(E.jsxs)("div",{className:z.a.property,children:[Object(E.jsx)("h2",{className:z.a.title,children:"Oscillator"}),Object(E.jsxs)("label",{className:z.a.label,children:[Object(E.jsx)("input",{className:z.a.input,type:"radio",checked:r===T,value:T,onChange:p}),Object(E.jsx)("div",{className:z.a.labelText,children:T})]}),Object(E.jsxs)("label",{className:z.a.label,children:[Object(E.jsx)("input",{className:z.a.input,type:"radio",checked:r===C,value:C,onChange:p}),Object(E.jsx)("div",{className:z.a.labelText,children:C})]}),Object(E.jsxs)("label",{className:z.a.label,children:[Object(E.jsx)("input",{className:z.a.input,type:"radio",checked:r===R,value:R,onChange:p}),Object(E.jsx)("div",{className:z.a.labelText,children:R})]}),Object(E.jsxs)("label",{className:z.a.label,children:[Object(E.jsx)("input",{className:z.a.input,type:"radio",checked:r===q,value:q,onChange:p}),Object(E.jsx)("div",{className:z.a.labelText,children:q})]})]}),Object(E.jsxs)("div",{className:z.a.property,children:[Object(E.jsxs)("h2",{className:z.a.title,children:["EQ",Object(E.jsx)("button",{className:z.a.reset,onClick:function(){i([0,0,0,0,0,0,0,0,0,0])},children:"reset"})]}),Object(E.jsx)("div",{className:z.a.verticalRangeHolder,children:n.map((function(e,t){return Object(E.jsx)("input",{className:z.a.verticalRange,type:"range",min:"-1",max:.27,step:"0.01",value:e,onChange:j.bind(null,t)},t)}))})]}),Object(E.jsxs)("div",{className:z.a.property,children:[Object(E.jsxs)("h2",{className:z.a.title,children:["Semitones",Object(E.jsx)("button",{className:z.a.reset,onClick:function(){v(I)},children:"reset"})]}),Object(E.jsxs)("label",{className:x()(z.a.label,z.a.wide),children:[Object(E.jsx)("input",{className:z.a.input,type:"range",min:1,max:120,value:d,step:"1",onChange:function(e){var t=e.target.value;v(parseInt(t))}}),Object(E.jsx)("div",{className:z.a.labelText,children:d})]})]}),Object(E.jsxs)("div",{className:z.a.property,children:[Object(E.jsx)("h2",{className:z.a.title,children:"Transposition"}),P.map((function(e,t){return Object(E.jsxs)("label",{className:z.a.label,children:[Object(E.jsx)("input",{className:z.a.input,type:"radio",value:t,name:"transposition",checked:f===t,onChange:function(e){var t=e.target.value;b(parseInt(t))}}),Object(E.jsx)("div",{className:z.a.labelText,children:e})]},e)}))]}),Object(E.jsxs)("div",{className:z.a.property,children:[Object(E.jsx)("h2",{className:z.a.title,children:"Mode"}),S.map((function(e,t){return Object(E.jsxs)("label",{className:z.a.label,children:[Object(E.jsx)("input",{className:z.a.input,type:"radio",value:t,name:"mode",checked:c===t,onChange:function(e){var t=e.target.value;o(parseInt(t))}}),Object(E.jsx)("div",{className:z.a.labelText,children:e.name})]},e.name)}))]}),Object(E.jsxs)("div",{className:z.a.property,children:[Object(E.jsx)("h2",{className:z.a.title,children:"Pitch Skip"}),m.map((function(e){return Object(E.jsxs)("label",{className:z.a.label,children:[Object(E.jsx)("input",{className:z.a.input,type:"radio",value:e,name:"pitchSkip",checked:u===e,onChange:function(e){var t=e.target.value;h(parseInt(t))}}),Object(E.jsx)("div",{className:z.a.labelText,children:B(e,d)})]},e)}))]}),Object(E.jsxs)("div",{className:z.a.property,children:[Object(E.jsxs)("h2",{className:z.a.title,children:["A4",Object(E.jsx)("button",{className:z.a.reset,onClick:function(){a(N.DEFAULT)},children:"reset"})]}),Object(E.jsxs)("label",{className:x()(z.a.label,z.a.wide),children:[Object(E.jsx)("input",{className:z.a.input,type:"range",min:390,max:490,value:t,step:"1",onChange:function(e){var t=e.target.value;a(parseInt(t))}}),Object(E.jsxs)("div",{className:z.a.labelText,children:[t,N[t]&&" (".concat(N[t],")")]})]})]})]})}var Y=a(13),G=a.n(Y);function Z(e){var t=e.pitchNamesSorted,a=e.diameter,n=e.mode,i=t.length,c=S[n].chords;return Object(E.jsx)("div",{className:G.a.root,children:t.map((function(e,t){if(!c[t])return null;var n,o,l=360/i*t,r=e.length>1,s=-.475;return r?(n="translate(0%, -50%) rotate(".concat(l,"deg) translate(0%, 50%) translateY(").concat(a*s,"px) rotate(",90,"deg)"),o="0 50%"):(n="translate(-50%, 0) rotate(".concat(l,"deg) translateY(").concat(a*s,"px) "),o="50% 0"),Object(E.jsx)("div",{className:x()(G.a.button,r&&G.a.small),style:{transform:n,transformOrigin:o},children:e},t)}))})}var X=a(17),J=a.n(X);function Q(e){var t=e.chordNamesSorted,a=e.diameter,n=t.length;return Object(E.jsx)("div",{className:J.a.root,children:t.map((function(e,t){if(!e)return null;var i=360/n*t;return Object(E.jsx)("div",{className:J.a.button,style:{transform:"translate(-50%, -50%) rotate(".concat(i,"deg) translateY(").concat(-.22*a,"px)")},children:e},t)}))})}var K=a(22),$=a.n(K);function ee(e){var t=e.pitchSequence,a=e.callback,i=e.diameter,c=Object(n.useRef)(null);function o(e){var n=e.targetTouches;n||a([]);for(var o=c.current.getBoundingClientRect(),l=Math.PI/t.length,r=[],s=0;s<n.length;s++){var u=n[s],h=u.clientX,d=u.clientY,v=h-o.x-.5*i,f=-(d-o.y-.5*i);if(Math.sqrt(Math.pow(v,2)+Math.pow(f,2))<=i/2){var b=M(Object(O.modulo)(Math.atan2(f,v),2*Math.PI)-l),m=Math.floor(b/360*t.length);r.push(t[m])}}a(r)}return Object(E.jsx)("div",{ref:c,className:$.a.root,onTouchMove:function(e){o(e)},onTouchStart:function(e){o(e)},onTouchEnd:function(e){e.targetTouches,o(e)},onTouchCancel:function(e){o(e)}})}var te=a(25),ae=a(26);function ne(e){var t=e.component,a=void 0===t?"div":t,i=e.callback,c=Object(ae.a)(e,["component","callback"]),o=Object(n.useState)(!1),l=Object(s.a)(o,2),r=l[0];l[1];return Object(E.jsx)(a,Object(te.a)({onClick:r?null:function(){i()}},c))}var ie=function(e){for(var t=[1],a=2;a<e;a++)ce(e,a)&&t.push(a);return t};function ce(e,t){Object(l.a)(Array(e).keys());for(var a=[],n=0;n<e;n++){var i=n*t%e;if(void 0!==a[i])return!1;a[i]=i}return a}var oe,le,re,se,ue,he=function(e,t){return Object(l.a)(Array(e).keys()).map((function(a){var n=(a/e*I+t)%I,i=Math.floor(n),c=P[i],o=n%1;return o?"".concat(c).concat(String(Object(O.round)(o,.001)).slice(1,5)):c}))},de=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;return e*Math.pow(Math.pow(2,1/a),t)},ve=function(e,t){for(var a=[],n=0;n<e;n++){for(var i=de(t,n,e);i/2>20;)i/=2;a.push(i)}return a},fe=function(e,t){for(var a=[],n=0;n<e;n++)a.push(n*t%e);return a},be=function(e,t){return e.map((function(a,n){return e[n*t%e.length]}))};function me(e,t){re&&re.close(),re=new(window.AudioContext||window.webkitAudioContext),(se=re.createGain()).connect(re.destination),se.gain.value=.1,ue=se;for(var a=0;a<t.length;a++){var n=re.createBiquadFilter();0==a?n.type="lowshelf":a===t.length-1?n.type="highshelf":n.type="peaking",n.frequency.value=w[a],n.gain.value=40*t[a],n.connect(ue),ue=n}se.connect(ue),le=[],oe=e.map((function(e){return function(e){var t=[];for(;e<2e4;)t.push(e),e*=2;return t}(e)}))}function pe(e,t,a){le&&(t&&!le[e]?function(e,t){var a=[];le[e]=a;var n,i=Object(r.a)(oe[e]);try{for(i.s();!(n=i.n()).done;){var c=n.value,o=re.createOscillator();o.frequency.value=c,o.type=t,o.connect(ue),o.start(),a.push(o)}}catch(l){i.e(l)}finally{i.f()}}(e,a):!t&&le[e]&&function(e){var t,a=Object(r.a)(le[e]);try{for(a.s();!(t=a.n()).done;)t.value.stop()}catch(n){a.e(n)}finally{a.f()}le[e]=null}(e))}var je=a(18),xe=a.n(je),ge=a(14),_e={addEventListener:function(){},innerHeight:0,innerWidth:0,removeEventListener:function(){}};function Oe(){var e=xe.a.parse(window.location.search,{parseNumbers:!0,arrayFormat:"comma"});function t(t,a,i){Object(n.useEffect)((function(){function n(){window.history.pushState(null,null,"".concat(window.location.origin).concat(window.location.pathname,"?").concat(xe.a.stringify(e,{arrayFormat:"comma"})))}Object(ge.isEqual)(e[t],a)||(Object(ge.isEqual)(i,a)&&void 0!==e[t]?(delete e[t],n()):Object(ge.isEqual)(i,a)||(e[t]=a,n()))}),[a])}var a=Object(n.useState)(e.a4||N.DEFAULT),i=Object(s.a)(a,2),c=i[0],o=i[1];t("a4",c,N.DEFAULT);var u=Object(n.useState)(e.oscillator||T),d=Object(s.a)(u,2),v=d[0],f=d[1];t("oscillator",v,T);var b=Object(n.useState)(e.semitones||I),m=Object(s.a)(b,2),p=m[0],j=m[1];t("semitones",p,I);var x=Object(n.useState)(void 0!==e.transposition?e.transposition:3),g=Object(s.a)(x,2),_=g[0],O=g[1];t("transposition",_,3);var y=Object(n.useState)(he(p,_)),M=Object(s.a)(y,2),k=M[0],P=M[1];Object(n.useEffect)((function(){P(he(p,_))}),[p,_]);var C=Object(n.useState)(ie(p)),R=Object(s.a)(C,2),q=R[0],H=R[1];Object(n.useEffect)((function(){H(ie(p))}),[p]);var A=e.pitchSkip?e.pitchSkip:q[0],V=Object(n.useState)(A),L=Object(s.a)(V,2),F=L[0],W=L[1];Object(n.useEffect)((function(){q.indexOf(F)<0&&W(q[0])}),[q]),t("pitchSkip",F,A);var z,B=[],Y=Object(r.a)(w);try{for(Y.s();!(z=Y.n()).done;){z.value;B.push(0)}}catch(Ue){Y.e(Ue)}finally{Y.f()}var G=Object(n.useState)(e.eq||B),X=Object(s.a)(G,2),J=X[0],K=X[1];t("eq",J,B);var $=Object(n.useState)(de(c,_)),te=Object(s.a)($,2),ae=te[0],ce=te[1];Object(n.useEffect)((function(){ce(de(c,_))}),[_,c]);var oe=Object(n.useState)(ve(p,ae)),le=Object(s.a)(oe,2),re=le[0],se=le[1];Object(n.useEffect)((function(){se(ve(p,ae))}),[p,ae]);var ue=Object(n.useState)(fe(p,F)),je=Object(s.a)(ue,2),Oe=je[0],ye=je[1];Object(n.useEffect)((function(){ye(fe(p,F))}),[p,F]);var Me=Object(n.useState)(be(k,_)),Ie=Object(s.a)(Me,2),we=Ie[0],Ne=Ie[1];Object(n.useEffect)((function(){Ne(be(k,F))}),[k,F]);var ke=Object(n.useState)(e.mode||0),Pe=Object(s.a)(ke,2),Se=Pe[0],Te=Pe[1];t("mode",Se,0);var Ce=Object(n.useState)([]),Re=Object(s.a)(Ce,2),qe=Re[0],Ee=Re[1];Object(n.useEffect)((function(){var e=function(e,t){var a=S[t].chords,n=a.length;return a.map((function(t,i){var c=i/e*n%n;return c%1?null:a[c]}))}(p,Se);Ee(be(e,F))}),[p,F,Se]);var He=Object(n.useState)([]),De=Object(s.a)(He,2),Ae=De[0],Ve=De[1],Le=Math.min.apply(Math,Object(l.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!==typeof window?window:_e,t=Object(n.useState)(e.innerHeight),a=Object(s.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)(e.innerWidth),l=Object(s.a)(o,2),r=l[0],u=l[1];function h(){c(e.innerHeight),u(e.innerWidth)}return Object(n.useEffect)((function(){return e.addEventListener("resize",h),function(){e.removeEventListener("resize",h)}}),[]),[r,i]}())),Fe=Object(n.useState)(!1),We=Object(s.a)(Fe,2),ze=We[0],Be=We[1];return Object(E.jsxs)(ne,{className:h.a.root,callback:me.bind(null,re,J),children:[Object(E.jsx)("div",{className:h.a.contentHolder}),Object(E.jsxs)("div",{className:h.a.wheelHolder,style:{width:"".concat(Le,"px"),height:"".concat(Le,"px")},children:[Object(E.jsx)(D,{activePitches:Ae,baseFrequencies:re,diameter:Le,pitchSequence:Oe,mode:Se}),Object(E.jsx)(Z,{pitchNamesSorted:we,diameter:Le,mode:Se}),Object(E.jsx)(Q,{chordNamesSorted:qe,diameter:Le}),Object(E.jsx)(ee,{callback:function(e){for(var t=0;t<p;t++)e.indexOf(t)>=0?pe(t,!0,v):pe(t,!1,v);Ve(e)},diameter:Le,pitchSequence:Oe})]}),ze&&Object(E.jsx)("div",{className:h.a.menuHolder,children:Object(E.jsx)(U,{a4:c,setA4:o,eq:J,setEq:K,mode:Se,setMode:Te,oscillator:v,setOscillator:f,pitchSkip:F,setPitchSkip:W,semitones:p,setSemitones:j,transposition:_,setTransposition:O,pitchSkipOptions:q})}),Object(E.jsx)("button",{className:h.a.menuButton,onClick:function(){ze&&me(re,J),Be(!ze)},children:ze?"x":"menu"})]})}var ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,49)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),c(e),o(e)}))};o.a.render(Object(E.jsx)(i.a.StrictMode,{children:Object(E.jsx)(Oe,{})}),document.getElementById("root")),ye()},8:function(e,t,a){e.exports={root:"App_root__nWMuC",menuHolder:"App_menuHolder__243kY",menuButton:"App_menuButton__3IBp4",contentHolder:"App_contentHolder__3Zpi7",wheelHolder:"App_wheelHolder__1I76D"}}},[[48,1,2]]]);
//# sourceMappingURL=main.e9adf869.chunk.js.map