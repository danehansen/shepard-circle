(this["webpackJsonpshepard-wheel"]=this["webpackJsonpshepard-wheel"]||[]).push([[0],{11:function(e,t,n){e.exports={root:"App_root__nWMuC",menuHolder:"App_menuHolder__243kY",menuButton:"App_menuButton__3IBp4",contentHolder:"App_contentHolder__3Zpi7",wheelHolder:"App_wheelHolder__1I76D"}},12:function(e,t,n){e.exports={root:"PitchLabel_root__3-xxj",button:"PitchLabel_button__29U3k",hasAccidental:"PitchLabel_hasAccidental__xtPck",small:"PitchLabel_small__3x-Zk",deemphesized:"PitchLabel_deemphesized__Gd1GB"}},17:function(e,t,n){e.exports={root:"ChordLabel_root__U_GCi",button:"ChordLabel_button__3bTYZ"}},2:function(e,t,n){e.exports={root:"Menu_root__3QA5H",property:"Menu_property__qoOWz",title:"Menu_title__tE_9H",reset:"Menu_reset__uN5da",columns:"Menu_columns__3o8dK",label:"Menu_label__3hKMT",wide:"Menu_wide__2sfIP",labelText:"Menu_labelText__2uoMn",valueText:"Menu_valueText__37XmB",input:"Menu_input__17q9X",verticalRangeHolder:"Menu_verticalRangeHolder__2TdXL",verticalRange:"Menu_verticalRange__3aZoM"}},22:function(e,t,n){e.exports={root:"Display_root__ig8ld"}},25:function(e,t,n){e.exports={root:"Input_root__2EB5Y"}},26:function(e,t,n){e.exports={root:"Button_root__1mUtC"}},27:function(e,t,n){e.exports={root:"TouchPad_root__22wzt"}},32:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(21),o=n.n(c),r=(n(32),n(6)),l=n(3),s=n(11),u=n.n(s),h=n(22),d=n.n(h),v=n(5),f=n.n(v),b=n(23),m=n(24);function j(e,t,n,a,i){var c=Math.cos(e),o=Math.sin(e),r=t-c*t-o*-n,l=n-o*t-c*n;i.call(a,c,o,-o,c,r,l)}var p=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("canvas"),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.offsetWidth,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.offsetHeight,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.devicePixelRatio;Object(b.a)(this,e),this.resize=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.devicePixelRatio;if(!e||!n){var i=!!t._element.parentNode;e=i?t._element.offsetWidth:t._width,n=i?t._element.offsetHeight:t._height}t._devicePixelRatio=a,t._width=e,t._height=n,t._element.width=e*t._devicePixelRatio,t._element.height=n*t._devicePixelRatio,t._imageDataHandler=null,t._context.scale(t._devicePixelRatio,t._devicePixelRatio)},this.arc=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t._context.arc(e,n,a,i,c,o)},this.beginPath=function(){t._context.beginPath()},this.bezierCurveTo=function(){var e;(e=t._context).bezierCurveTo.apply(e,arguments)},this.clearRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.clearRect(e,n,a,i),t._imageDataHandler=null},this.clip=function(){var e;(e=t._context).clip.apply(e,arguments)},this.closePath=function(){t._context.closePath()},this.drawImage=function(n,a,i,c,o,r,l,s,u){var h=n instanceof e;"number"===typeof r?h?(a*=t._devicePixelRatio,i*=t._devicePixelRatio,c*=t._devicePixelRatio,o*=t._devicePixelRatio,t._context.drawImage(n.element,a,i,c,o,r,l,s,u)):t._context.drawImage(n,a,i,c,o,r,l,s,u):h?(c=c||n.width,o=o||n.height,t._drawImageDest(n.element,a,i,c,o)):t._drawImageDest(n,a,i,c,o),t._imageDataHandler=null},this._drawImageDest=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.width,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.height;t._context.drawImage(e,n,a,i,c)},this.fill=function(){var e;(e=t._context).fill.apply(e,arguments),t._imageDataHandler=null},this.fillRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.fillRect(e,n,a,i),t._imageDataHandler=null},this.lineTo=function(){var e;(e=t._context).lineTo.apply(e,arguments)},this.moveTo=function(){var e;(e=t._context).moveTo.apply(e,arguments)},this.quadraticCurveTo=function(){var e;(e=t._context).quadraticCurveTo.apply(e,arguments)},this.rect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.height;t._context.rect(e,n,a,i)},this.stroke=function(){var e;(e=t._context).stroke.apply(e,arguments),t._imageDataHandler=null},this.resetTransform=function(){t._context.resetTransform(),t._context.scale(t._devicePixelRatio,t._devicePixelRatio)},this.restore=function(){t._context.restore()},this.rotate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5*t.width,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5*t.height;e&&j(e,n,a,t._context,t._context.transform)},this.save=function(){t._context.save()},this.setRotate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5*t.width,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5*t.height;j(e,n,a,t._context,t.setTransform)},this.setTransform=function(e,n,a,i,c,o){e*=t._devicePixelRatio,n*=t._devicePixelRatio,a*=t._devicePixelRatio,i*=t._devicePixelRatio,c*=t._devicePixelRatio,o*=t._devicePixelRatio,t._context.setTransform(e,n,a,i,c,o)},this.setTranslate=function(e,n){t.setTransform(1,0,0,1,e,n)},this.translate=function(e,n){t._context.translate(e,n)},this.createImageData=function(e,n){return t._context.createImageData(e,n)},this._element=n,this._context=this._element.getContext("2d"),this.resize(a,i,c)}return Object(m.a)(e,[{key:"element",get:function(){return this._element}},{key:"height",get:function(){return this._height}},{key:"imageDataHandler",get:function(){return this._imageDataHandler}},{key:"width",get:function(){return this._width}},{key:"fillStyle",set:function(e){this._context.fillStyle=e}},{key:"globalCompositeOperation",set:function(e){this._context.globalCompositeOperation=e}},{key:"globalAlpha",set:function(e){this._context.globalAlpha=e}},{key:"lineWidth",set:function(e){this._context.lineWidth=e}},{key:"strokeStyle",set:function(e){this._context.strokeStyle=e}}],[{key:"quadraticThrough",value:function(e){for(var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Path2D,i=e.length,c=0;c<i-1;c++)if(t=n||e[0],n=e[c+1],0===c)a.moveTo(t.x,t.y);else if(c<i-2){var o=(t.x+n.x)/2,r=(t.y+n.y)/2;a.quadraticCurveTo(t.x,t.y,o,r)}else a.quadraticCurveTo(t.x,t.y,n.x,n.y);return a}}]),e}(),O=n(4);function x(e){var t=2*Math.PI,n=function(e){return e*Math.PI/180}(-e)+.25*t;return Object(O.modulo)(n,t)}function g(e){var t=function(e){return 180*e/Math.PI}(-e);return Object(O.modulo)(t+90,360)}var _,y=n(10),M=2e4,I=12,N=440,w=100,S=1200,k=(_={415:"baroque",427:"classical",428:"classical",429:"classical",430:"classical",430.54:"scientific",432:"\u201cfrequency of the universe\u201d",435:"diapson normal",439:"new philharmonic"},Object(y.a)(_,N,"stuttgart"),Object(y.a)(_,452,"old philharmonic"),Object(y.a)(_,466,"chorton"),_);function P(e,t){return e*Math.pow(Math.pow(2,.08333333333333333),t/w)}for(var T=360,C=2*Math.PI,E=[],R=2;R<M;)(R*=2)>=20&&R<=M&&E.push(R);var q=[{name:"(none)",chords:[],useModeForNaming:1},{name:"I ionian (major)",chords:["I",null,"ii",null,"iii","IV",null,"V",null,"vi",null,"vii\xba"]},{name:"II dorian",chords:["i",null,"ii","III",null,"IV",null,"v",null,"vi\xba","VII",null]},{name:"III phrygian",chords:["i","II",null,"III",null,"iv",null,"v\xba","VI",null,"vii",null]},{name:"IV lydian",chords:["I",null,"II",null,"iii",null,"iv\xba ","V",null,"vi",null,"vii"]},{name:"V mixolydian",chords:["I",null,"ii",null,"iii\xba","IV",null,"v",null,"vi","VII",null]},{name:"VI aeolian (minor)",chords:["i",null,"ii\xba","III",null,"iv",null,"v","VI",null,"VII",null]},{name:"VII locrian",chords:["i\xba","II",null,"iii",null,"iv","V",null,"VI",null,"vii",null]},{name:"major pentatonic",chords:["I",null,"ii",null,"iii",null,null,"V",null,"vi",null,null],useModeForNaming:1},{name:"minor pentatonic",chords:["i",null,null,"III",null,"iv",null,"v",null,null,"VII",null],useModeForNaming:6},{name:"blues major",chords:["I",null,"ii",null,null,"IV",null,"v",null,"vi",null,null],useModeForNaming:1},{name:"blues minor",chords:["i",null,null,"III",null,"iv",null,null,"VI",null,"vii",null],useModeForNaming:6}],A={SINE:"sine",SQUARE:"square",TRIANGLE:"triangle"};function H(e){e-=.25*C;var t=C/3,n=Math.cos(-e),a=Math.cos(-e-t),i=Math.cos(-e+t);return{r:Math.round(255*n*.5+127.5),g:Math.round(255*a*.5+127.5),b:Math.round(255*i*.5+127.5)}}function D(e){return Math.atan2(-Math.sin(e),Math.cos(e))}function V(e,t,n,a,i,c,o,r){var l=n/2,s=Object(O.modulo)(a,C)===Object(O.modulo)(i,C);if(e.beginPath(),e.fillStyle="rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"),s)e.arc(l,l,l*c,0,C);else{var u=Math.cos(a),h=Math.sin(a);e.moveTo(l+u*l*o,l+h*-l*o),e.lineTo(l+u*l*c,l+h*-l*c),e.arc(l,l,l*c,D(a),D(i),!0),u=Math.cos(i),h=Math.sin(i),e.moveTo(l+u*l*c,l+h*-l*c),e.lineTo(l+u*l*o,l+h*-l*o),e.arc(l,l,l*o,D(i),D(a),!1)}e.fill(),s&&(e.beginPath(),e.globalCompositeOperation="destination-out",e.arc(l,l,l*o,0,C),e.fill(),e.globalCompositeOperation="source-over")}function F(e,t){var n,a,i=(n=e,a=t,S*Math.log2(a/n)%S);return Math.abs(i-100)<1||Math.abs(i+1100)<1?[16,15]:Math.abs(i-1100)<1||Math.abs(i+100)<1?[15,16]:Math.abs(i-200)<1||Math.abs(i+1e3)<1?[9,8]:Math.abs(i-1e3)<1||Math.abs(i+200)<1?[8,9]:Math.abs(i-300)<1||Math.abs(i+900)<1?[5,3]:Math.abs(i-900)<1||Math.abs(i+300)<1?[3,5]:Math.abs(i-400)<1||Math.abs(i+800)<1?[5,4]:Math.abs(i-800)<1||Math.abs(i+400)<1?[4,5]:Math.abs(i-500)<1||Math.abs(i+700)<1?[3,2]:Math.abs(i-700)<1||Math.abs(i+500)<1?[2,3]:Math.abs(i-600)<1||Math.abs(i+600)<1?[13,9]:void 0}function B(e,t,n,a,i,c,o,r,l){var s=n/2,u={x:s+Math.cos(e)*s*i,y:s+Math.sin(-e)*s*i},h={x:s+Math.cos(t)*s*i,y:s+Math.sin(-t)*s*i},d=F(c,o);if(d){a.lineWidth=1;var v=h.x-u.x,f=h.y-u.y,b=Math.sqrt(Math.pow(v,2)+Math.pow(f,2)),m=b/d[0]/2,j=b/d[1]/2;a.strokeStyle="rgb(".concat(r.r,", ").concat(r.g,", ").concat(r.b,")");for(var p=0;p<d[0];p++){a.beginPath();var O=u.x+v/d[0]*(p+.5),x=u.y+f/d[0]*(p+.5);a.arc(O,x,m,0,C),a.stroke()}a.strokeStyle="rgb(".concat(l.r,", ").concat(l.g,", ").concat(l.b,")");for(var g=0;g<d[1];g++){a.beginPath();var _=u.x+v/d[1]*(g+.5),y=u.y+f/d[1]*(g+.5);a.arc(_,y,j,0,C),a.stroke()}}a.globalCompositeOperation="source-over",a.strokeStyle="white",a.lineWidth=2,a.beginPath(),a.moveTo(u.x,u.y),a.lineTo(h.x,h.y),a.stroke()}var L=n(0);function z(e){var t=e.className,n=e.activePitches,i=e.baseFrequencies,c=e.diameter,o=e.mode,r=e.pitchSequence,s=Object(a.useRef)(),u=Object(a.useState)(null),h=Object(l.a)(u,2),v=h[0],b=h[1],m=Object(a.useState)(null),j=Object(l.a)(m,2),O=j[0],g=j[1];return Object(a.useEffect)((function(){s.current&&(b(new p(s.current)),g(new p(void 0,c,c)))}),[s,c]),Object(a.useEffect)((function(){v&&(v.resize(c,c),O.resize(c,c))}),[v,O,c]),Object(a.useEffect)((function(){if(v){var e=r.length,t=function(e){for(var t=[],n=T/e,a=0;a<e;a++)t.push(H(x(a*n)));return t}(e);v.clearRect(),O.clearRect(),function(){for(var a=C/e/2,i=q[o].chords,l=0;l<e;l++){var s=r[l]/e*T,u=t[l],h=n.indexOf(l)>=0,d=x(s);i[l];V(O,u,c,d-a,d+a,h?1:.95,h?.12:.1)}}(),function(){for(var a=0;a<n.length;a++)for(var o=n[a],l=T/e*r.indexOf(o),s=i[r.indexOf(o)],u=a+1;u<n.length;u++){var h=n[u],d=T/e*r.indexOf(h),v=i[r.indexOf(h)],f=t[o],b=t[h];B(x(l),x(d),c,O,.4,s,v,f,b)}}(),v.drawImage(O)}}),[n,i,c,o,r,O,v]),Object(L.jsx)("canvas",{className:f()(d.a.root,t),ref:s})}var W=n(2),G=n.n(W),Y=n(8),U=n(9),X=n(25),Z=n.n(X);function Q(e){var t=e.className,n=Object(U.a)(e,["className"]);return Object(L.jsx)("input",Object(Y.a)({className:f()(Z.a.root,t)},n))}var J=n(26),K=n.n(J);function $(e){var t=e.className,n=Object(U.a)(e,["className"]);return Object(L.jsx)("button",Object(Y.a)({className:f()(K.a.root,t)},n))}function ee(e,t){if(1===e)return"clockwise";if(e===t-1)return"counterclockwise";if(t%I===0){if(7===e)return"circle of fifths";if(e===t-7)return"circle of fourths"}return"skip ".concat(e-1)}function te(e){var t=e.a4,n=e.setA4,a=e.allPitchNames,i=e.eq,c=e.setEq,o=e.mode,l=e.setMode,s=e.oscillator,u=e.setOscillator,h=e.pitchSkip,d=e.setPitchSkip,v=e.semitones,b=e.setSemitones,m=e.transposition,j=e.setTransposition,p=e.pitchSkipOptions;function O(e){var t=e.target.value;u(t)}function x(e,t){var n=t.target.value,a=Object(r.a)(i);a[e]=n,c(a)}return Object(L.jsxs)("form",{className:G.a.root,children:[Object(L.jsxs)("div",{className:G.a.property,children:[Object(L.jsx)("h2",{className:G.a.title,children:"Oscillator"}),Object.values(A).map((function(e){return Object(L.jsxs)("label",{className:G.a.label,children:[Object(L.jsx)(Q,{className:G.a.input,type:"radio",checked:s===e,value:e,onChange:O}),Object(L.jsx)("div",{className:G.a.labelText,children:e})]},e)}))]}),Object(L.jsxs)("div",{className:G.a.property,children:[Object(L.jsxs)("h2",{className:G.a.title,children:["EQ",Object(L.jsx)($,{className:G.a.reset,onClick:function(e){e.preventDefault(),c(E.map((function(){return 0})))},children:"reset"})]}),Object(L.jsx)("div",{className:G.a.verticalRangeHolder,children:i.map((function(e,t){return Object(L.jsx)(Q,{className:G.a.verticalRange,type:"range",min:"-1",max:.27,step:"0.01",value:e,onChange:x.bind(null,t)},t)}))})]}),Object(L.jsxs)("div",{className:G.a.property,children:[Object(L.jsx)("h2",{className:G.a.title,children:"Transposition"}),Object(L.jsx)("div",{className:G.a.columns,children:a.map((function(e,t){return Object(L.jsxs)("label",{className:G.a.label,children:[Object(L.jsx)(Q,{className:G.a.input,type:"radio",value:t*w,name:"transposition",checked:m===t*w,onChange:function(e){var t=e.target.value;j(parseInt(t))}}),Object(L.jsx)("div",{className:G.a.labelText,children:e})]},e)}))})]}),Object(L.jsxs)("div",{className:G.a.property,children:[Object(L.jsx)("h2",{className:G.a.title,children:"Mode"}),Object(L.jsx)("div",{className:G.a.columns,children:q.map((function(e,t){return Object(L.jsxs)("label",{className:G.a.label,children:[Object(L.jsx)(Q,{className:G.a.input,type:"radio",value:t,name:"mode",checked:o===t,onChange:function(e){var t=e.target.value;l(parseInt(t))}}),Object(L.jsx)("div",{className:G.a.labelText,children:e.name})]},e.name)}))})]}),Object(L.jsxs)("div",{className:G.a.property,children:[Object(L.jsxs)("h2",{className:G.a.title,children:["Semitones",Object(L.jsx)($,{className:G.a.reset,onClick:function(e){e.preventDefault(),b(I)},children:"reset"}),Object(L.jsx)("div",{className:G.a.valueText,children:v})]}),Object(L.jsx)("label",{className:f()(G.a.label,G.a.wide),children:Object(L.jsx)(Q,{className:G.a.input,type:"range",min:1,max:240,value:v,onChange:function(e){var t=e.target.value;b(parseInt(t))}})})]}),Object(L.jsxs)("div",{className:G.a.property,children:[Object(L.jsxs)("h2",{className:G.a.title,children:["A4",Object(L.jsx)($,{className:G.a.reset,onClick:function(e){e.preventDefault(),n(N)},children:"reset"}),Object(L.jsxs)("div",{className:G.a.valueText,children:[t,k[t]&&" (".concat(k[t],")")]})]}),Object(L.jsx)("label",{className:f()(G.a.label,G.a.wide),children:Object(L.jsx)(Q,{className:G.a.input,type:"range",min:Math.min.apply(Math,Object(r.a)(Object.keys(k))),max:Math.max.apply(Math,Object(r.a)(Object.keys(k))),value:t,onChange:function(e){var t=e.target.value;n(parseInt(t))}})})]}),Object(L.jsxs)("div",{className:G.a.property,children:[Object(L.jsx)("h2",{className:G.a.title,children:"Organize"}),Object(L.jsx)("div",{className:G.a.columns,children:p.map((function(e){return Object(L.jsxs)("label",{className:G.a.label,children:[Object(L.jsx)(Q,{className:G.a.input,type:"radio",value:e,name:"pitchSkip",checked:h===e,onChange:function(e){var t=e.target.value;d(parseInt(t))}}),Object(L.jsx)("div",{className:G.a.labelText,children:ee(e,v)})]},e)}))})]})]})}var ne=n(12),ae=n.n(ne);function ie(e){var t=e.pitchNamesSorted,n=e.diameter,a=e.chordNamesSorted,i=t.length;return Object(L.jsx)("div",{className:ae.a.root,children:t.map((function(e,t){var c,o,r=T/i*t,l=2===(null===e||void 0===e?void 0:e.length)||3===(null===e||void 0===e?void 0:e.length),s=(null===e||void 0===e?void 0:e.length)>3,u=-.475;return s?(c="translate(0%, -50%) rotate(".concat(r,"deg) translate(0%, 50%) translateY(").concat(n*u,"px) rotate(",90,"deg)"),o="0 50%"):(o="50% 0",c=l?"translate(-50%, 0) rotate(".concat(r,"deg) translateY(").concat(-.45599999999999996*n,"px) "):"translate(-50%, 0) rotate(".concat(r,"deg) translateY(").concat(n*u,"px) ")),Object(L.jsx)("div",{className:f()(ae.a.button,s&&ae.a.small,l&&ae.a.hasAccidental,!a[t]&&ae.a.deemphesized),style:{transform:c,transformOrigin:o},children:e},t)}))})}var ce=n(17),oe=n.n(ce);function re(e){var t=e.chordNamesSorted,n=e.diameter,a=t.length;return Object(L.jsx)("div",{className:oe.a.root,children:t.map((function(e,t){if(!e)return null;var i=T/a*t;return Object(L.jsx)("div",{className:oe.a.button,style:{transform:"translate(-50%, -50%) rotate(".concat(i,"deg) translateY(").concat(-.22*n,"px)")},children:e},t)}))})}var le=n(27),se=n.n(le);function ue(e){var t=e.pitchSequence,n=e.callback,i=e.diameter,c=Object(a.useRef)();function o(e){var a=e.targetTouches;a||n([]);for(var o=c.current.getBoundingClientRect(),r=C/t.length/2,l=[],s=0;s<a.length;s++){var u=a[s],h=u.clientX,d=u.clientY,v=h-o.x-.5*i,f=-(d-o.y-.5*i);if(Math.sqrt(Math.pow(v,2)+Math.pow(f,2))<=i/2){var b=g(Object(O.modulo)(Math.atan2(f,v),C)-r),m=Math.floor(b/T*t.length);l.push(t[m])}}n(l)}return Object(L.jsx)("div",{ref:c,className:se.a.root,onTouchMove:function(e){o(e)},onTouchStart:function(e){o(e)},onTouchEnd:function(e){o(e)},onTouchCancel:function(e){o(e)}})}function he(e){var t=e.component,n=void 0===t?"div":t,i=e.callback,c=Object(U.a)(e,["component","callback"]),o=Object(a.useState)(!1),r=Object(l.a)(o,2),s=r[0],u=r[1];return Object(L.jsx)(n,Object(Y.a)({onClick:s?null:function(){u(!0),i()}},c))}function de(e){for(var t=[1],n=2;n<e;n++)ve(e,n)&&t.push(n);return t}function ve(e,t){for(var n=[],a=0;a<e;a++){var i=a*t%e;if(void 0!==n[i])return!1;n[i]=i}return n}var fe=["A",["A\u266f","B\u266d"],"B","C",["C\u266f","D\u266d"],"D",["D\u266f","E\u266d"],"E","F",["F\u266f","G\u266d"],"G",["G\u266f","A\u266d"]];function be(e){return Object(O.modulo)(e,I)}function me(e,t){var n=q[t].useModeForNaming;if("number"===typeof n)return me(e,n);var a=[];return function(n){for(var a=["A","B","C","D","E","F","G"],i=q[t].chords,c=0,o=0;o<I;o++){i[be(o-e/w)]&&(n[o]=a[c],c++)}}(a),function(e){for(var t=function(t){var n=fe[t],a=fe[be(t-1)],i=fe[be(t+1)];if(e[t])if(Array.isArray(n)){var c=n.findIndex((function(n){return n.indexOf(e[t])>=0}));e[t]=n[c]}else a===e[t]?e[t]="".concat(e[t],"\u266f"):i===e[t]&&(e[t]="".concat(e[t],"\u266d"))},n=0;n<I;n++)t(n)}(a),function(e){for(var t=e.join("").indexOf("\u266d")>=0,n=e.join("").indexOf("\u266f")>=0,a=0;a<12;a++)if(!e[a]){var i=fe[a];Array.isArray(i)?e[a]=t&&!n?i[1]:i[0]:e[a]=i}}(a),a}function je(e,t,n){return Object(r.a)(Array(e).keys()).map((function(a){var i=(a/e*I+t/w)%I,c=Math.floor(i),o=n[c],r=i%1;return r?"".concat(o).concat(String(Object(O.round)(r,.001)).slice(1,5)):o}))}function pe(e,t){for(var n=[],a=0;a<e;a++){for(var i=P(t,a*w*(I/e));i/2>20;)i/=2;n.push(i)}return n}function Oe(e,t){for(var n=[],a=0;a<e;a++)n.push(a*t%e);return n}function xe(e,t){return e.map((function(n,a){return e[a*t%e.length]}))}var ge,_e,ye,Me,Ie,Ne=n(18);function we(e,t){ye&&ye.close(),ye=new(window.AudioContext||window.webkitAudioContext),(Me=ye.createGain()).connect(ye.destination),Me.gain.value=.1,Ie=Me;for(var n=0;n<t.length;n++){var a=ye.createBiquadFilter();0===n?a.type="lowshelf":n===t.length-1?a.type="highshelf":a.type="peaking",a.frequency.value=E[n],a.gain.value=40*t[n],a.connect(Ie),Ie=a}Me.connect(Ie),_e=[],ge=e.map((function(e){return function(e){var t=[];for(;e<M;)t.push(e),e*=2;return t}(e)}))}function Se(e,t,n){_e&&(t&&!_e[e]?function(e,t){var n=[];_e[e]=n;var a,i=Object(Ne.a)(ge[e]);try{for(i.s();!(a=i.n()).done;){var c=a.value,o=ye.createOscillator();o.frequency.value=c,o.type=t,o.connect(Ie),o.start(),n.push(o)}}catch(r){i.e(r)}finally{i.f()}}(e,n):!t&&_e[e]&&function(e){var t,n=Object(Ne.a)(_e[e]);try{for(n.s();!(t=n.n()).done;)t.value.stop()}catch(a){n.e(a)}finally{n.f()}_e[e]=null}(e))}var ke=n(19),Pe=n.n(ke),Te=n(14),Ce="undefined"!==typeof window?window:null,Ee={addEventListener:function(){},innerHeight:0,innerWidth:0,removeEventListener:function(){}};function Re(){var e=Pe.a.parse(window.location.search,{parseNumbers:!0,arrayFormat:"comma"});function t(t,n,i){Object(a.useEffect)((function(){function a(){window.history.replaceState(null,null,"".concat(window.location.origin).concat(window.location.pathname,"?").concat(Pe.a.stringify(e,{arrayFormat:"comma"})))}Object(Te.isEqual)(e[t],n)||(Object(Te.isEqual)(i,n)&&void 0!==e[t]?(delete e[t],a()):Object(Te.isEqual)(i,n)||(e[t]=n,a()))}),[n,t,i])}var n=Object(a.useState)(e.a4||N),i=Object(l.a)(n,2),c=i[0],o=i[1];t("a4",c,N);var s=Object(a.useState)(e.oscillator||A.SINE),h=Object(l.a)(s,2),d=h[0],v=h[1];t("oscillator",d,A.SINE);var f=Object(a.useState)(e.semitones||I),b=Object(l.a)(f,2),m=b[0],j=b[1];t("semitones",m,I);var p=Object(a.useState)(void 0!==e.transposition?e.transposition:300),O=Object(l.a)(p,2),x=O[0],g=O[1];t("transposition",x,300);var _=Object(a.useState)(e.mode||0),y=Object(l.a)(_,2),M=y[0],w=y[1];t("mode",M,0);var S=Object(a.useState)(me(x,M)),k=Object(l.a)(S,2),T=k[0],C=k[1];Object(a.useEffect)((function(){C(me(x,M))}),[M,x]);var R=Object(a.useState)(je(m,x,T)),H=Object(l.a)(R,2),D=H[0],V=H[1];Object(a.useEffect)((function(){V(je(m,x,T))}),[m,x,T]);var F=Object(a.useState)(de(m)),B=Object(l.a)(F,2),W=B[0],G=B[1];Object(a.useEffect)((function(){G(de(m))}),[m]);var Y=e.pitchSkip?e.pitchSkip:W[0],U=Object(a.useState)(Y),X=Object(l.a)(U,2),Z=X[0],Q=X[1];Object(a.useEffect)((function(){W.indexOf(Z)<0&&Q(W[0])}),[W,Z]),t("pitchSkip",Z,Y);for(var J=[],K=0;K<E.length;K++)J.push(0);var ee=Object(a.useState)(e.eq||E.map((function(){return 0}))),ne=Object(l.a)(ee,2),ae=ne[0],ce=ne[1];t("eq",ae,E.map((function(){return 0})));var oe=Object(a.useState)(P(c,x)),le=Object(l.a)(oe,2),se=le[0],ve=le[1];Object(a.useEffect)((function(){ve(P(c,x))}),[x,c]);var fe=Object(a.useState)(pe(m,se)),be=Object(l.a)(fe,2),ge=be[0],_e=be[1];Object(a.useEffect)((function(){_e(pe(m,se))}),[m,se]);var ye=Object(a.useState)(Oe(m,Z)),Me=Object(l.a)(ye,2),Ie=Me[0],Ne=Me[1];Object(a.useEffect)((function(){Ne(Oe(m,Z))}),[m,Z]);var ke=Object(a.useState)(xe(D,Z)),Re=Object(l.a)(ke,2),qe=Re[0],Ae=Re[1];Object(a.useEffect)((function(){Ae(xe(D,Z))}),[D,Z]);var He=Object(a.useState)([]),De=Object(l.a)(He,2),Ve=De[0],Fe=De[1];Object(a.useEffect)((function(){Fe(function(e,t,n){for(var a=Object(r.a)(q[t].chords),i=[],c=0;c<e;c++){var o=c/e*a.length;i.push(a[o]||null)}return i.map((function(t,a){return i[a*n%e]}))}(m,M,Z))}),[m,Z,M]);var Be=Object(a.useState)([]),Le=Object(l.a)(Be,2),ze=Le[0],We=Le[1],Ge=Math.min.apply(Math,Object(r.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce||Ee,t=Object(a.useState)(e.innerHeight),n=Object(l.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(e.innerWidth),r=Object(l.a)(o,2),s=r[0],u=r[1];return Object(a.useEffect)((function(){function t(){c(e.innerHeight),u(e.innerWidth)}return e.addEventListener("resize",t),function(){e.removeEventListener("resize",t)}}),[e]),[s,i]}())),Ye=Object(a.useState)(!1),Ue=Object(l.a)(Ye,2),Xe=Ue[0],Ze=Ue[1];return Object(L.jsxs)(he,{className:u.a.root,callback:we.bind(null,ge,ae),children:[Object(L.jsx)("div",{className:u.a.contentHolder}),Object(L.jsxs)("div",{className:u.a.wheelHolder,style:{width:"".concat(Ge,"px"),height:"".concat(Ge,"px")},children:[Object(L.jsx)(z,{activePitches:ze,baseFrequencies:ge,diameter:Ge,pitchSequence:Ie,mode:M}),Object(L.jsx)(ie,{pitchNamesSorted:qe,diameter:Ge,chordNamesSorted:Ve}),Object(L.jsx)(re,{chordNamesSorted:Ve,diameter:Ge}),Object(L.jsx)(ue,{callback:function(e){for(var t=[].concat(Object(r.a)(e),[]),n=0;n<m;n++)t.indexOf(n)>=0?Se(n,!0,d):Se(n,!1,d);We(t)},diameter:Ge,pitchSequence:Ie})]}),Xe&&Object(L.jsx)("div",{className:u.a.menuHolder,children:Object(L.jsx)(te,{a4:c,setA4:o,allPitchNames:T,eq:ae,setEq:ce,mode:M,setMode:w,oscillator:d,setOscillator:v,pitchSkip:Z,setPitchSkip:Q,semitones:m,setSemitones:j,transposition:x,setTransposition:g,pitchSkipOptions:W})}),Object(L.jsx)($,{className:u.a.menuButton,onClick:function(){Xe&&we(ge,ae),Ze(!Xe)},children:Xe?"x":"menu"})]})}var qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};o.a.render(Object(L.jsx)(i.a.StrictMode,{children:Object(L.jsx)(Re,{})}),document.getElementById("root")),qe()}},[[49,1,2]]]);
//# sourceMappingURL=main.02b53610.chunk.js.map